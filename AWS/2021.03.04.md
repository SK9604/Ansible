# 8ì¥ ELB, ASG, Cloudwatch

## ëª¨ë‹ˆí„°ë§

### ëª¨ë‹ˆí„°ë§ ì´ìœ 

ìš´ì˜ ìƒíƒœ, ë¦¬ì†ŒìŠ¤ í™œìš©, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥, ë³´ì•ˆ ê°ì‚¬

```
ì˜ˆë°© ì •ë¹„ (ì´ìƒ ì§•í›„) â†’ ì‚¬ì „ ì²˜ë¦¬
íƒ„ë ¥ì„± ëª¨ë‹ˆí„°ë§? ìš´ì˜ ì¤‘ì¸ ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸(ì• í”Œë¦¬ì¼€ì´ì…˜) ìƒíƒœë¥¼ í™•ì¸
ì‚¬ìš©ë¥  ì²´í¬?
	ã„´ ì˜¨í”„ë ˆë¯¸ìŠ¤(íšŒì‚¬ì˜ ìš´ì˜ ì„œë²„) ì‚¬ìš©ë¥ ì´ 10~20%
	ã„´ AWS í´ë¼ìš°ë“œ: ë¹„ìš© íš¨ìœ¨ì ì¸ ì‚¬ìš©ë¥  ì²´í¬ê°€ ê°€ëŠ¥
```

### ë¹„ìš©ì„ ì´í•´í•˜ê¸° ìœ„í•œ ëª¨ë‹ˆí„°ë§

ë³´ë‹¤ ìœ ì—°í•˜ê³  íƒ„ë ¥ì ì¸ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ë ¤ë©´ ì–´ë””ì—ì„œ ë¹„ìš©ì„ ì§€ì¶œí•˜ê³  ìˆëŠ”ì§€ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.

AWS Cost Explorer

ë³´ê³ ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤, 13ê°œì›” ë°ì´í„°, ì˜ˆì¸¡ì„ ì œê³µí•©ë‹ˆë‹¤, ì§€ì¶œ íŒ¨í„´ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.

ë°ì´í„° ë¶„ì„? ê³¼ê±° ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ í˜„ì¬ë¥¼ ë¶„ì„í•˜ê³ , ë¯¸ë˜ë¥¼ ì¶”ì •(ì˜ˆì¸¡)í•œë‹¤.

### Amazon CloudWatchë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§

- ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì§€í‘œ(metric)ë¥¼ ìˆ˜ì§‘í•˜ê³  ì¶”ì í•©ë‹ˆë‹¤.
- ì¡°ê±´ì„ ê¸°ë°˜ìœ¼ë¡œ ê²½ë³´ë¥¼ ìƒì„±í•˜ê³  ì•Œë¦¼ì„ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„¤ì •í•œ ê·œì¹™ì— ë”°ë¼ ë¦¬ì†ŒìŠ¤ì˜ ìš©ëŸ‰ ë³€í™”ë¥¼ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### CloudWatchê°€ ì‘ë‹µí•˜ëŠ” ë°©ì‹

- ì§€í‘œ : ì§€í‘œë°ì´í„°ëŠ” 15ê°œì›” ë™ì•ˆ ë³´ê´€ë©ë‹ˆë‹¤.
- ë¡œê·¸ : ì†ŒìŠ¤ì˜ˆì œ, VPC íë¦„ ë¡œê·¸, Route 53, ALB ì•¡ì„¸ìŠ¤ ë¡œê·¸
- ê²½ë³´ : CPU ì‚¬ìš©ë¥ ì´ 5ë¶„ë™ì•ˆ 550%ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš°.

    ```
    ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—… íŠ¸ë¦¬ê±°(ëŒ€ì‘):
    - ê°œë°œ íŒ€ì— ë©”ì‹œì§€ ìƒì„±(SNS)
    - ë¡œë“œë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (ASG)
    ```

- ì´ë²¤íŠ¸

    ì½˜ì†” ë¡œê·¸ì¸, Auto Scaling ìƒíƒœ ë³€ê²½, EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ ë³€ê²½, EBS ë³¼ë¥¨ ìƒì„±, ëª¨ë“  API í˜¸ì¶œ

- ê·œì¹™

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d73b8a6d-3225-4a96-9971-09f838881c93/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d73b8a6d-3225-4a96-9971-09f838881c93/Untitled.png)

- ëŒ€ìƒ

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/142d8c4e-8c26-4ff6-a6f9-e8cd1c243587/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/142d8c4e-8c26-4ff6-a6f9-e8cd1c243587/Untitled.png)

### CloudWatch ì‹œê°í™”

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/937ae530-54e7-4625-9014-3d9aad0954c3/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/937ae530-54e7-4625-9014-3d9aad0954c3/Untitled.png)

### ì‚¬ìš©ì ëª¨ë‹ˆí„°ë§ AWS CloudTrail

ê°ì‚¬ê°€ í¬ì»¤ìŠ¤ (Audit)

CloudTrailì€ ê³„ì •ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ëª¨ë“  API í˜¸ì¶œì„ ê¸°ë¡í•˜ê³ , ì§€ì •ëœ Amazon S3 ë²„í‚·ì— ë¡œê·¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bfc976e9-768a-4f83-be04-24875af76837/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bfc976e9-768a-4f83-be04-24875af76837/Untitled.png)

### ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§ VPC íë¦„ ë¡œê·¸

- VPCì˜ íŠ¸ë˜í”½ íë¦„ ì„¸ë¶€ ì •ë³´ë¥¼ ìº¡ì²˜í•©ë‹ˆë‹¤.
- í—ˆìš©, ê±°ë¶€ ë˜ëŠ” ëª¨ë“  íŠ¸ë˜í”½
- VPC, ì„œë¸Œë„· ë° ENIì— ëŒ€í•´ í™œì„±í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë¡œê·¸ëŠ” CloudWatch Logsë¡œ ê²Œì‹œë©ë‹ˆë‹¤.
- ë¡œê·¸ëŠ” Amazon S3ë¡œ ê²Œì‹œë©ë‹ˆë‹¤.

## íƒ„ë ¥ì„± í™•ë³´ ë° ì•„í‚¤í…ì²˜ í™•ì¥

### Auto Scalingì„ ì‚¬ìš©í•˜ì—¬ íƒ„ë ¥ì„± ì œê³µ

- ì§€ì •ëœ ì¡°ê±´ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘ ë˜ëŠ” ì¢…ë£Œí•©ë‹ˆë‹¤.
- ì§€ì •ëœ ê²½ìš°, ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¡œë“œ ë°¸ëŸ°ì„œì— ìë™ìœ¼ë¡œ ë“±ë¡í•©ë‹ˆë‹¤.
- ì—¬ëŸ¬ ê°€ìš© ì˜ì—­ì— ê±¸ì³ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Auto Scaling ë°©ë²•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/74726444-5dc3-44e0-acea-992c1e5cbac8/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/74726444-5dc3-44e0-acea-992c1e5cbac8/Untitled.png)

### Auto Scaling ë°©ë²•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/59fc3f00-167e-4ac5-8bca-32bb072c61af/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/59fc3f00-167e-4ac5-8bca-32bb072c61af/Untitled.png)

### Auto Scaling ìµœì†Œ ìš©ëŸ‰

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/10b20c73-8ce8-41e3-bbac-1bd9cb9ee2c5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/10b20c73-8ce8-41e3-bbac-1bd9cb9ee2c5/Untitled.png)

ë¡œì§€ìŠ¤í‹± : íšŒì‚¬ì˜ ì—…ë¬´ íŒŒì•…. íšŒê·€ ë¶„ì„

### Auto Scaling ê³ ë ¤ ì‚¬í•­

- ì—¬ëŸ¬ ìœ í˜•ì˜ autoscalingì„ ê²°í•©í•´ì•¼ í•  ìˆ˜ ìˆìŒ
- ë‹¨ê³„ ì¡°ì •ì„ ì‚¬ìš©í•˜ì—¬ ì•„í‚¤í…ì²˜ë¥¼ ì¡°ì •í•˜ë ¤ë©´ ë” ë§ì€ ì‘ì—…ì´ í•„ìš”í•  ìˆ˜ ìˆìŒ
- ì¼ë¶€ ì•„í‚¤í…ì²˜ì˜ ê²½ìš° ë‘˜ ì´ìƒì˜ ì§€í‘œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°ì •í•´ì•¼ í•¨(ì˜ˆ: CPU ì™¸ì˜ ì¶”ê°€ ì§€í‘œ ì‚¬ìš©)
- ì¡°ê¸°ì— ë¹ ë¥´ê²Œ í™•ì¥í•˜ê³  ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì²œì²œíˆ ì¶•ì†Œ
- ìˆ˜ëª… ì£¼ê¸° í›„í¬ ì‚¬ìš©

    Auto Scalingì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘ ë˜ëŠ” ì¢…ë£Œí•  ë•Œ ì‚¬ìš©ì ì§€ì • ì‘ì—… ìˆ˜í–‰

    ```
    ì£¼ì˜: ì¸ìŠ¤í„´ìŠ¤ê°€ ì‹œì‘ í›„ ì™„ì „íˆ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœê°€ ë˜ë ¤ë©´ ëª‡ ë¶„ ì •ë„ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ```

## ë°ì´í„°ë² ì´ìŠ¤ ì¡°ì •

### ì½ê¸° ì „ìš© ë³µì œë³¸ìœ¼ë¡œ ìˆ˜í‰ì  ì¡°ì •: Amazon RDS

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e77d3242-a96e-4686-ad64-bd531ce72786/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e77d3242-a96e-4686-ad64-bd531ce72786/Untitled.png)

- ì½ê¸° ì¤‘ì‹¬ì˜ ì›Œí¬ë¡œë“œ ì²˜ë¦¬ë¥¼ ìœ„í•´ ìˆ˜í‰ì ìœ¼ë¡œ í™•ì¥
- ë³´ê³ ì„œ ì˜¤í”„ë¡œë“œ
- ì£¼ì˜ ì‚¬í•­:
    - ë³µì œëŠ” ë¹„ë™ê¸°ì‹
    - í˜„ì¬ Amazon Aurora, MySQL, MariaDB, PostgreSQL, Oracleì—ì„œ ì‚¬ìš© ê°€ëŠ¥

### Amazon RDS ì¡°ì •: ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¡°ì •

- ë…¸ë“œë¥¼ ìˆ˜ì§ì ìœ¼ë¡œ í™•ì¥ ë˜ëŠ” ì¶•ì†Œ
- microë¶€í„° 24xlargeì— ì´ë¥´ëŠ” ëª¨ë“  í¬ê¸° ì§€ì›
- ë‹¤ìš´íƒ€ì„ ì—†ì´ ìˆ˜ì§ì ìœ¼ë¡œ ì¡°ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥
- Auto Scalingì„ í†µí•œ ëª¨ë‹ˆí„°ë§

### Aurora DB í´ëŸ¬ìŠ¤í„°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a52743bb-3b91-4523-9dea-89d013962ccd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a52743bb-3b91-4523-9dea-89d013962ccd/Untitled.png)

í´ëŸ¬ìŠ¤í„° ë³¼ë¥¨ : share volume

```
ìœ í‹¸ë¦¬í‹° ì»´í“¨íŒ… -> .... -> cloud
```

### Aurora Serverless

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/af188107-2164-4147-bed9-c8ef8b8df904/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/af188107-2164-4147-bed9-c8ef8b8df904/Untitled.png)

### ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©ìœ¼ë¡œ Amazon RDS ì“°ê¸° ì¡°ì •

ìƒ¤ë”© = íŒŒí‹°ì…˜

ìƒ¤ë”©ì´ ì—†ìœ¼ë©´ ëª¨ë“  ë°ì´í„°ê°€ í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì— ìƒì£¼í•©ë‹ˆë‹¤.

ì˜ˆ: í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì„±ì´ A~Zì— ì†í•˜ëŠ” ì‚¬ìš©ì

ìƒ¤ë”©ì€ ë°ì´í„°ë¥¼ í° ì²­í¬(ìƒ¤ë“œ)ë¡œ ë¶„í• í•©ë‹ˆë‹¤.

ì˜ˆ: í•˜ë‚˜ì˜ ë°ì´í…ë² ì´ìŠ¤ì—ì„œ ì„±ì´ A~Mì— ì†í•˜ëŠ” ì‚¬ìš©ì, ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ N~Zì— ì†í•˜ëŠ” ì‚¬ìš©ì

ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì— ìƒ¤ë”©ì€ ë›°ì–´ë‚œ ì„±ëŠ¥ê³¼ ë†’ì€ ìš´ì˜ íš¨ìœ¨ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0dbf4f7a-5a14-4073-8024-7e200bd4eef6/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0dbf4f7a-5a14-4073-8024-7e200bd4eef6/Untitled.png)

### DynamoDB - ë‘ ê°€ì§€ ì¡°ì •

```
DynamoDBëŠ” VPC ë°–ì— ìˆëŠ” ì„œë¹„ìŠ¤ì´ë‹¤.
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d107768d-1514-4030-ae79-64d4479b4fe8/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d107768d-1514-4030-ae79-64d4479b4fe8/Untitled.png)

### DynamoDBì˜ Auto Scaling ì‹¤í–‰

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d4b79189-7de5-4a3c-9192-84420ef98cb6/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d4b79189-7de5-4a3c-9192-84420ef98cb6/Untitled.png)

### DynamoDB ì ì‘í˜• ìš©ëŸ‰

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d2ef31e7-6f09-4cbf-b8a2-c0230fc41c77/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d2ef31e7-6f09-4cbf-b8a2-c0230fc41c77/Untitled.png)

# ì‹¤ìŠµ

- **ê°œìš”**

```
Ubuntu_EC2 + ELB + RDS
(web, php)
```

ë‹¨! ELBì—ì„œë§Œ ì›¹ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ë„ë¡ ë³´ì•ˆê·¸ë£¹ ì¬ì„¤ì •! (EC2 *2 ì—ì„œëŠ” í¼ë¸”ë¦­ IPì¼ì§€ë¼ë„ ì ‘ê·¼ ì°¨ë‹¨!)

- ì‹¤ìŠµ
- ìº¡ì²˜
- ìƒˆë¡œìš´ EC2 ìƒì„±

    Ubuntu 18.04 ë²„ì „

    ë„¤ì„ íƒœê·¸ ì¶”ê°€

    ìƒˆ ë³´ì•ˆ ê·¸ë£¹ ìƒì„±

    ê¸°ì¡´ í‚¤ ì‚¬ìš©

- PuTTY ì—°ê²°

    ë¡œê·¸ì¸ ì•„ì´ë”” : ubuntu

    ```
    $ cat /etc/os-release
    NAME="Ubuntu"
    VERSION="18.04.5 LTS (Bionic Beaver)"
    ID=ubuntu
    ID_LIKE=debian
    PRETTY_NAME="Ubuntu 18.04.5 LTS"
    VERSION_ID="18.04"
    HOME_URL="https://www.ubuntu.com/"
    SUPPORT_URL="https://help.ubuntu.com/"
    BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
    PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
    VERSION_CODENAME=bionic
    UBUNTU_CODENAME=bionic
    ```

- PuTTY í™˜ê²½

    ```
    $ sudo su -
    # apt-get update
    # apt-get -y install apache2 php php-mysql mysql-client
    # exit
    logout
    ```

    ```
    sudoëŠ” Substitute User Doë¼ëŠ” ëœ»
    ```

- chromeì—ì„œ ì•„íŒŒì¹˜ ë¸Œë¼ìš°ì§• í™•ì¸
- index.html ìˆ˜ì • í›„ ë‹¤ì‹œ ë¸Œë¼ìš°ì§• í™•ì¸

    ```
    $ cd /var/www/html/
    $ sudo vi index.html
    <h1> Good morning everyone~ <h1>
    ```

- ë³´ì•ˆê·¸ë£¹ ì„¤ì •

    mysql-prod ë°ì´í„°ë² ì´ìŠ¤ì˜ ë³´ì•ˆê·œì¹™ì¸ rds-sgì— phpapp-sgë¥¼ ì¸ë°”ìš´ë“œë¡œ ì¶”ê°€

- db ì ‘ê·¼

    ```
    $ mysql -u myadmin -p -h mysql-prod.cap4qohols82.ap-northeast-2.rds.amazonaws.com awsdb
    Enter password: (password#123)
    Reading table information for completion of table and column names
    You can turn off this feature to get a quicker startup with -A

    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 17
    Server version: 8.0.20 Source distribution

    Copyright (c) 2000, 2021, Oracle and/or its affiliates.

    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.

    Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

    mysql> show databases;
    +--------------------+
    | Database           |
    +--------------------+
    | aws_empdb          |
    | awsdb              |
    | information_schema |
    | mysql              |
    | performance_schema |
    | sys                |
    +--------------------+
    6 rows in set (0.00 sec)
    ```

- index.php ì‘ì„± í›„ ë¸Œë¼ìš°ì € "ip"/index.php ì°½ í™•ì¸

    ```
    $ sudo vi /var/www/html/index.php
    <?php
            $mysql_hostname = 'mysql-prod.cap4qohols82.ap-northeast-2.rds.amazonaws.com';
            $mysql_username = 'myadmin';
            $mysql_password = 'password#123';
            $mysql_database = 'awsdb';

    $connect = mysqli_connect($mysql_hostname, $mysql_username, $mysql_password, $mysql_database);

            if(!$connect){
                    echo '[connection failed] : '.mysql_error().'';
                    die('MySQL connect failed.');
            } else {
                    echo '[First EC2-WEB to MySQL Server Connect Success! SK KIM!]';
            }

    ?>
    $ sudo su -
    # systemctl restart apache2.service
    # curl locaalhost:80/index.php
    [First EC2-WEB to MySQL Server Connect Success! SK KIM!]
    ```

- EC2 ì´ë¯¸ì§€ ìƒì„±

    ì¸ìŠ¤í„´ìŠ¤ ìš°í´ë¦­

    ì´ë¯¸ì§€ ë° í…œí”Œë¦¿

    ì´ë¯¸ì§€ ìƒì„±

    ì´ë¯¸ì§€ ì´ë¦„ : phpapp

    ì´ë¯¸ì§€ ì„¤ëª… : php application ami

    ì´ë¯¸ì§€ ìƒì„±

- AMI í™•ì¸

    AMI ìš°í´ë¦­ â†’ ì‹œì‘í•˜ê¸°

    ë³´ì•ˆê·¸ë£¹ : phpapp-sgë¡œ ì„ íƒ

    ë³´ì•ˆí‚¤ ê¸°ì¡´ í‚¤ ì‚¬ìš©

- ì¸ìŠ¤í„´ìŠ¤ í™•ì¸

    ê¸°ì¡´ php-app ì´ë¦„ php-app1ìœ¼ë¡œ ìˆ˜ì •

    ìƒˆë¡œ ìƒê¸´ ì¸ìŠ¤í„´ìŠ¤ php-app2ë¡œ ì´ë¦„ ìˆ˜ì •

- ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ PuTTY ì—°ê²° í›„ index.php íŒŒì¼ ìˆ˜ì •

    ```
    $ sudo vi /var/www/html/index.php
    <?php
            $mysql_hostname = 'mysql-prod.cap4qohols82.ap-northeast-2.rds.amazonaws.com';
            $mysql_username = 'myadmin';
            $mysql_password = 'password#123';
            $mysql_database = 'awsdb';

    $connect = mysqli_connect($mysql_hostname, $mysql_username, $mysql_password, $mysql_database);

            if(!$connect){
                    echo '[connection failed] : '.mysql_error().'';
                    die('MySQL connect failed.');
            } else {
                    echo '[SECOND EC2-WEB to MySQL Server Connect Success! SK KIM!]';
            }

    ?>
    $ curl localhost:80/index.php
    [SECOND EC2-WEB to MySQL Server Connect Success! SK KIM!]
    ```

- ë¡œë“œë°¸ëŸ°ì„œ ì„¤ì •

    ìƒˆë¡œìš´ ë¡œë“œë°¸ëŸ°ì„œ ìƒì„±

    í´ë˜ì‹ ë¡œë“œë°¸ëŸ°ì„œ

    ë¡œë“œë°¸ëŸ°ì„œ ì •ì˜ â†’ ì´ë¦„: phpapp-clb â†’ ë‹¤ìŒ

    ë³´ì•ˆê·¸ë£¹ í• ë‹¹ : phpapp-sg ì„ íƒ

    ìƒíƒœ ê²€ì‚¬ êµ¬ì„± í•‘ ê²½ë¡œ: index.php

    EC2 ì¸ìŠ¤í„´ìŠ¤ì— php-app1,2 ì„ íƒ

    ì™„ë£Œ

    DNS ì´ë¦„ í™•ì¸

- ê° ì£¼ì†Œë“¤ì˜ index.php í™•ì¸

    PHP-APP1ì˜ í¼ë¸”ë¦­ ipv4ì£¼ì†Œ/index.php â†’ First

    PHP-APP2ì˜ í¼ë¸”ë¦­ ipv4ì£¼ì†Œ/index.php â†’ Second

    phpapp-clbì˜ DNSì´ë¦„/index.php â†’ ìƒˆë¡œê³ ì¹¨ í•  ë•Œë§ˆë‹¤ First/Second ë²ˆê°ˆì•„ ë°”ë€œ

- í˜„ì¬ ë¡œë“œë°¸ëŸ°ì„œ, EC2ì—ì„œ ëª¨ë‘ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤!

    ì´ë¥¼ ELBì—ì„œë§Œ ì ‘ê·¼ì´ ë˜ë„ë¡ ë‚˜ë¨¸ì§€ ì ‘ê·¼ì€ ë§‰ëŠ” ì‘ì—…ì„ í•  ì˜ˆì •

- phpapp-sg ì¸ë°”ìš´ë“œ ê·œì¹™ ìˆ˜ì •

    EC2 PHP-APP1ê³¼ 2ì˜ í”„ë¼ì´ë¹— IPv4 ì£¼ì†ŒëŠ” ëª¨ë‘ 172.31.0.0/16ì´ë‹¤

    ë”°ë¼ì„œ ë³´ì•ˆê·¸ë£¹ phpapp-sgì˜ ì¸ë°”ìš´ë“œ ê·œì¹™ì—

    HTTP, HTTPSì— 0.0.0.0ì„ ì‚­ì œí•˜ê³  172.31.0.0/16ìœ¼ë¡œ ì„¤ì •í•œë‹¤.

- ìƒˆë¡œìš´ ë³´ì•ˆ ê·¸ë£¹ ìƒì„±

    phpapp-elb-sg

    ì¸ë°”ìš´ë“œ ê·œì¹™

    HTTP - 0.0.0.0

    HTTPS - 0.0.0.0

    ë¡œë“œë°¸ëŸ°ì„œ ë³´ì•ˆê·¸ë£¹ phpapp-elb-sgë¡œ ë³€ê²½

- ê° ì£¼ì†Œë¡œ ì ‘ê·¼ í™•ì¸

    EC2 PHP-APP1 ë¡œ ì ‘ê·¼ ë¶ˆê°€

    EC2 PHP-APP2 ë¡œ ì ‘ê·¼ ë¶ˆê°€

    ELBë¡œ ì ‘ê·¼ ê°€ëŠ¥

# ìë™í™”(Automation)

```
9ì¥ : IaC: ì½”ë“œë¡œì„œì˜ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ -> CloudFormation -> stack (ì½”ë“œë¡œ ì„¤ì •) -> ì‹¤í–‰
11ì¥ : serverless
12ì¥ : microservice (docker)
```

ì•„í‚¤í…ì²˜ ì¸¡ë©´ì—ì„œì˜ í•„ìš”ì„±

ì§€ì†ì  ì„±ì¥ì„ ìœ„í•´ì„œëŠ” ìë™í™”ë¥¼ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤. ì¡°ì§ì— ìˆëŠ” ë‹¤ì–‘í•œ ì•„í‚¤í…ì²˜ë¥¼ ì¼ê´€ë˜ê²Œ ë°°í¬, ê´€ë¦¬, ì—…ë°ì´íŠ¸í•  ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.

**ëª¨ë“ˆ ê°œìš”**

- ìë™í™”ê°€ í•„ìš”í•œ ì´ìœ 
- ì¸í”„ë¼ ìë™í™”
- ë°°í¬ ìë™í™”

```
ìë™   Vs.  ììœ¨
ìë™: í”„ë¡œê·¸ë˜ë° ëœ ëŒ€ë¡œë§Œ ì‘ë™í•˜ëŠ” ê²ƒ
ììœ¨: ìŠ¤ìŠ¤ë¡œê°€ ë‹¤ìŒ íŒ¨í„´ì„ ì˜ˆìƒí•´ì„œ ë§Œë“¤ì–´ê°€ëŠ” ê²ƒ

ì§€ê¸ˆ ì‹œëŒ€ëŠ” ìë™ -> ììœ¨ ë„˜ì–´ê°€ëŠ” ì‹œëŒ€
```

## ìë™í™”í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?

### ìë™í™”ê°€ ì—†ëŠ” ê²½ìš°

```
ì‚¬ëŒì´ ê´€ë¦¬í•  ë•Œì˜ ë¬¸ì œì  : ì‹¤ìˆ˜, ì‘ì—…ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦°ë‹¤
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4a9e304-816e-416d-8462-08c0dbfc1180/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4a9e304-816e-416d-8462-08c0dbfc1180/Untitled.png)

### ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ì˜ ìœ„í—˜

- í™•ì¥ ë¶ˆê°€
- ë²„ì „ ì œì–´ ì—†ìŒ
- ê°ì‚¬ ë‚´ì—­ ë¶€ì¡±
- ì¼ê´€ì„± ì—†ëŠ” ë°ì´í„° ê´€ë¦¬

ì ˆëŒ€ì ì¸ê±´ ì•„ë‹ˆë‹¤!

### ì¼ë°˜ì ìœ¼ë¡œ

í”„ë¡œë•ì…˜ í™˜ê²¨ì—ì„œ ë­”ê°€ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš°, ìœ„í—˜ì´ ë”°ë¦…ë‹ˆë‹¤. 

ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ëŠ” ë³´ìƒ ì—†ëŠ” ìœ„í—˜ì…ë‹ˆë‹¤.

## ì¸í”„ë¼ ìë™í™”(IaC)

### AWS CloudFormation

AWS ì¸í”„ë¼ë¥¼ ì„¤ëª…í•˜ëŠ” ê³µí†µ ì–¸ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì„¤ëª…ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ìë™í™”ëœ ë°©ì‹ìœ¼ë¡œ ìƒì„±í•˜ê³  êµ¬ì¶•í•©ë‹ˆë‹¤.

```
Ansibleê³¼ì˜ ì°¨ì´ì 
- Ansibleì€ ë¦¬ì†ŒìŠ¤ êµ¬ì„±ì„ ë„˜ì–´ì„œ ì„œë²„ ìš´ì˜ê¹Œì§€ ìë™í™” -> DevOpsì— ë” ê°€ê¹Œì›€.
- CloudFormationì€ codeë¡œ ë¦¬ì†ŒìŠ¤ êµ¬ì„±ë§Œ ìˆ˜í–‰ -> IaC (AWSëŠ” APIê¸°ë°˜ì´ê¸° ë•Œë¬¸)
```

```
í•œ íšŒì‚¬ê°€ ê°œë°œìë“¤ì´ ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ë° ê°œë°œ í™˜ê²¨ì— ì¦‰ì‹œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë„ë¡ í…ŒìŠ¤íŠ¸ í”Œë«í¼ì„ AWSë¡œ ì´ì „í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
íšŒì‚¬ì˜ ì£¼ìš” ìš”êµ¬ ì‚¬í•­ì€ ì‰½ê²Œ ì¬í˜„ ê°€ëŠ¥í•˜ê³  êµì²´ ê°€ëŠ¥í•œ í™˜ê²½ì„ ë§Œã„·ë“œëŠ” ê²ƒì…ë‹ˆë‹¤. íšŒì‚¬ì˜ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?
```

### ì–´ë–»ê²Œ ì‘ë™í•©ë‹ˆê¹Œ?

AWS CloudFormation í…œí”Œë¦¿

- ìƒì„±í•  ë¦¬ì†ŒìŠ¤ë¥¼ ì„¤ëª…í•˜ëŠ” JSON/YAML í˜•ì‹ íŒŒì¼
- ì†ŒìŠ¤ ì½”ë“œë¡œ ì·¨ê¸‰: ë¦¬í¬ì§€í† ë¦¬ì— ì €ì¥
- ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°

```
YAML ì½”ë“œ : ë“¤ì—¬ì“°ê¸° ì£¼ì˜
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d10bad60-ab24-4228-abb0-1013344bf9a7/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d10bad60-ab24-4228-abb0-1013344bf9a7/Untitled.png)

```
pycharm : íŒŒì´ì¬ ê°œë°œ ë„êµ¬ ì¶”ì²œ
```

### AWS CloudFormation Designer ì‚¬ìš©

- AWS CloudFormation

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c389622f-399d-482a-87dd-5c929e8f3777/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c389622f-399d-482a-87dd-5c929e8f3777/Untitled.png)

### ì‹¤ìŠµ

- ìº¡ì²˜

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9939dde3-a999-4cf9-9666-df76ef062062/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9939dde3-a999-4cf9-9666-df76ef062062/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7eb70c1b-c65f-4d3f-bb43-6e919c45c83b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7eb70c1b-c65f-4d3f-bb43-6e919c45c83b/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cb4f184b-1bff-44a5-abfd-1e2c87b17ef0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cb4f184b-1bff-44a5-abfd-1e2c87b17ef0/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4e01d7ac-11ec-41da-9ae2-881ce25a5707/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4e01d7ac-11ec-41da-9ae2-881ce25a5707/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/599c1832-e1ca-420d-bbdb-a125d63624e5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/599c1832-e1ca-420d-bbdb-a125d63624e5/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39e2c5a7-f138-4d4b-ac7a-84d6980cdf52/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39e2c5a7-f138-4d4b-ac7a-84d6980cdf52/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1326a4f2-76e1-4743-9d50-a22a0f18e8ae/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1326a4f2-76e1-4743-9d50-a22a0f18e8ae/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aad174be-3185-4979-aa7d-48b05e2640da/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aad174be-3185-4979-aa7d-48b05e2640da/Untitled.png)

AWS Console â†’ AWS CloudFormation ì ‘ì†

```
S3_sample_template.yaml íŒŒì¼ ì €ì¥
============================================================
AWSTemplateFormatVersioin: 2010-09-09
Description: 'This is a S3 template for cloudformatioin'
Resources:
  MYCFBUCKET:
    Type: AWS::S3::Bucket
    Properties: 
      AccessControl: PublicRead
Outputs:
  BucketName:
    Value: MYCFBUCKET
```

ìŠ¤íƒ ìƒì„± â†’ ì¤€ë¹„ëœ í…œí”Œë¦¿ â†’ í…œí”Œë¦¿ íŒŒì¼ ì—…ë¡œë“œ â†’ íŒŒì¼ ì„ íƒ â†’ S3_sample_template.yaml íŒŒì¼ ì—…ë¡œë“œ

ìŠ¤íƒ ì´ë¦„ : my-cf-bucket â†’ ë„¤ì„ íƒœê·¸ â†’ ì„¤ì • ì™„ë£Œ â†’ S3 ë²„í‚· í™•ì¸ â†’ my-cf-bucketì´ ìˆìŒì„ í™•ì¸

ê¸°ë³¸ì ìœ¼ë¡œ ìŠ¤íƒì„ ì‚­ì œ í•  ì‹œ ë²„í‚·ë„ ê°™ì´ ì‚­ì œ ëœë‹¤.

```
S3_Retain_template.yaml íŒŒì¼ ì €ì¥
============================================================
AWSTemplateFormatVersion: 2010-09-09
Description: 'This is a S3 template for cloudformatioin'
Resources:
  MYCFBUCKET:
    Type: AWS::S3::Bucket
    DeletionPolicy: Retain
    Properties: 
      AccessControl: PublicRead
Outputs:
  BucketName:
    Value: MYCFBUCKET
```

DeletionPolicy: Retain ì˜µì…˜ì„ ì¤Œìœ¼ë¡œì„œ ìŠ¤íƒì„ ì‚­ì œí•´ë„ ë²„í‚·ì´ ì‚­ì œë˜ì§€ ì•Šë„ë¡ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.

ìƒˆë¡œ ìŠ¤íƒ ìƒì„± â†’ S3_Retain_template.yaml íŒŒì¼ë¡œ ìƒì„± â†’ ìŠ¤íƒì„ ì‚­ì œí•´ë„ ë²„í‚·ì´ ì œëŒ€ë¡œ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸

### ì½”ë“œí˜• ì¸í”„ë¼(IaC)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1b2cb7ac-cacd-44f6-8482-f6e2d590e28c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1b2cb7ac-cacd-44f6-8482-f6e2d590e28c/Untitled.png)

ìŠ¤íƒì´ ìˆ˜ì •ë˜ë©´ ë°˜ì˜ì´ ëœë‹¤

### IaCì˜ ì´ì 

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/72f7d01d-0081-4907-8611-087117a38ce7/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/72f7d01d-0081-4907-8611-087117a38ce7/Untitled.png)

### AWS CloudFormation ì¡°ê±´ë¬¸

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f3f2710b-2fc9-4c6a-a45d-67664df55b32/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f3f2710b-2fc9-4c6a-a45d-67664df55b32/Untitled.png)

### ìŠ¤íƒì€ ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í•©ë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/15c68bae-a8a7-4521-ac80-dd864bce6fed/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/15c68bae-a8a7-4521-ac80-dd864bce6fed/Untitled.png)

### ì„¤ê³„ ì˜ˆ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f631aa0d-a9cf-4d97-8a06-05e49b207453/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f631aa0d-a9cf-4d97-8a06-05e49b207453/Untitled.png)

### AWS Quick Start

- AWS í´ë¼ìš°ë“œì—ì„œì˜ ëª¨ë²” í‘œì¤€ ë°°í¬
- AWS ë³´ì•ˆ ë° ê³ ê°€ìš©ì„± ëª¨ë²” ì‚¬ë¡€ì— ê¸°ì´ˆ
- í´ë¦­ í•œ ë²ˆìœ¼ë¡œ 1ì‹œê°„ ë‚´ì— ì „ì²´ ì•„í‚¤í…ì²˜ ìƒì„±
- ì‹¤í—˜ ë° ê°„í¸í•œ êµ¬ì¶•ì— ì í•©

## ë°°í¬ ìë™í™”

### ì§‘í•©ì€ ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í• ê¹Œìš”?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6298e562-222f-4766-b0f7-326286d7a0d2/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6298e562-222f-4766-b0f7-326286d7a0d2/Untitled.png)

### System Manager

ìë™í™”ëœ êµ¬ì„± ë° ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì˜ ì§€ì†ì  ê´€ë¦¬ê°€ ê°€ëŠ¥í•œ ê¸°ëŠ¥ì˜ ì§‘í•©

- ëª¨ë“  Windows ë° Linux ì›Œí¬ë¡œë“œ
- Amazon EC2 ë˜ëŠ” ì˜¨í”„ë ˆë¯¸ìŠ¤ì—ì„œ ì‹¤í–‰

### ë¬´ì—‡ì„ í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?

ëª…ë ¹ ì‹¤í–‰(run control), ìœ ì§€ ê´€ë¦¬ ê¸°ê°„, íŒ¨ì¹˜ ê´€ë¦¬(patch manager), ìƒíƒœ ê´€ë¦¬ì, ì„¸ì…˜ ê´€ë¦¬ì, ì¸ë²¤í† ë¦¬

### ì¸í”„ë¼ ë° ë°°í¬ ìë™í™”ë¥¼ ìœ„í•œ AWS OpsWorks

êµ¬ì„± ê´€ë¦¬ ì„œë¹„ìŠ¤

- AWS OpsWorks Stacks
- AWS OpsWorks for Chef Automate
- AWS OpsWorks for Puppet Enterprise

### OpsWorks Stacksì—ëŠ” ìˆ˜ëª…ì£¼ê¸° ì´ë²¤íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤

ë‹¤ìŒ íŠ¸ë¦¬ê±°ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Setup : ìƒˆ ì¸ìŠ¤í„´ìŠ¤ê°€ ì„±ê³µì ìœ¼ë¡œ ë¶€íŒ…ëœ í›„ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

Configure : ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¨ë¼ì¸ ìƒíƒœì— ì§„ì…í•˜ê±°ë‚˜ ì˜¨ë¼ì¸ ìƒíƒœì—ì„œ ë‚˜ê°ˆ ë•Œ ìŠ¤íƒì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

Deploy : ì•±ì„ ë°°í¬í•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

Undeploy : ì•±ì„ ì‚­ì œí•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

Shutdown : ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

[ìƒ˜í”Œ ì‹¤ìŠµ](https://docs.aws.amazon.com/ko_kr/opsworks/latest/userguide/gettingstarted-simple-stack.html)

## ì¢€ ë” ë§ì´ ìˆ˜ë™ ì‘ì—…ì„ ì¤„ì´ê¸°

### ì¼ë°˜ì  ë¬¸ì œ

- ì•± ë°°í¬ì— ê´€ë ¨ëœ ì¸í”„ë¼ ê´€ë¦¬ëŠ” ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ ê´€ë¦¬ì™€ êµ¬ì„±ì— ë§ì€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì¼ê´€ì„± ë¶€ì¡±

### AWS Elastic Beanstalk

ì¸í”„ë¼ë¥¼ í”„ë¡œë¹„ì €ë‹ ë° ìš´ì˜í•˜ê³  ì‚¬ìš©ìë¥¼ ìœ„í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤íƒì„ ê´€ë¦¬

ì™„ì „í•œ íˆ¬ëª…ì„± - ìƒì„±ë˜ëŠ” ëª¨ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì ì ˆí•œ ê·œëª¨ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í¬ê¸°ë¥¼ ìë™ìœ¼ë¡œ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì…ë‹ˆë‹¤.

### ë¬´ì—‡ì„ ì œì–´í•©ë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/17de26d3-9733-4c39-a12e-7eea55292d86/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/17de26d3-9733-4c39-a12e-7eea55292d86/Untitled.png)

### Elastic Beanstalk - í™˜ê²½

Elastic BeanstalkëŠ” í•„ìš”í•œ ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ë¥¼ í”„ë¡œë¹„ì €ë‹í•©ë‹ˆë‹¤

Elastic BeanstalkëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ì— ê³ ìœ í•œ ë„ë©”ì¸ ì´ë¦„ì„ ì œê³µí•©ë‹ˆë‹¤(ì˜ˆ: youapp.elasticbeanstalk.com_)

- Route 53ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ê³ ìœ ì˜ ë„ë©”ì¸ ì´ë¦„ì„ ì´ ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/75b3c24e-89fc-43b4-928d-a4fd582f9ab2/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/75b3c24e-89fc-43b4-928d-a4fd582f9ab2/Untitled.png)

### ì•Œë§ì€ ì†”ë£¨ì…˜ ì„ íƒ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e3100e72-0758-4111-9ae9-6fe7fbb9f23a/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e3100e72-0758-4111-9ae9-6fe7fbb9f23a/Untitled.png)

# ì‹¤ìŠµ

### AWS CloudFormationì„ ì‚¬ìš©í•œ ì¸í”„ë¼ ë°°í¬ ìë™í™”

- í€µë© ìº¡ì²˜

# ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ë° ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜

ì•„í‚¤í…ì²˜ ê´€ë ¨ ë¬¸ì œ

ëª¨ë†€ë¦¬ì‹ ì•„í‚¤í…ì²˜ê°€ ë¶„ë¦¬ë˜ë©´ ê°œë³„ êµ¬ì„± ìš”ì†Œê°€ ë³„ë„ì˜ íŒ€ì—ì„œ ê´€ë¦¬ë˜ë©°, ì´ì— ë”°ë¼ í•œ íŒ€ì—ì„œ êµ¬ì„± ìš”ì†Œë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš° ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ëª¨ë“ˆ ê°œìš”**

- ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ êµ¬ì¶•
- ì»¨í…Œì´ë„ˆ(ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ê¸°ëŠ¥, ì˜ˆ- Docker) ì„œë¹„ìŠ¤
- ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ êµ¬í˜„

### ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ë€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

ì˜ ì •ì˜ëœ APIë¥¼ í†µí•´ í†µì‹ í•˜ëŠ” ë…ë¦½ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ëœ ì• í”Œë¦¬ì¼€ì´ì…˜

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6a8e27e5-6961-4611-9443-4835c6a36280/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6a8e27e5-6961-4611-9443-4835c6a36280/Untitled.png)

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ íŠ¹ì„±

ììœ¨ì , ì „ë¬¸ì 

## ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤

### ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ì•Œì•„ë³´ê² ì”ë‹ˆë‹¤.

ë°˜ë³µ ê°€ëŠ¥

ë…ë¦½í˜• ì‹¤í–‰ í™˜ê²½

VMë³´ë‹¤ ë” ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„

```
ì˜ˆ : Docker
ìˆ˜ ë°±ê°œì˜ ì´ë¯¸ì§€ë¥¼ ëª¨ë‘ ë³´ìœ í•˜ê³  ìˆë‹¤
```

[Docker HUB ì‚¬ì´íŠ¸](https://hub.docker.com/)

### ì»¨í…Œì´ë„ˆë€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/73d372ca-2b04-4af3-9939-15cee7303ca2/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/73d372ca-2b04-4af3-9939-15cee7303ca2/Untitled.png)

### ì»¨í…Œì´ë„ˆëŠ” ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?

ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39b47f6d-53f5-4e36-b4d8-1c47701a5ed0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39b47f6d-53f5-4e36-b4d8-1c47701a5ed0/Untitled.png)

ì œì•½ì´ ì—†ë‹¤.

### ì»¨í…Œì´ë„ˆ vs. ê°€ìƒ ë¨¸ì‹ 

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/64974081-034a-45d7-ac8f-79fa3d125dca/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/64974081-034a-45d7-ac8f-79fa3d125dca/Untitled.png)

ğŸ’¡ì»¨í…Œì´ë„ˆëŠ” ì»¤ë„ì´ ì—†ë‹¤! ì»¤ë„=OSì˜ í•µì‹¬

â†’ ìš´ì˜ ì²´ì œ(Linux)ì˜ ì»¤ë„ì„ ë¹Œë ¤ ì“´ë‹¤ â†’ ê°€ë³ê²Œ ì²˜ë¦¬ëœë‹¤!

### Amazon EC2ì˜ ì»¨í…Œì´ë„ˆ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93ff29bc-4f5c-4a71-9629-682a32506d9a/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93ff29bc-4f5c-4a71-9629-682a32506d9a/Untitled.png)

### Amazon Elastic Container Service (Amazon ECS)

ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ì„ ì¡°ì •í•©ë‹ˆë‹¤.

ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ë…¸ë“œ í”Œë¦¿ì„ ìœ ì§€ ê´€ë¦¬í•˜ê³  í™•ì¥í•©ë‹ˆë‹¤.

ì¸í”„ë¼ êµ¬ì¶•ì˜ ë³µì¡ì„±ì„ ì œê±°í•©ë‹ˆë‹¤.

### Amazon EC2 ì‚¬ìš©í•˜ê¸°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2cc629de-4db3-481d-b5c2-b40151f5c962/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2cc629de-4db3-481d-b5c2-b40151f5c962/Untitled.png)

íŒŒë€ ë„¤ëª¨, íšŒìƒ ë„¤ëª¨ : ì´ë¯¸ì§€

## ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ êµ¬í˜„

### ì•„í‚¤í…ì²˜ê°€ íš¨ìœ¨ì ì…ë‹ˆê¹Œ?

í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ìˆ˜í–‰í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ì „ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d5a46056-47cb-4ba1-9b23-39c47b7fb4b4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d5a46056-47cb-4ba1-9b23-39c47b7fb4b4/Untitled.png)

### ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…ì´ë€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

ì„œë²„ë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šê³  ì•±ê³¼ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•˜ê³  ì‹¤í–‰

ì•± ì„œë¹„ìŠ¤ì— ì§‘ì¤‘í•˜ë¼ëŠ” ì˜ë„ë¥¼ ë³´ì—¬ì¤€ë‹¤.

### AWS Lambda

- ì™„ì „ ê´€ë¦¬í˜• ì»´í“¨íŒ… ì„œë¹„ìŠ¤
- ìƒíƒœ ë¹„ì €ì¥ ì½”ë“œ ì‹¤í–‰
- Node.js, Java, Python, C#, Go, Ruby ì§€ì›
- ì¼ì •(ì˜ˆì•½)ì—ì„œ ë˜ëŠ” ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ì½”ë“œ ì‹¤í–‰ (ì˜ˆ: Amazon S3 ë²„í‚· ë˜ëŠ” Amazon DynamoDB í…Œì´ë¸”ì˜ ë°ì´í„° ë³€ê²½)
- Lambda@Edgeë¥¼ í†µí•´ ì—£ì§€ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥
- ë¹„ìš©ì€ Lambdaë¥¼ ì‹¤í–‰í•œ ë‹¨! ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì— ëŒ€í•´ì„œë§Œ ì§€ë¶ˆ

### AWS Lambda ì‘ë™ ë°©ì‹

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7082c518-f877-4248-ae41-8795f2221d79/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7082c518-f877-4248-ae41-8795f2221d79/Untitled.png)

### AWS Lambda - ì´ë²¤íŠ¸ ì†ŒìŠ¤

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bac8abd5-bf2a-4142-8ef0-a2232a2f03e7/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bac8abd5-bf2a-4142-8ef0-a2232a2f03e7/Untitled.png)

### ì˜ˆì œ: ì£¼ë¬¸ ì²˜ë¦¬ì— ëŒ€í•œ Amazon S3 ë° AWS Lambda

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/594a5345-0bb3-4adc-b467-00f2bdc40b17/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/594a5345-0bb3-4adc-b467-00f2bdc40b17/Untitled.png)

í™”ì‚´í‘œ : API

### Amazon API Gateway

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ "í˜„ê´€" ì—­í• ì„ í•˜ëŠ” APIë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìµœëŒ€ ìˆ˜ì‹­ë§Œ ê±´ì˜ ë™ì‹œ API í˜¸ì¶œì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

ë‹¤ìŒì—ì„œ ì‹¤í–‰ë˜ëŠ” ì›Œí¬ë¡œë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- Amazon EC2
- AWS Lambda
- ëª¨ë“  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜

### ì¼ë°˜ ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ ì‚¬ìš© API Gateway

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/74d4c874-9253-4565-9d1e-7b682ad502e1/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/74d4c874-9253-4565-9d1e-7b682ad502e1/Untitled.png)

### ì„œë²„ë¦¬ìŠ¤ ëª¨ë°”ì¼ ë°±ì—”ë“œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d03e363-473d-4a64-a323-f801ac8ad2c6/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d03e363-473d-4a64-a323-f801ac8ad2c6/Untitled.png)

### AWS Step Functions

- ì‹œê°ì  ì›Œí¬í”Œë¡œë¥¼ ì‚¬ìš©í•œ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ì¡°ì •.
- ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥ì„ ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê° ë‹¨ê³„ë¥¼ ìë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°í•˜ê³  ì¶”ì í•©ë‹ˆë‹¤.
- ë‹¨ê³„ê°€ ì‹¤íŒ¨í•œ ê²½ìš° ë‹¨ìˆœ ì˜¤ë¥˜ë¥¼ íŒŒì•…í•˜ì—¬ ë¡œê¹…ì„ ì œê³µí•©ë‹ˆë‹¤.

### Step FunctionsëŠ” ìƒíƒœ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2a78e599-9fb3-4df8-847b-482ca1207949/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2a78e599-9fb3-4df8-847b-482ca1207949/Untitled.png)

### ìƒíƒœ ìœ í˜•ì„ ì‚¬ìš©í•˜ì—¬ ì‹œê°ì  ì›Œí¬í”Œë¡œìš° êµ¬ì¶•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d6219991-ce79-4b2f-b23f-941d2675fbcc/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d6219991-ce79-4b2f-b23f-941d2675fbcc/Untitled.png)

### ì˜¨ë””ë§¨ë“œ ë¹„ë””ì˜¤(VOD) ì•„í‚¤í…ì²˜

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6a2cfd8b-1f92-4dcf-ae00-64ec35c7efda/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6a2cfd8b-1f92-4dcf-ae00-64ec35c7efda/Untitled.png)

ë„·í”Œë¦­ìŠ¤ ì‚¬ë¡€

# ì‹¤ìŠµ

## AWS ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ë¡œ ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ êµ¬í˜„

- í€µë© ìº¡ì²˜

# ê³¼ì œ

- ë³´ì•ˆê·¸ë£¹ ì„¤ê³„í•˜ê¸°

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/49605997-9ab0-47a5-83dc-be30c4add74f/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/49605997-9ab0-47a5-83dc-be30c4add74f/Untitled.png)

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/94df3c8f-9e63-40dc-b89a-f3df148beb69/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/94df3c8f-9e63-40dc-b89a-f3df148beb69/Untitled.png)
