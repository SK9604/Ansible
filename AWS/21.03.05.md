# ì˜¤ì „ ìˆ˜ì—…

# AWS Identity and Access Management(IAM)

ì‚¬ìš©ìì— ëŒ€í•œ ì¸ì¦ê³¼ ê¶Œí•œ

ìœˆë„ìš°ì˜ ì¸ì¦ DB = SAM (Security Account Manager, í† í°ìœ¼ë¡œ ì¸ì¦í•œë‹¤)

ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼

ID, Password ì…ë ¥ì‹œ SAM dbì—ì„œ ìê²© ì¦ëª…ì„ ë°›ëŠ”ë‹¤ â†’ ì¦ëª…ì´ ë˜ë©´ Access Tokenì„ ë°›ëŠ”ë‹¤ â†’ í™”ë©´ì´ ì—´ë¦°ë‹¤

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a92ac56d-9467-4fed-924e-b393d6757684/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a92ac56d-9467-4fed-924e-b393d6757684/Untitled.png)

**ëª¨ë“ˆ ê°œìš”**

- IAM ì‚¬ìš©ì(UBAC,user base access control), ê·¸ë£¹(GBAC, group ~) ë° ì—­í• (RBAC, role ~)
- ì—°ë™ ìê²© ì¦ëª… ê´€ë¦¬
- Amazon Cognito (ìê²©ì¦ëª… í’€)
- AWS Organizations (OU, ì¡°ì§ ë‹¨ìœ„)

## ì‚¬ìš©ì ê³„ì • ë° IAM

### AWS ê³„ì • ë£¨íŠ¸ ì‚¬ìš©ì

ì´ ê³„ì •ì€ ëª¨ë“  AWS ì„œë¹„ìŠ¤ ë° ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì „ì²´ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ê°–ëŠ”ë‹¤.

- ê²°ì œ ì •ë³´
- ê°œì¸ ë°ì´í„°
- ì „ì²´ ì•„í‚¤í…ì²˜ ë° í•´ë‹¹ êµ¬ì„± ìš”ì†Œ

ğŸ’¡ AWS ê³„ì • ë£¨íŠ¸ ì‚¬ìš©ìëŠ” ê°•ë ¥í•œ ê¶Œí•œì„ ê°€ì§€ë©° ì œí•œì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.

```
ë£¨íŠ¸ëŠ” ì ˆëŒ€ ì™¸ë¶€ ì ‘ê·¼ì„ í—ˆìš©í•˜ë©´ ì•ˆëœë‹¤!!
ê·¸ë§Œí¼ ìœ„í—˜ì„±ì´ í¬ë‹¤
ê¶Œì¥ : ë£¨íŠ¸ ê³„ì •ì„ ì‚¬ìš©í•˜ì§€ ë§ˆë¼ -> ë³„ë„ì˜ IAMì—ê²Œ ê´€ë¦¬ì accessê¶Œí•œì„ í’€ë©´ ëœë‹¤
ì •ì±… ì¤‘ì— AdministratorAccessê°€ ë£¨íŠ¸ì— ì¤€í•˜ëŠ” ê¶Œí•œì„ ì¤€ë‹¤.
ë£¨íŠ¸ëŠ” MFA(Multi-Factor Authentication)ë¥¼ ì´ìš©í•˜ì—¬ OTPì²˜ëŸ¼ ì¸ì¦ì„ ë°›ëŠ”ë‹¤.
```

### ë”ìš± ì•ˆì „í•œ ê´€ë¦¬ ë°©ë²•

- IAM ê´€ë¦¬ ì‚¬ìš©ì ìƒì„±
- ë£¨íŠ¸ ì‚¬ìš©ì ìê²© ì¦ëª… ì ê¸ˆ
- IAM ê´€ë¦¬ ì‚¬ìš©ì ì‚¬ìš©

ì ì ˆí•œ ê¶Œí•œ? ìµœì†Œê¶Œí•œì˜ ì›ì¹™ = ì—…ë¬´ì ìœ¼ë¡œ í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬í•œë‹¤.

### ì „ì²´ ì œì–´ ê¶Œí•œì€ ëª¨ë“  ì‚¬ëŒì´ ì›í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7f2e4c82-1b56-43bf-8f23-b57895a0facd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7f2e4c82-1b56-43bf-8f23-b57895a0facd/Untitled.png)

IAMì˜ ì •ì±… = ê¶Œí•œ

### AWS Identity and Access Management

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2d6f9dd7-3295-4256-8113-8656df89e99b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2d6f9dd7-3295-4256-8113-8656df89e99b/Untitled.png)

ê°€ì¥ ì¢‹ì€ ê²ƒì€ GBAC(Group Base Access Control) ê·¸ë£¹ì— ì†Œì†ë˜ë©´ ê·¸ë£¹ì— ëŒ€í•œ ê¶Œí•œì„ ìƒì†ë°›ëŠ”ë‹¤.

### IAM ë³´ì•ˆ ì£¼ì²´

ë³´ì•ˆ ì£¼ì²´ = AWS ë¦¬ì†ŒìŠ¤ì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” entity(ìµœì†Œ ë‹¨ìœ„)

IAM ì‚¬ìš©ì/ê·¸ë£¹

ì—°ë™ ì‚¬ìš©ì

IAM ì—­í• 

ìê²© ì¦ëª… ê³µê¸‰ì(IdP) â†’ SAML(Security Assertion Markup Language), OpenID Connect ë“±ìœ¼ë¡œ ìê²©ì¦ëª… ì¶”ê°€ í•  ìˆ˜ ìˆë‹¤.

### IAM ì‚¬ìš©ì

IAM ì‚¬ìš©ìëŠ” ë³„ë„ì˜ AWSê³„ì •(root)ì´ ì•„ë‹ˆë¼ ê³„ì • ë‚´ ì‚¬ìš©ìì…ë‹ˆë‹¤.

ê° ì‚¬ìš©ìëŠ” ì˜êµ¬ì ì¸ ìì²´ ìê²© ì¦ëª…ì„ ê°–ê³  ìˆëŠ” ê°œë³„ì ìœ¼ë¡œ ëª…ëª…ëœ ì‘ì—…ìì…ë‹ˆë‹¤.

IAM ì‚¬ìš©ìëŠ” ë¶€ì—¬ëœ ê¶Œí•œ(ì •ì±…)ì„ ê¸°ì¤€ìœ¼ë¡œ íŠ¹ì • AWS ì‘ì—…ì„ ìˆ˜í–‰í•  ê¶Œí•œì´ ìˆìŠµë‹ˆë‹¤.

```
ì •ì±…ì€ ì„œë¹„ìŠ¤ ë‹¨ìœ„ë¡œ ì„¸ë¶„í™”ë˜ì–´ìˆë‹¤.
```

### IAM ì‚¬ìš©ì ìƒì„±

ê¸°ë³¸ì ìœ¼ë¡œ ì£¼ì–´ì§„ ê¶Œí•œì€ ì—†ìŠµë‹ˆë‹¤.

AWS Management Console ë˜ëŠ” CLIì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ëŠ” ëª…ì‹œì ìœ¼ë¡œ ë¶€ì—¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### ê¶Œí•œ ë¶€ì—¬

- í•˜ë‚˜ ì´ìƒì˜ ê¶Œí•œì— ëŒ€í•œ í˜•ì‹ ì„ ì–¸
- ìš”ì²­ ì‹œì— í‰ê°€ë¨
- IAM ì •ì±…ì€ AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë§Œ ì œì–´í•©ë‹ˆë‹¤.
    - ê³ ê°ì´ ì œì–´í•˜ëŠ” ìì‚°ì€ ì œì–´ ëª»í•¨

        ```
        ì •ì±… í•„í„°
        	ã„´ ê³ ê° ê´€ë¦¬í˜•
        	ã„´ AWS ê´€ë¦¬í˜•
        	ã„´ AWS ê´€ë¦¬ - ì§ë¬´
        ```

    - ì˜ˆë¡œ, EC2ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í—ˆìš©í•˜ëŠ” IAM ì •ì±…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ê³ ê°ì´ ì†Œìœ í•œ ì¸ìŠ¤í„´ìŠ¤ì— ë¡œê·¸ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ ì œì–´í•˜ëŠ” IAM ì •ì±…ì€ ì—†ë‹¤.
    - IAMì€ AWS í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ì¸ APIë§Œ ì œì–´
- IAMì—ëŠ” í•˜ì´í¼ë°”ì´ì €ì— ëŒ€í•œ ê°€ì‹œì„±ì´ ì—†ìŠµë‹ˆë‹¤.

### IAM ê¶Œí•œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4f1bc12-f70a-4d3a-9f40-98ec3adef0f5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c4f1bc12-f70a-4d3a-9f40-98ec3adef0f5/Untitled.png)

### ê¶Œí•œ ë¶€ì—¬

- ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ - ì—°ê²°ëœ AWS ë¦¬ì†ŒìŠ¤
    - í•´ë‹¹ ì„œë¹„ìŠ¤ì˜ ë¦¬ì†ŒìŠ¤ì—ì„œ ìì²´ì ìœ¼ë¡œ ê´€ë¦¬
    - Principal ì†ì„±ì„ í¬í•¨
- ìê²© ì¦ëª… ê¸°ë°˜ - ì—°ê²°ëœ IAM ë³´ì•ˆ ì£¼ì²´
    - AWS IAMì—ì„œ ì§ì ‘ ê´€ë¦¬

### ìê²© ì¦ëª… ê¸°ë°˜ ì •ì±…

ì—°ê²° ëŒ€ìƒ:

- ì‚¬ìš©ì
- ê·¸ë£¹
- ì—­í• 

ì œì–´:

- ìˆ˜í–‰ ì‘ì—…
- ë¦¬ì†ŒìŠ¤ ëŒ€ìƒ
- í•„ìš”í•œ ì¡°ê±´

ì •ì±… ìœ í˜•:

- AWS ê´€ë¦¬í˜•
- ê³ ê° ê´€ë¦¬í˜•
- ì¸ë¼ì¸

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2bd82beb-2d4f-4524-8c43-aca64b822891/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2bd82beb-2d4f-4524-8c43-aca64b822891/Untitled.png)

### ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ ì •ì±…

ì—°ê²° ëŒ€ìƒ:

- AWS ë¦¬ì†ŒìŠ¤(ì˜ˆ: Amazon S3, Amazon Glacier ë° AWS KMS)

ì œì–´:

- íŠ¹ì • ë³´ì•ˆ ì£¼ì²´ê°€ í—ˆìš©í•œ ì‘ì—…
- í•„ìš”í•œ ì¡°ê±´
- í•­ìƒ ì¸ë¼ì¸ ì •ì±…ì„
- AWS ê´€ë¦¬í˜• ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ ì •ì±…ì´ ì—†ìŒ

### ê¶Œí•œì´ ë¶€ì—¬ëœ ìê²© ì¦ëª…

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/11c73d73-7593-41e9-b605-b63db6e52082/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/11c73d73-7593-41e9-b605-b63db6e52082/Untitled.png)

### ê¶Œí•œ ì ìš©

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/02b6d002-3429-40a0-9115-929934343d73/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/02b6d002-3429-40a0-9115-929934343d73/Untitled.png)

ì •ì±… ìƒì„±ê¸°ë¥¼ í†µí•´ì„œ Allow/Denyë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì¤€ë‹¤.

### IAM ì •ì±… ì˜ˆ (ìê²©ì¦ëª… ê¸°ë°˜ ì •ì±…)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c16c9d7a-a526-443d-8395-6e3367b06e83/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c16c9d7a-a526-443d-8395-6e3367b06e83/Untitled.png)

ê±°ë¶€ê°€ í—ˆìš©ë³´ë‹¤ ìš°ì„  ìˆœìœ„ê°€ ë†’ë‹¤!

### ì‹¤ìŠµ - ì‹¤ì œë¡œ ì •ì±…ì„ í™•ì¸í•´ë³´ê³  ì ìš©í•˜ê¸°

- ìº¡ì²˜

ì„ì˜ë¡œ í¼ë¸”ë¦­ ë²„í‚·ì„ ë§Œë“ ë‹¤.

ì„ì˜ì˜ íŒŒì¼ì„ ì—…ë¡œë“œ í•œ í›„ í¼ë¸”ë¦­ìœ¼ë¡œ ì„¤ì • í•œë‹¤.

ê°ì²´ URLì— HTTPS ë¡œ ì ‘ê·¼í•˜ì§€ë§Œ HTTPë¡œë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ìƒíƒœì´ë‹¤.

ì´ë¥¼ HTTPSë§Œ ì ‘ê·¼ í—ˆìš©í•˜ê³  HTTPëŠ” ì ‘ê·¼ ë¶ˆê°€í•˜ë„ë¡ ì •ì±…ì„ ìƒì„±í•˜ì.

ìƒˆë¡œ ì„ì˜ì˜ íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ê³  í¼ë¸”ë¦­ìœ¼ë¡œ ì„¤ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.

ë²„í‚·ì˜ ê¶Œí•œ íƒ­ì— ë²„í‚· ì •ì±… í¸ì§‘ â†’ ì •ì±… ìƒì„±ê¸°

principal : ë¦¬ì†ŒìŠ¤ (*: ì „ì²´)

Actions : GetObject

arn ì…ë ¥ add

ë²„í‚· ì •ì±… í¸ì§‘ì˜ ì •ì±…ì— ë¶™ì—¬ë„£ê¸° (arn ë’¤ì— /* ë¶™ì´ê¸°) â†’ ë³€ê²½ì‚¬í•­ ì €ì¥

ë²„í‚·ì´ í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤ ê°€ëŠ¥í•˜ë‹¤

ì—¬ì „íˆ HTTPS, HTTP ëª¨ë‘ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤

ë²„í‚· ì •ì±…ì„ ë³µì‚¬í•´ ì™€ì„œ notepad++ì—ì„œ í¸ì§‘í•œë‹¤.

```
{
    "Version": "2012-10-17",
    "Id": "Policy1614908660364",
    "Statement": [
        {
            "Sid": "Stmt1614908653080",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::mybucket-4463/*"
        },
		{
            "Sid": "PublicReadGetObject",
            "Effect": "Deny",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::mybucket-4463/*",
			      "Condition": {
				        "Bool":
				          {"aws:SecureTransport": false}
			      }
        }
    ]
}
```

ë²„í‚· ì •ì±…ì— ë¶™ì—¬ë„£ê¸°

ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´ HTTPSëŠ” ì ‘ê·¼ì´ ë˜ê³  HTTPëŠ” ì ‘ê·¼ì´ ë§‰íŒ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

## ì‚¬ìš©ì êµ¬ì„±

### ì‹¤ìŠµ - IAM ì‚¬ìš©ì ë§Œë“¤ì–´ë³´ê¸°

```
# AWS ê³„ì • ì‚¬ìš© ê¶Œê³  ë°©ì•ˆ
	ã„´ root ì‚¬ìš©ì ì œí•œ -> MFA ê¶Œí•œ (google OTP ì•± ë‹¤ìš´)
	ã„´ UBAC: ê´€ë¦¬ì ê³„ì •(ì‚¬ìš©ì) -> ê´€ë¦¬ì ê¶Œí•œ(ì •ì±…) ë¶€ì—¬
	ã„´ ì‚¬ìš©ì ê³„ì • ê´€ë¦¬
			ã„´ GBAC: ê·¸ë£¹ ë‹¨ìœ„ ê´€ë¦¬ ê¶Œì¥
					ã„´ RBAC: Role(ì—­í• , ì •ì±…)
	: EC2ì—ë§Œ! ì ‘ê·¼ ê°€ëŠ¥í•œ IAM ì‚¬ìš©ì ë° ê·¸ë£¹ ìƒì„±
```

- MFA ì„¤ì •

    í•¸ë“œí°ì— google otp ì„¤ì¹˜
    ê³„ì • - ë‚´ ë³´ì•ˆ ìê²© ì¦ëª…
    ë³´ì•ˆ ìê²© ì¦ëª… - MFA í™œì„±í™”
    ê°€ìƒ MFA ë””ë°”ì´ìŠ¤ - ê³„ì†
    google otpì—ì„œ QR ì½”ë“œ ìŠ¤ìº” í›„ MFA ì½”ë“œ ì—°ì†ìœ¼ë¡œ ë‘ë²ˆ ì…ë ¥ -> MFA í• ë‹¹
    ì™„ë£Œ
    ë¡œê·¸ì•„ì›ƒ í›„ ì¬ ë¡œê·¸ì¸
    MFAì½”ë“œ ì…ë ¥í•´ì•¼ í•œë‹¤!

    - ìº¡ì²˜
- ê´€ë¦¬ì ê¶Œí•œ ê³„ì • ìƒì„±

    AWS console - IAM
    ì‚¬ìš©ì - ì‚¬ìš©ì ì¶”ê°€
    ì‚¬ìš©ì ì´ë¦„ : korea_admin, AWS Management Console ì•¡ì„¸ìŠ¤, ì½˜ì†” ë¹„ë°€ë²ˆí˜¸: ì‚¬ìš©ì ì§€ì • ë¹„ë°€ ë²ˆí˜¸ - ë‹¤ìŒ
    ê¶Œí•œ ì„¤ì • - ê·¸ë£¹ ìƒì„±
    ê·¸ë£¹ ì´ë¦„ : admin_team, ì •ì±…: AdministratorAccess(ê´€ë¦¬ì ê¶Œí•œ) - ë‹¤ìŒ
    í™•ì¸ - ì‚¬ìš©ì ë§Œë“¤ê¸°
    csv íŒŒì¼ ë°›ê¸°
    Console login linkì˜ ì• ìˆ«ìê°€ ê³„ì • ID(12ìë¦¬) ì´ë‹¤
    ì‚¬ìš©ì ì´ë¦„, ì•”í˜¸ ì…ë ¥ í›„ ë¡œê·¸ì¸
    ë¹„ë°€ ë²ˆí˜¸ ë³€ê²½ ì°½
    ë¡œê·¸ì¸ ë¨ í™•ì¸

    - ìº¡ì²˜
- ì¼ë°˜ ì‚¬ìš©ìì— íŠ¹ì • ê¶Œí•œ ë¶€ì—¬í•˜ê¸°

    AWS console - IAM
    ê·¸ë£¹ - ìƒˆë¡œìš´ ê·¸ë£¹ ìƒì„±
    ê·¸ë£¹ ì´ë¦„: op_ec2_acc
    ì •ì±… : ec2fullaccess
    ìƒì„± ì™„ë£Œ
    IAM - ì‚¬ìš©ì - ì‚¬ìš©ì ì¶”ê°€
    opec2_user1,2 ìƒì„±
    ê·¸ë£¹ op_ec2_acc ì„ íƒ
    ìƒì„± ì™„ë£Œ
    opec2_user1 í´ë¦­
    ìš”ì•½ - ë³´ì•ˆ ìê²© ì¦ëª… - ì•¡ì„¸ìŠ¤ í‚¤ - ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°
    ì½˜ì†” ë¡œê·¸ì¸ ë§í¬ í´ë¦­ - opec2_user1ë¡œ ë¡œê·¸ì¸
    ec2 ì ‘ì† í™•ì¸
    ë‹¤ë¥¸ ì„œë¹„ìŠ¤(S3)ëŠ” ê¶Œí•œì´ ì—†ìŒì„ í™•ì¸

    - ìº¡ì²˜

### IAM ì‚¬ìš©ì ê·¸ë£¹

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/43a63701-0b0c-4dc1-82fc-d0121d366893/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/43a63701-0b0c-4dc1-82fc-d0121d366893/Untitled.png)

ì •ì±…ì„ ì£¼ëŠ” ë°©ë²• 2 ê°€ì§€:

- ê°œë³„ì ìœ¼ë¡œ ê° ì •ì±…ì„ ì£¼ëŠ” ë°©ë²•

    ê·¸ë£¹ op_ec2_accì— S3, RDS ê¶Œí•œì„ ì¶”ê°€ì ìœ¼ë¡œ ì£¼ì ê·¸ë£¹ì— ì†í•œ opec2_user1 ê³„ì •ìœ¼ë¡œ ì•„ê¹Œ ì ‘ê·¼ì´ ì•ˆë˜ë˜ S3ì— ì ‘ê·¼ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

    ê·¸ëŸ¬ë‚˜ S3, RDS, EC2ê°€ ì•„ë‹Œ CloudFrontì—ëŠ” ì ‘ê·¼ í•  ìˆ˜ ì—†ìŒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

    - ìº¡ì²˜
- ì •ì±…ë“¤ì„ ë¬¶ì–´ Roleë¡œ ì£¼ëŠ” ë°©ë²•
- MFA ì œê±°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4b059292-fa9a-4d69-9a71-8287d2de497b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4b059292-fa9a-4d69-9a71-8287d2de497b/Untitled.png)

ê°œë°œ íŒ€ â†’ í…ŒìŠ¤íŠ¸ íŒ€ â†’ ìš´ì˜ íŒ€

ì‚¬ìš©ìëŠ” ë‘ ê·¸ë£¹ì— ì†í•´ ë‘ ê·¸ë£¹ì˜ ê¶Œí•œì„ ëª¨ë‘ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

## ì‚¬ìš©ì ì—°ë™

### IAM ì—­í• 

ì—­í• ì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ì ë˜ëŠ” ì„œë¹„ìŠ¤ê°€ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•œ ê¶Œí•œ ì§‘í•©ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ê¶Œí•œì„ IAM ì‚¬ìš©ì ë˜ëŠ” ê·¸ë£¹ì— ì—°ê²°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ê¶Œí•œì„ ì—­í• ì— ì—°ê²°í•˜ê³  ì—­í• ì„ ì‚¬ìš©ì ë˜ëŠ” ì„œë¹„ìŠ¤ì— ìœ„ì„í•©ë‹ˆë‹¤.

ì‚¬ìš© ì‚¬ë¡€:

- AWS ë¦¬ì†ŒìŠ¤ì— AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ì™¸ë¶€ ì¸ì¦ ì‚¬ìš©ìì—ê²Œ ì•¡ì„¸ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- íƒ€ì‚¬ì—ê²Œ ì•¡ì„¸ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ë‹¤ìŒ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ë„ë¡ ì—­í• ì„ ì „í™˜í•©ë‹ˆë‹¤.
    - ìì‹ ì˜ AWS ê³„ì •
    - ë‹¤ë¥¸ AWS ê³„ì •(êµì°¨ ê³„ì • ì•¡ì„¸ìŠ¤)

### ì—­í•  ìœ„ì„

AWS Management Console

AWS ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ (CLI)

AssumeRole API í˜¸ì¶œ

AWS Security Token Service (AWS STS)

### STS ìê²© ì¦ëª… ë¸Œë¡œì»¤ ê°œìš”

ì‚¬ìš©ì ì•¡ì„¸ìŠ¤ ìê²© ì¦ëª… ë¸Œë¡œì»¤ (ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í†µí•¨) â†’ ìê²© ì¦ëª… ë¸Œë¡œì»¤ ì¸ì¦ ì‚¬ìš©ì â†’ ì„ì‹œ ìê²©ì¦ëª… ìš”ì²­(AWS STSì—ì„œ)â†’ ì„ì‹œ ìê²© ì¦ëª…(ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë°˜í™˜)

### STS ìê²© ì¦ëª… ë¸Œë¡œì»¤ í”„ë¡œì„¸ìŠ¤

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f9ee3bd8-6454-4121-a675-158df2d9ebea/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f9ee3bd8-6454-4121-a675-158df2d9ebea/Untitled.png)

### SAML

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/735c82a6-d99f-47a2-8d8b-e0210d3ddced/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/735c82a6-d99f-47a2-8d8b-e0210d3ddced/Untitled.png)

### Amazon Cognito

ì›¹ ë° ëª¨ë°”ì¼ ì•±ì— ëŒ€í•œ ì¸ì¦, ê¶Œí•œ ë¶€ì—¬ ë° ì‚¬ìš©ì ê´€ë¦¬ë¥¼ ì œê³µí•˜ëŠ” ì™„ì „ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤

- ì‚¬ìš©ì í’€
- ìê²© ì¦ëª… í’€

### Amazon Cognito ì˜ˆì œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1b930ad5-4baf-4506-80b8-5ed6ddd17644/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1b930ad5-4baf-4506-80b8-5ed6ddd17644/Untitled.png)

3ë²ˆì˜ ì¸ì¦ì„ ê±°ì³ íƒ„íƒ„í•œ ë³´ì•ˆ ê²€ì¦ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.

[ì¼ë°˜ì ì¸ Cognito ì‹œë‚˜ë¦¬ì˜¤](https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-scenarios.html)

### AWS Landing Zone

AWS ëª¨ë²” ì‚¬ë¡€ì— ë”°ë¼ ì•ˆì „í•œ ë‹¤ì¤‘ ê³„ì • AWS í™˜ê²½ì„ ë¹ ë¥´ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì†”ë£¨ì…˜ìœ¼ë¡œ ë‹¤ìŒ ê¸°ëŠ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.

ë‹¤ì¤‘ ê³„ì • êµ¬ì¡°, Account Vending Machine, ì‚¬ìš©ì ì•¡ì„¸ìŠ¤, ì•Œë¦¼

## ë‹¤ì¤‘ ê³„ì •

### AWS ê¶Œì¥ ì‚¬í•­

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0f0ad97e-d346-4d50-a572-3aa51ad9dd02/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0f0ad97e-d346-4d50-a572-3aa51ad9dd02/Untitled.png)

### AWS Organizations

- ìº¡ì²˜

ì¤‘ì•™ ê´€ë¦¬ì‹ ê³„ì • ê´€ë¦¬

- ê·¸ë£¹ ê¸°ë°˜ ê³„ì • ê´€ë¦¬
- AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì •ì±… ê¸°ë°˜ ì•¡ì„¸ìŠ¤
- ìë™í™”ëœ ê³„ì • ìƒì„± ë° ê´€ë¦¬
- í†µí•© ê²°ì œ
- API ê¸°ë°˜

### ê²€í† 

Q: ë¦¬ì†ŒìŠ¤ì— ì„ì‹œ ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼ í•˜ëŠ” ê²½ìš° ë¬´ì—‡ì„ ì‚¬ìš©í•©ë‹ˆê¹Œ?

IAM ì—­í• 

Q: í•˜ë‚˜ì˜ ì‚¬ìš©ìê°€ S3 ë²„í‚·ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¬¸ì œì˜ ì›ì¸ì„ íŒŒì•…í•˜ë ¤ë©´ ë¬´ì—‡ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆê¹Œ?

ì‚¬ìš©ìì™€ ë²„í‚·ì— ì—°ê²°ëœ ì •ì±…

1. DynamoDBë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
2. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ DynamoDB SDK ë° AWS ê³„ì • ë£¨íŠ¸ ì‚¬ìš©ì ì•¡ì„¸ìŠ¤/ë³´ì•ˆ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë°”ì¼ ì•±ì—ì„œ DynamoDBì— ì—°ê²°í•©ë‹ˆë‹¤.
3. ì´ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ì™€ ê´€ë ¨í•˜ì—¬ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆê¹Œ?

---

â˜, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ AWS ê³„ì • ë£¨íŠ¸ ì‚¬ìš©ì ì‚¬ìš©ì„ ì¤‘ì§€í•©ë‹ˆë‹¤!

âœŒ, ê°€ëŠ¥í•œ ê²½ìš° ì•±ì´ ì›¹ ìê²© ì¦ëª… ì—°ë™ì„ í†µí•´ IAM ì—­í• ì„ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤

# ìºì‹±

```
cache? ì£¼ê¸°ì–µ ì¥ì¹˜ì™€ ë³´ì¡°ê¸°ì–µ ì¥ì¹˜ ì‚¬ì´ì— ì†ë„ì°¨ë¥¼ ì¤„ì´ê¸° ìœ„í•œ ë©”ëª¨ë¦¬.
        ã„´ ë©”ëª¨ë¦¬  >  ã„´ ë””ìŠ¤í¬ : ì†ë„ê°€ ë©”ëª¨ë¦¬ê°€ í›¨ì”¬ ë¹ ë¥´ë‹¤
        ã„´ ì‹¤ë¬´ì—ì„œì˜ ìºì‹œëŠ” ì ‘ê·¼ ì†ë„ í–¥ìƒ -> ì‘ë‹µ ì‹œê°„ ë¹ ë¥´ë‹¤. (í’ˆì§ˆ í–¥ìƒ)
            ã„´ ì›¹
            ã„´ ë°ì´í„°ë² ì´ìŠ¤
            ã„´ ì—£ì§€ ìºì‹œ
	ì´ ì†ë„ ì°¨ì´ë¥¼ ì™„ì¶©ì‹œí‚¤ëŠ” ì—­í• 
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/197db14c-beb5-4d02-9dce-ff7f5f770e4b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/197db14c-beb5-4d02-9dce-ff7f5f770e4b/Untitled.png)

ë™ì¼í•œ ìš”ì²­ìœ¼ë¡œ ì¸í”„ë¼ ìš©ëŸ‰ì´ ì§€ì†ì ìœ¼ë¡œ ê³¼ë¶€í•˜ë©ë‹ˆë‹¤. ì´ëŠ” ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë¹„ìš© ë° ì§€ì—° ì‹œê°„ì„ ëŠ˜ë¦½ë‹ˆë‹¤.

**ëª¨ë“ˆ ê°œìš”**

- ìºì‹± ê°œìš”
- ì—£ì§€ ìºì‹±
- ë°ì´í„°ë² ì´ìŠ¤ ìºì‹±

## ìºì‹± ê°œìš”

### ìµìˆ™í•œ ìºì‹œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1c639aa6-3958-4f11-8caf-1def6eded582/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1c639aa6-3958-4f11-8caf-1def6eded582/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ad5bfc2a-2c69-4f46-89e1-cd61d9985345/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ad5bfc2a-2c69-4f46-89e1-cd61d9985345/Untitled.png)

### ë¬´ì—‡ì„ ìºì‹œí•´ì•¼ í•©ë‹ˆê¹Œ?

ìˆ˜ì§‘í•˜ë ¤ë©´ ëŠë¦¬ê³  ë¹„ì‹¼ ì¿¼ë¦¬ê°€ í•„ìš”í•œ ëŒ€ìš©ëŸ‰ ë°ì´í„°

ë¹„êµì  ì •ì ì´ê³  ìì£¼ ì•¡ì„¸ìŠ¤ í•˜ëŠ” ë°ì´í„°(ì˜ˆ: ì†Œì…œ ë¯¸ë””ì–´ ì›¹ ì‚¬ì´íŠ¸ì˜ í”„ë¡œí•„)

ê³µê°œ ê±°ë˜ë˜ëŠ” ì£¼ì‹ ê°€ê²© ì²˜ëŸ¼, ì¼ì • ê¸°ê°„ ë™ì•ˆ ë³€í™”ê°€ ì—†ì„ ìˆ˜ ìˆëŠ” ì •ë³´

### ìºì‹±ì˜ ì´ì 

ì• í”„ë¦¬ì¼€ì´ì…˜ ì†ë„ í–¥ìƒ

ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ëŠ” DB ì¿¼ë¦¬ì˜ ë¶€ë‹´ ì™„í™”

ì‘ë‹µ ì§€ì—° ì‹œê°„ ê°ì†Œ

### ì•„í‚¤í…ì²˜ì˜ ìºì‹± ìœ í˜•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a28dc539-62da-4829-890d-9eb43cc174f0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a28dc539-62da-4829-890d-9eb43cc174f0/Untitled.png)

## AWSì—ì„œì˜ ìºì‹±

### ë°ì´í„° ì—¬ì •

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4624de91-802f-458f-a9c0-b3f861f90a5e/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4624de91-802f-458f-a9c0-b3f861f90a5e/Untitled.png)

ì¤‘ê°„ì— ìºì‹œë¥¼ ë‹¬ì•„ë‘ë©´ 1íšŒ ì´ìƒ ì‚¬ìš©ëë˜ ë°ì´í„°ëŠ” êµ³ì´ ë°ì´í„°ë² ì´ìŠ¤ê¹Œì§€ ì•ˆê°€ë”ë¼ë„ ìºì‹œê¹Œì§€ ê°€ê³  ë‹¤ì‹œ ì‚¬ìš©ìë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/84e89d63-8a87-42ef-b389-08591399a892/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/84e89d63-8a87-42ef-b389-08591399a892/Untitled.png)

### CDN(Contents Delivery Network, ì½˜í…ì¸  ì „ì†¡ ë„¤íŠ¸ì›Œí¬)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ed703bc8-9b04-4b70-9e30-7979b2d9f9f9/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ed703bc8-9b04-4b70-9e30-7979b2d9f9f9/Untitled.png)

ê° ë¦¬ì „ì— ì—£ì§€ ë¡œì¼€ì´ì…˜

### Amazon CloudFront

Amazonì˜ ê¸€ë¡œë²Œ CDN(ì½˜í…ì¸  ì „ì†¡ ë„¤íŠ¸ì›Œí¬)

ê¸°ë³¸ì ì¸ ë©€í‹° í‹°ì–´ ìºì‹œì™€ ê´‘ë²”ìœ„í•œ ìœ ì—°ì„±ìœ¼ë¡œ ëª¨ë“  ì „ì†¡ ì‚¬ë¡€ì— ìµœì í™”)

ì•„í‚¤í…ì²˜ì— ì¶”ê°€ì ì¸ ë³´ì•ˆ ê³„ì¸µ ì œê³µ

WebSocket í”„ë¡œí† ì½œ ì§€ì›

### Amazon CloudFrontì—ì„œ ìºì‹±ì´ ì‘ë™í•˜ëŠ” ë°©ì‹

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7383fb0a-0c19-4927-8fba-346e494f4d1d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7383fb0a-0c19-4927-8fba-346e494f4d1d/Untitled.png)

### ì–´ë–¤ ìœ í˜•ì˜ ì½˜í…ì¸ ë¥¼ ìºì‹œí•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?

ì›¹ (ì •ì  ì»¨í…ì¸  (ì‚¬ì§„, ë™ì˜ìƒ))

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4214233f-8382-46a3-8c71-8cb27c2ba500/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4214233f-8382-46a3-8c71-8cb27c2ba500/Untitled.png)

TTL (Time to Live) : ë§Œë£Œê¸°ê°„

TTL 0 : ë§Œë£Œê¸°ê°„ì´ ì—†ë‹¤

### CloudFrontë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/86d5ac18-737d-47fe-8587-3273b0c8fb08/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/86d5ac18-737d-47fe-8587-3273b0c8fb08/Untitled.png)

### ì½˜í…ì¸  ë§Œë£Œ ë°©ë²•

Time To Live(TTL)

- ê¸°ê°„ ê³ ì •(ë§Œë£Œ ê¸°ê°„)
- ê³ ê°ì´ ì„¤ì •
- CloudFrontì—ì„œ ì˜¤ë¦¬ì§„ìœ¼ë¡œì˜ GET ìš”ì²­ì— IF-Modified-Since headerë¥¼ ì‚¬ìš©

ê°ì²´ ì´ë¦„ ë³€ê²½

- Header-v1.jpgë¥¼ Header-v2.jpgë¡œ ë³€ê²½
- ìƒˆ ì´ë¦„ì´ ìƒê¸°ë©´ ìƒˆë¡œ ê³ ì¹¨ì´ ìˆ˜í–‰ë¨

ê°ì²´ ë¬´íš¨í™”

- ë§ˆì§€ë§‰ ìˆ˜ë‹¨: ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ê³  ë¹„ìš©ì´ ë§ì´ ë“¦

### ì•„í‚¤í…ì²˜ ì˜ˆì œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f81f3a51-0bf6-4c87-826a-9ad93b7ea138/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f81f3a51-0bf6-4c87-826a-9ad93b7ea138/Untitled.png)

ê¸°ë³¸ì ìœ¼ë¡œ CloudFrontëŠ” ìºì‹œì— ì½˜í…ì¸ ë¥¼ ì €ì¥í•˜ê³  ìˆë‹¤.

### DDoS ì™„í™”ì˜ ì˜ˆ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/688af18d-92da-4868-86c9-84d6e0172b07/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/688af18d-92da-4868-86c9-84d6e0172b07/Untitled.png)

WAF : Dosê³µê²© ìë™ ì°¨ë‹¨í•´ì¤€ë‹¤.

---

# ì˜¤í›„ ìˆ˜ì—…

## ì›¹ í‹°ì–´ ìºì‹±

### ì„¸ì…˜ ê´€ë¦¬

Elastic Load Balancing

ì‚¬ìš©ì ì„¸ì…˜ì„ ê´€ë¦¬í•˜ëŠ” íŠ¹ì • ì„œë²„ë¡œ ìš”ì²­ì„ ë¼ìš°íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

- í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì¿ í‚¤
- ë¹„ìš© íš¨ìœ¨ì„±
- ì„¸ì…˜ ê²€ìƒ‰ ì†ë„ ì¦ê°€

### ìƒíƒœ ì •ë³´ë¥¼ ìœ„í•´ DynamoDBë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdb945b1-be47-44df-aa51-a9117127739d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdb945b1-be47-44df-aa51-a9117127739d/Untitled.png)

## ë°ì´í„°ë² ì´ìŠ¤ ìºì‹±

```
DBA..
	ê°€ì¥ ë§ì´ í•˜ëŠ” ì—…ë¬´ : SQL Tuning -> ìµœì ì˜ SQLì„ ë§Œë“ ë‹¤.
		ìµœì ì˜ SQL? 
			cpu ì†Œë¹„ì‹œê°„ ì ê²Œ (2ìˆœìœ„) < (ë” ì¤‘ìš”) disk I/OëŸ‰ ì ê²Œ
```

íŠœë‹ ì „

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/140f9094-e2b1-4007-8a5d-fbd2f61312d6/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/140f9094-e2b1-4007-8a5d-fbd2f61312d6/Untitled.png)

íŠœë‹ í›„

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8eb6fd0a-97e6-4bd6-a1a5-ca5b5d8fbfbd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8eb6fd0a-97e6-4bd6-a1a5-ca5b5d8fbfbd/Untitled.png)

### ë°ì´í„°ë² ì´ìŠ¤ ìºì‹±ì€ ì–¸ì œ ì‹œì‘í•´ì•¼ í•©ë‹ˆê¹Œ?

ê³ ê°ì— ëŒ€í•œ ì‘ë‹µ ì‹œê°„ì´ ìš°ë ¤ë˜ëŠ” ê²½ìš°

ë¶€í•˜ê°€ í° ëŒ€ìš©ëŸ‰ ìš”ì²­ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë„˜ì¹˜ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ëŠ” ê²½ìš°

ë°ì´í„°ë² ì´ìŠ¤ ë¹„ìš©ì„ ì¤„ì´ê³  ì‹¶ì„ ë•Œ

### ìƒíƒœ ì •ë³´ë¥¼ ìœ„í•´ DynamoDBë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eaa794c5-6ff6-4bf8-97e2-ecf9f7cd5de1/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eaa794c5-6ff6-4bf8-97e2-ecf9f7cd5de1/Untitled.png)

DynamoDBë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

ì ìˆ˜ ê°™ì€ ê²ƒì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë€ë‹¤. ì„¸ì…˜ì„ ì €ì¥í•´ì„œ ì„¸ì…˜ ì •ë³´ë¥¼ ê³„ì†í•´ì„œ ë°˜ì˜í•´ì¤€ë‹¤ëŠ” ê²ƒ.

ë°€ë¦¬ì´ˆ ì •ë„ ë‹¨ìœ„ë¡œëŠ” ì‹¤ì‹œê°„ì— ë¶€ì¡±í•˜ë‹¤.

DynamoDBëŠ” ì‘ë‹µì‹œê°„ì´ ì•„ì£¼ ë¹ ë¥´ë‹¤.

### Amazon DynamoDB Accelerator

- íƒì›”í•œ ì„±ëŠ¥
- ë†’ì€ í™•ì¥ì„±
- ì™„ì „ ê´€ë¦¬í˜•
- DynamoDBì™€ API í˜¸í™˜
- ë³´ì•ˆ

### ìƒíƒœ ì •ë³´ë¥¼ ìœ„í•´ DynamoDBë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cdb34fbd-fd3e-4dac-9157-e9e8431be52c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cdb34fbd-fd3e-4dac-9157-e9e8431be52c/Untitled.png)

```
ì£¼ì‹
	1ì´ˆë‹¹ 5ë§Œê±´ì˜ ê±°ë˜ê°€ ì¼ì–´ë‚œë‹¤.
	ìºì‹± ì„œë²„ë¥¼ ë‘¬ì„œ ì¢€ ë” ë¹ ë¥´ê²Œ(ë§ˆì´í¬ë¡œì´ˆ ë‹¨ìœ„) ì²˜ë¦¬í•œë‹¤.
```

### Amazon ElasticCache

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7025fd2e-8ab0-4116-af4d-378cb05ef10d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7025fd2e-8ab0-4116-af4d-378cb05ef10d/Untitled.png)

### ì–´ë–»ê²Œ ì‘ë™í•©ë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/66b5e347-a3b0-4874-a698-f15765b1a753/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/66b5e347-a3b0-4874-a698-f15765b1a753/Untitled.png)

- ë…¸ë“œëŠ” ElastiCache ë°°í¬ì—ì„œ ê°€ì¥ ì‘ì€ ë¸”ë¡ì…ë‹ˆë‹¤.
- ê° ë…¸ë“œì—ëŠ” ê³ ìœ í•œ DNS(Domain Name Service) ì´ë¦„ ë° í¬íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤.
- ì™„ì „ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤

### Redis ë° Memcached

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/876a95ce-d4cf-44a6-b90b-1729175a27cd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/876a95ce-d4cf-44a6-b90b-1729175a27cd/Untitled.png)

Mem : 20ê°œê¹Œì§€ ë…¸ë“œë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤

Redis : 90ê°œê¹Œì§€ ë…¸ë“œë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤

### ë¹„êµ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e79bfb3-a138-4d1a-9bad-aa6854444650/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e79bfb3-a138-4d1a-9bad-aa6854444650/Untitled.png)

### ì—°ì†(ë™ì‹œ) ì“°ê¸°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/83f12215-3031-41dd-a39c-3d658d20236d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/83f12215-3031-41dd-a39c-3d658d20236d/Untitled.png)

### ë ˆì´ì§€ ë¡œë”© (ì§€ì—° ì“°ê¸°)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/acb8e4e9-c397-40c3-af6a-ff9b2958e0b2/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/acb8e4e9-c397-40c3-af6a-ff9b2958e0b2/Untitled.png)

1. ìºì‹œë¥¼ ëª» ì°¾ìŒ
2. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì›ë³¸ ë°ì´í„°ë¥¼ ìš”ì²­í•¨
3. ì›ë³¸ì˜ ë³µì‚¬ë³¸ì„ ìºì‹œì— ì €ì¥í•˜ê³  ìš”ì²­í•œ ì•±ì—ì„œ ì‚¬ìš©
4. ì´ í›„ ìºì‹œ ì ì¤‘

### TTL ì¶”ê°€

Elastic Cacheê°€ ë¬´ì œí•œì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— TTLì„ ì‚¬ìš©í•œë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7b72a029-db2c-41c5-a485-913452b6dcc7/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7b72a029-db2c-41c5-a485-913452b6dcc7/Untitled.png)

â‰’ ë©”ëª¨ë¦¬ ì¬ì‚¬ìš© ì •ì±… : LRU(Least Recently Used)

### AWS í´ë¼ìš°ë“œ ì•„í‚¤í…ì²˜: ì›¹ í˜¸ìŠ¤íŒ…

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4a89dadc-bdcf-4f03-82fc-6c3ccfecec52/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4a89dadc-bdcf-4f03-82fc-6c3ccfecec52/Untitled.png)

# ê²°í•© í•´ì œëœ ì•„í‚¤í…ì²˜ êµ¬ì¶•

ì´ì œ ì•„í‚¤í…ì²˜ëŠ” ìˆ˜ì‹­ë§Œ ëª…ì˜ ì‚¬ìš©ìë“¤ì„ ì§€ì›í•˜ì§€ë§Œ ì¼ë¶€ê°€ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤íŒ¨í•©ë‹ˆë‹¤. ì¢…ì†ì„±ì„ ì œê±°í•´ì•¼ í•©ë‹ˆë‹¤.

```
ê²°í•© í•´ì œ : uncupled
ê²°í•© â†’ ì¢…ì†ì„±ì„ ê°€ì§ â†’ ì¥ì• ê°€ ìƒê¸°ë©´ ì „ì²´ì ìœ¼ë¡œ ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆë‹¤.
ëª¨ë†€ë¦¬ì‹ ì»´í“¨íŒ… ì„œë¹„ìŠ¤ : ê²°í•© í•´ì œ -> ì¢…ì†ì„± ì œê±° -> í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜ êµ¬í˜„
                          ã„´ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤
                          ã„´ ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…
ì¢…ì†ì„±ì„ ì—†ì• ë¯€ë¡œì„œ ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ ì„œë¹„ìŠ¤ ì¥ì•  ìš”ì¸ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
```

**ëª¨ë“ˆ ê°œìš”**

- ê²°í•© í•´ì œëœ ì•„í‚¤í…ì²˜
- Amazon SQS ë° Amazon SNSë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°í•© í•´ì œëœ ì•„í‚¤í…ì²˜ êµ¬ì¶•

## ì•„í‚¤í…ì²˜ ê²°í•© í•´ì œ

### "ë°€ê²°í•©"ì´ë¼ëŠ” ìš©ì–´ê°€ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/83617f55-8128-462b-9e98-475fb2914499/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/83617f55-8128-462b-9e98-475fb2914499/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9d90c1ef-3b6c-44c7-a684-d802591749d8/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9d90c1ef-3b6c-44c7-a684-d802591749d8/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4369dfcb-3a97-4a0e-838c-c57167859270/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4369dfcb-3a97-4a0e-838c-c57167859270/Untitled.png)

### ëŠìŠ¨í•œ ê²°í•©

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a80d6d35-9aa7-47f2-92df-1b4b85e821eb/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a80d6d35-9aa7-47f2-92df-1b4b85e821eb/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5756adc2-85d1-42d8-a3f9-e2f7752e563d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5756adc2-85d1-42d8-a3f9-e2f7752e563d/Untitled.png)

### ì•± ì„œë²„ì— ë¶€í•˜ê°€ ë§ì•„ì§„ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae8d8848-5ff4-47f3-af51-561ccb37ac1e/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae8d8848-5ff4-47f3-af51-561ccb37ac1e/Untitled.png)

ì•± í‹°ì–´ì— ë¶€í•˜ê°€ ë°œìƒí•´ë„ ì›¹ í‹°ì–´ì—ëŠ” ì•„ë¬´ëŸ° ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

## Amazon SQSì™€ ê²°í•© í•´ì œ

### Amazon Simple Queue Service (SQS)

ì™„ì „ ê´€ë¦¬í˜• ë©”ì‹œì§€ ëŒ€ê¸°ì—´ ì„œë¹„ìŠ¤

ë©”ì‹œì§€ëŠ” ì²˜ë¦¬ ë° ì‚­ì œë  ë•Œê¹Œì§€ ì €ì¥ë©ë‹ˆë‹¤

ë°œì‹ ìì™€ ìˆ˜ì‹ ì ê°„ ë²„í¼ ì—­í• ì„ ë‹´ë‹¹

```
Queue : FIFO (First In First Out)
Stack : LIFO (Last In Last Out)
```

### ì†Œê²°í•© ì‹¤í˜„(Amazon SQS ì‚¬ìš©)

SQS ëŒ€ê¸°ì—´ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¹„ë™ê¸°ì‹ ì„œë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ë‹¨ê³„ì—ì„œ ì‹ ì†í•˜ê²Œ ì‘ë‹µ

ì‘ì—… ì¸ìŠ¤í„´ìŠ¤ì˜ ìˆ˜ë¥¼ ëŠ˜ë ¤ ì„±ëŠ¥ ë° ì„œë¹„ìŠ¤ ìš”êµ¬ ì‚¬í•­ ì²˜ë¦¬

ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì— ë‚¨ì•„ ìˆê¸° ë•Œë¬¸ì— ì‹¤íŒ¨í•œ ë‹¨ê³„ì—ì„œ ì‰½ê²Œ ë³µêµ¬

### ëŒ€ê¸°ì—´ ìœ í˜•

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5c5f2c85-f15d-4288-ae22-aa41afc21e64/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5c5f2c85-f15d-4288-ae22-aa41afc21e64/Untitled.png)

### SQS ì¼ë°˜ ì‚¬ìš© ì‚¬ë¡€

ì‘ì—… ëŒ€ê¸°ì—´

ë²„í¼ ë°°ì¹˜ ì‘ì—… (ì¼ê´„ ì²˜ë¦¬)

ìš”ì²­ ì˜¤í”„ë¡œë”©

ì¡°ì • íŠ¸ë¦¬ê±°

### Amazon SQS ê¸°ëŠ¥

ìì²´ ì¥ì•  ê´€ë¦¬ ê¸°ëŠ¥ (ëˆ„ë½ëœ ë°ì´í„° ê´€ë¦¬)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d1dc7b42-703e-449d-9a68-60c497a33024/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d1dc7b42-703e-449d-9a68-60c497a33024/Untitled.png)

### Amazon SQS ì˜ˆì œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c010800e-6d33-4cf4-bcb0-8b2623d24a0e/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c010800e-6d33-4cf4-bcb0-8b2623d24a0e/Untitled.png)

```
1) ìš”ì²­ ë“¤ì–´ì˜´
2) ì›¹ í‹°ì–´ì—ì„œ ì£¼ë¬¸ì •ë³´ë¥¼ ê³ ê° ì£¼ë¬¸ ëŒ€ê¸°ì—´ ë„£ëŠ”ë‹¤.
	ê³ ê° ì£¼ë¬¸ ëŒ€ê¸°ì—´ = SQS ëŒ€ê¸°ì—´
	FIFO
3) ì•± í‹°ì–´ì— ëŒ€ê¸°ì—´ ì£¼ë¬¸ì •ë³´ë¥¼ ê°€ì ¸ê°„ë‹¤. â†’ ì²˜ë¦¬ ì‹œì‘
4) ë°ì´í„° ì²˜ë¦¬ ì§„í–‰ â†’ ì—¬ëŸ¬ ì°¨ë¡€ ì‹œë„ â†’ ì´ ê³¼ì •ì—ì„œ ëˆ„ë½ì´ ë°œìƒ í•  ìˆ˜ ìˆìŒ
5) ëˆ„ë½ëœ ë°ì´í„°ëŠ” ëŒë‹¤í•¨ìˆ˜ì— ì˜í•´ ì•± í‹°ì–´ë‚˜ RDSì—ì„œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë‹¤ì‹œ ë˜ëŒë ¤ì¤€ë‹¤.
```

### Amazon SQS ë©”ì‹œì§€ ìˆ˜ëª… ì£¼ê¸°

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/385ef279-1a06-470b-b1a4-5ff438bd1c5c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/385ef279-1a06-470b-b1a4-5ff438bd1c5c/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f2f2d873-bfa9-4329-a7bb-60ef654d3e57/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f2f2d873-bfa9-4329-a7bb-60ef654d3e57/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e5600d61-3fdf-437c-88cb-0255eea81e63/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e5600d61-3fdf-437c-88cb-0255eea81e63/Untitled.png)

### ë©”ì‹œì§• ì‚¬ìš© ì‚¬ë¡€

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d3d9b135-3549-4220-ab62-25b5d55fa150/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d3d9b135-3549-4220-ab62-25b5d55fa150/Untitled.png)

## Amazon SNSì™€ ê²°í•© í•´ì œ

### Amazon Simple Notification Service(Amazon SNS)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9585a1a5-a086-4690-ba6c-c087cd033fef/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9585a1a5-a086-4690-ba6c-c087cd033fef/Untitled.png)

broadcasting

### Amazon SNS ë° Amazn S3ë¥¼ ì´ìš©í•œ ì†Œê²°í•© êµ¬í˜„

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/09d2558c-2079-48a1-b558-f37eeea0db15/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/09d2558c-2079-48a1-b558-f37eeea0db15/Untitled.png)

### ëŒë‹¤ í•¨ìˆ˜ ì‹¤ìŠµ

- API ê²Œì´íŠ¸ì›¨ì´

    AWS Console - Lambda
    í•¨ìˆ˜ ìƒì„± - ìƒˆë¡œ ì‘ì„±
    í•¨ìˆ˜ ì´ë¦„ : mylambda, ëŸ°íƒ€ì„ Node.js 14.x
    ì½”ë“œì†ŒìŠ¤ í™•ì¸
    í•¨ìˆ˜ ê°œìš” - íŠ¸ë¦¬ê±° ì¶”ê°€
    API ê²Œì´íŠ¸ ì›¨ì´ - API ìƒì„± - HTTP API - ì—´ê¸° - ì¶”ê°€
    API ê²Œì´íŠ¸ì›¨ì´ ì„¸ë¶€ ì •ë³´ - API ì—”ë“œí¬ì¸íŠ¸ ì£¼ì†Œ ë³µì‚¬ - ë¸Œë¼ìš°ì € ë¶™ì—¬ë„£ê¸°
    mylambda index.js ì½”ë“œ ìˆ˜ì • - Deploy
    ë¸Œë¼ìš°ì € í™•ì¸

    - ìº¡ì²˜
- íŒŒì´ì¬ í¬ë¡¤ë§

    êµ¬ê¸€ python download ê²€ìƒ‰ - ì ‘ì†
    python 3.7.9 ë²„ì „ ë‹¤ìš´ë¡œë“œ
    defaultë¡œ ì„¤ì¹˜
    python code 4ê°œ ì €ì¥

    ```python
    //base.py
    import requests
    from bs4 import BeautifulSoup

    class Base():
        def __init__(self):
            pass

        def page_parse(self):
            header = {
                "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36"
            }

            soup = []
            for url in self.url:
                res = requests.get(url, headers=header)
                soup.append(BeautifulSoup(res.text, 'html.parser'))

            return soup
    //main.py
    from melon import Melon
    import json

    def lambda_handler(event, context):
        return {
            'statusCode':200,
            'body':json.dumps(Melon().page_parse())
        }
    //melon.py
    from base import Base
    import re

    from music import Music

    class Melon(Base):
        def __init__(self):
            self.url = ['https://www.melon.com/chart/index.htm']

        def page_parse(self):
            soups = Base.page_parse(self)

            data = []

            for soup in soups:
                for rank, tr in enumerate(soup.select('#frm > div > table > tbody > tr'), start=1):
                    tds = tr.select('td')
                    if tds[2].select('span.up'):
                        rank_change = {'up': int(tds[2].select('span.up')[0].text)}
                    elif tds[2].select('span.down'):
                        rank_change = {'down': int(
                            tds[2].select('span.down')[0].text)}
                    else:
                        rank_change = {'none': 0}
                    album_id = re.findall("\d+", tds[3].select('a')[0]['href'])[0]
                    album_photo = tds[1].select('img')[0]['src']
                    song = tds[3].select_one(
                        'div[class="ellipsis rank01"]').text.strip()
                    singer = tds[3].select_one(
                        'div[class="ellipsis rank02"]').select('a')[0].text.strip()

                    data.append(Music(rank, rank_change,
                                      album_photo, song, singer).to_json())
            return data
    //music.py
    class Music:
        def __init__(self, rank, rank_change, album_photo, song, singer):
            self.rank = rank
            self.rank_change = rank_change
            self.album_photo = album_photo
            self.song = song
            self.singer = singer

        def to_json(self):
            data = {
                "rank": self.rank,
                "rank_change": self.rank_change,
                "img": self.album_photo,
                "song": self.song,
                "singer": self.singer
            }

            return data
    ```

    Windows CMDì—ì„œ pip3ë¡œ ë‹¤ìš´ë¡œë“œ

    ```bash
    Windows CMD ì°½
    F:\AWS\download\python_module>pip3 install requests -t .\python\
    F:\AWS\download\python_module>pip3 install bs4 -t .\python\
    ```

    í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ í›„ main.pyë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì†ŒìŠ¤ì½”ë“œ ë„£ê¸°
    ì••ì¶•í•˜ê¸° ( â€¼ **ì£¼ì˜** â€¼ ì••ì¶•í•œ ë’¤ ë°”ë¡œ íŒŒì¼ì´ ìˆìœ¼ë©´ ì•ˆë˜ê³  í´ë” ì•ˆì— íŒŒì¼ë“¤ì´ ìˆëŠ” êµ¬ì¡°ë¡œ ì••ì¶•í•˜ê¸° (ëŒë‹¤í•¨ìˆ˜ëŠ” ë””ë ‰í† ë¦¬ ë‹¨ìœ„ë¡œ ì½ê¸° ë•Œë¬¸ì´ë‹¤))

    AWS Consoleë¡œ ëŒì•„ì™€ í•¨ìˆ˜ ìƒì„±
    CMDì—ì„œ python ë²„ì „ í™•ì¸ -> 3.7.9
    í•¨ìˆ˜ ì´ë¦„: crawlerpy, ëŸ°íƒ€ì„: python 3.7 - ìƒì„±
    ì½”ë“œ ì†ŒìŠ¤ì—ì„œ labda_function.pyì— main.py ì†ŒìŠ¤ì½”ë“œ ë¶™ì—¬ë„£ê³  Deploy
    Lambda - ê³„ì¸µ - ê³„ì¸µ ìƒì„±
    ì´ë¦„: crawlerpy-layer, ì—…ë¡œë“œ: ì•„ê¹Œ ì••ì¶•í–ˆë˜ íŒŒì¼ ì—…ë¡œë“œ, í˜¸í™˜ ëŸ°íƒ€ì„: python 3.7 - ìƒì„±
    Lambda í•¨ìˆ˜ - crawlerpy í´ë¦­ - Layers í´ë¦­
    ê³„ì¸µ - Add a layer
    ì‚¬ìš©ì ì§€ì • ê³„ì¸µ - crawlerpy-layer - ë²„ì „: 1 - ì¶”ê°€
    Layers (1) í™•ì¸
    AWS Lambdaì— ì—…ë°ì´íŠ¸ëœ ì½˜ì†”ì„ ë¹„í™œì„±í™” í•˜ë©´ í…ŒìŠ¤íŠ¸ ì´ë²¤íŠ¸ êµ¬ì„±ì´ ë³´ì¸ë‹¤. í´ë¦­
    ì´ë²¤íŠ¸ ì´ë¦„: crawlerevent - ìƒì„±
    í…ŒìŠ¤íŠ¸ ë²„íŠ¼ í´ë¦­
    ì„±ê³µ ë¡œê·¸ (ë§Œì•½ ì‹¤íŒ¨ì‹œ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ í›„ ê¸°ë³¸ ì„¤ì • ì •ë³´ ë³€ê²½(ë©”ëª¨ë¦¬:512, ì œí•œì‹œê°„:10ì´ˆ))
    ì„±ê³µ ë¡œê·¸ ì„¸ë¶€ì •ë³´ í™•ì¸ (ë©œë¡ ì˜ ì°¨íŠ¸ê°€ í¬ë¡¤ë§ ë˜ì—ˆìŒì„ í™•ì¸!)

    - ìº¡ì²˜

# RTO/RPO ë° ë°±ì—… ë³µêµ¬ ì„¤ì •

RTO = ë‹¤ìš´íƒ€ì„ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦´ ê²ƒì´ëƒ (downtime)

RPO = ë³µêµ¬ ì‹œì ì— ëŒ€í•œ ì–˜ê¸° (data ì†ì‹¤)

ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì ì ˆí•œ ì‹œê°„ ë‚´ì— ì ì ˆí•œ ë¹„ìš©ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

**ëª¨ë“ˆ ê°œìš”**

- ì¬í•´ ë³µêµ¬ ê³„íš
- ë³µêµ¬ ì˜µì…˜

## ì¬í•´ ë³µêµ¬ ê³„íš

### ë¬´ì—‡ì„ ê³„íší•˜ê³  ìˆìŠµë‹ˆê¹Œ?

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0d12f0aa-71f3-4592-8599-baefea8ae026/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0d12f0aa-71f3-4592-8599-baefea8ae026/Untitled.png)

### ê°€ìš©ì„± ê°œë…

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9be3c579-0103-409d-a761-87595281b948/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9be3c579-0103-409d-a761-87595281b948/Untitled.png)

### RPO ë° RTO

```bash
ë°±ì—… ì „ëµ
	ì–¼ë§ˆë‚˜ ìì£¼ ë°ì´í„°ë¥¼ ë°±ì—…í•´ì•¼ í•˜ë‚˜?
	ì¼ì£¼ì¼ë™ì•ˆ ë§¤ì¼ ë°±ì—… ë‚´ìš©ë„ ë‹¤ë¥´ë‹¤
SLA(Service-Level Agreement) ì„œë¹„ìŠ¤ ìˆ˜ì¤€ ê³„ì•½
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9f658ace-14ff-4f37-9b41-6abb43907ebd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9f658ace-14ff-4f37-9b41-6abb43907ebd/Untitled.png)

### ì¬í•´ ë³µêµ¬ì— í•„ìˆ˜ì ì¸ AWS ì„œë¹„ìŠ¤ ë° ê¸°ëŠ¥

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f891529b-1e6c-4223-8b72-faab0f8967d4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f891529b-1e6c-4223-8b72-faab0f8967d4/Untitled.png)

### ìŠ¤í† ë¦¬ì§€ëŠ” ì¤‘ë³µë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cddc1515-37bd-45f7-9807-f733760b0580/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cddc1515-37bd-45f7-9807-f733760b0580/Untitled.png)

### AWS Backup

- ì¤‘ì•™ ì§‘ì¤‘ì‹ ë°±ì—… ê´€ë¦¬
- ì •ì±… ê¸°ë°˜ ë°±ì—… ì†”ë£¨ì…˜
- íƒœê·¸ ê¸°ë°˜ ë°±ì—… ì •ì±…
- ìë™í™”ëœ ë°±ì—… ì¼ì • ê´€ë¦¬

### ì»´í“¨íŒ… ë°±ì—… ì¡°ì •ì€ ì‰¬ì›Œì•¼ í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1897cc33-e30b-4ef7-bc76-6217c73d807b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1897cc33-e30b-4ef7-bc76-6217c73d807b/Untitled.png)

### ë„¤íŠ¸ì›Œí‚¹ ì¬í•´ ë³µêµ¬ ì˜µì…˜

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/42e77c25-0c2a-4d01-b28a-f6ca4433e537/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/42e77c25-0c2a-4d01-b28a-f6ca4433e537/Untitled.png)

### ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°±ì—… ë° ì¤‘ë³µë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a6b4dd7a-f6df-4361-a19f-63ef1c9f729d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a6b4dd7a-f6df-4361-a19f-63ef1c9f729d/Untitled.png)

### ìë™í™”ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹ ì†í•˜ê²Œ ë³µêµ¬í•©ë‹ˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7dd45078-7b5e-47bf-9e78-49e39fd5b0ac/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7dd45078-7b5e-47bf-9e78-49e39fd5b0ac/Untitled.png)

IaC

## ë³µêµ¬ ì „ëµ

### ë°±ì—… ë° ë³µì› ì˜ˆì œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c237051a-a98c-40f7-bccb-280ca3b74efe/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c237051a-a98c-40f7-bccb-280ca3b74efe/Untitled.png)

### ì˜¨í”„ë ˆë¯¸ìŠ¤ ë°ì´í„°ë¥¼ AWSë¡œ ë°±ì—…

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39effd6e-796e-42ab-9c8d-076f18b828c4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/39effd6e-796e-42ab-9c8d-076f18b828c4/Untitled.png)

### AWS Storage Gateway

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/46a8a7b0-e1d9-4186-861c-2a95c4a815be/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/46a8a7b0-e1d9-4186-861c-2a95c4a815be/Untitled.png)

### ì‚¬ìš© ì‚¬ë¡€: ê²Œì´íŠ¸ì›¨ì´ ì €ì¥ ë³¼ë¥¨ì„ ì‚¬ìš©í•œ ì˜¤í”„ì‚¬ì´íŠ¸ ë°±ì—… ì†”ë£¨ì…˜

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2e8dbd9e-6d92-4ebf-b3dd-7cfd481d17ca/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2e8dbd9e-6d92-4ebf-b3dd-7cfd481d17ca/Untitled.png)

### ë°±ì—…ì„ ì˜¨í”„ë ˆë¯¸ìŠ¤ ë°ì´í„° ì„¼í„°ë¡œ ë³µì›: ê²Œì´íŠ¸ì›¨ì´ ì €ì¥

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/900c0c6a-16e3-4b05-9dd6-3da67889affb/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/900c0c6a-16e3-4b05-9dd6-3da67889affb/Untitled.png)

### ë°±ì—… ë° ë³µì›

**ì¤€ë¹„ ë‹¨ê³„**

- í˜„ì¬ ì‹œìŠ¤í…œì„ ë°±ì—…í•©ë‹ˆë‹¤.
- Amazon S3ì— ë°±ì—…ì„ ì €ì¥í•©ë‹ˆë‹¤.
- AWSì˜ ë°±ì—…ìœ¼ë¡œë¶€í„° ë³µì›í•˜ëŠ” ì ˆì°¨ë¥¼ ê¸°ìˆ í•©ë‹ˆë‹¤.
    - ì‚¬ìš©í•  AMI(í•„ìš”í•˜ë©´ ìì²´ AMIë¥¼ êµ¬ì„±)
    - ë°±ì—…ìœ¼ë¡œë¶€í„° ì‹œìŠ¤í…œì„ ë³µì›í•˜ëŠ” ë°©ë²•
    - ìƒˆë¡œìš´ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜í•˜ëŠ” ë°©ë²•
    - ë°°í¬ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•

**ì¬í•´ ë°œìƒ ì‹œ:**

- Amazon S3ë¡œë¶€í„° ë°±ì—… ë°ì´í„°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
- í•„ìš”í•œ ì¸í”„ë¼ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
    - ì¤€ë¹„ëœ AMI, ELBë“±ì´ ìˆëŠ” Amazon EC2 ì¸ìŠ¤í„´ìŠ¤.
    - AWS CloudFormationì„ ì‚¬ìš©í•´ ì£¼ìš” ë„¤íŠ¸ì›Œí‚¹ ë°°í¬ë¥¼ ìë™í™”í•©ë‹ˆë‹¤.
- ë°±ì—…ìœ¼ë¡œë¶€í„° ì‹œìŠ¤í…œì„ ë³µì›í•©ë‹ˆë‹¤.
- ìƒˆë¡œìš´ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤.
    - AWSë¥¼ ê°€ë¦¬í‚¤ë„ë¡ DNS ë ˆì½”ë“œë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.

### íŒŒì¼ëŸ¿ ë¼ì´íŠ¸ ì˜ˆì œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa3c81f1-33bf-47a9-b95e-40c677a8557c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa3c81f1-33bf-47a9-b95e-40c677a8557c/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0366401f-8c45-441c-89c4-9e456a5579a5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0366401f-8c45-441c-89c4-9e456a5579a5/Untitled.png)

### ì™„ì „ ë™ì‘ ì €ìš©ëŸ‰ ìŠ¤íƒ ë°”ì´

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f204283c-7f2d-4e27-9747-6d34e51d9443/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f204283c-7f2d-4e27-9747-6d34e51d9443/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a0ddcdf9-509d-484e-add6-5f6f92364f56/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a0ddcdf9-509d-484e-add6-5f6f92364f56/Untitled.png)

### ë‹¤ì¤‘ ì‚¬ì´íŠ¸ ì•¡í‹°ë¸Œ-ì•¡í‹°ë¸Œ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1e98bf72-fdb5-4afe-889f-1c8d0bf14fc1/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1e98bf72-fdb5-4afe-889f-1c8d0bf14fc1/Untitled.png)

### AWS ê¸°ë°˜ ì¬í•´ ë³µêµ¬ì˜ ì¼ë°˜ ì‚¬ë¡€

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae2b9959-676e-400a-8911-2cd8b519e92d/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae2b9959-676e-400a-8911-2cd8b519e92d/Untitled.png)
