# Static Route Evaluation 풀이

### 네트워크 구성도

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/46244b9e-83f0-46f2-8216-be83015b8cf0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/46244b9e-83f0-46f2-8216-be83015b8cf0/Untitled.png)

router : 2620xm, pc : generic

### 장치 연결

R1,2,3 : NM-2FE2W 장착

R3,4 : W1C-1T 장착

cross cable로 모두 연결

R3-R4는 serial DCE로 연결

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/47a2e462-fb55-405b-8302-fc53f34538b4/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/47a2e462-fb55-405b-8302-fc53f34538b4/Untitled.png)

### 기본 설정

① ‘네트워크 구성도’를 참조하여 라우터 및 PC를 연결하고 디스플레이 이름을 변경하시오.

② 모든 라우터에서 명령어를 잘못 입력 할 경우 DNS 질의를 하지 않도록 설정하시오.

③ 모든 라우터에 콘솔 및 텔넷 접속할 경우 패스워드를 사용하여 인증 받을 수 있도록

설정하시오. (단, 패스워드는 admin, 텔넷 라인은 5개, 모든 패스워드는 암호화 함)

④ 모든 라우터에 관리자 모드로 진입 시 패스워드를 사용하여 인증 받을 수 있도록 설정

하되 MD5로 암호화 하시오. (단, 패스워드는 cisco)

⑥ 모든 라우터에 콘솔로 접속 후 명령어 입력이 없으면(IDLE) 2분 30초 뒤에 자동 로그아웃 되도록 하시오.

```
enable
conf t
no ip domain-lookup
line console 0
password admin
login
line vty 0 4
password admin
login
exit
service password-encryption
enable secret cisco
line console 0
exec-timeout 2 30
exit
hostname R
```

⑤ R1 라우터에 콘솔로 접속 시 메시지가 보이도록 하시오. (메시지: This is Router R1)

```
R1(config)#banner motd @
Enter TEXT message.  End with the character '@'.
This is Router R1
@
```

⑦ 모든 라우터의 부서별 네트워크와 연결된 인터페이스에 아래 IP 주소 할당표를 참고하여 부서명으로 부연설명을 설정 하시오.

```
R1(config)#int f0/0
R1(config-if)#description Engineer

R2(config)#int f0/0
R2(config-if)#description Sales

R3(config)#int f0/0
R3(config-if)#description Marketing

R4(config)#int f0/0
R4(config-if)#description Manage
```

### 서브넷팅

① 이 회사에 할당된 IP 네트워크는 172.16.100.0/24이다.

② Engineer 부서에는 15명, Marketing 부서에는 7명, Sales 부서에는 50명, Manage 부서 에는 3명의 부원이 있다.

③ 각 부서의 부원수에 맞게 최적화된 서브넷팅을 실시하되 Sales(50), Engineer(15), Marketing(7), Manage(3)순으로 서브넷팅하고 IP 주소도 순차적으로 할당하시오. (단, Zerobit Subnet은 사용된다.)

④ 각 서브넷의 가용한 첫 번째 IP는 부서별 PC에 할당하고 마지막 IP는 게이트웨이로 할당하시오.

### IP 주소 설정

① 모든 장치의 인터페이스 IP 주소는 ‘서브넷팅’을 푼 뒤 문제에서 요구하는 바에 따라 표 를 완성하고 적용하시오.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ee749ebb-65ba-4548-aa49-83a9efaf3952/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ee749ebb-65ba-4548-aa49-83a9efaf3952/Untitled.png)

```
R1(config)#int f0/0 
R1(config-if)#ip add 172.16.100.94 255.255.255.224 
R1(config-if)#no sh
R1(config-if)#int f1/0 
R1(config-if)#ip add 172.16.100.125 255.255.255.252 
R1(config-if)#no sh
R1(config-if)#int f1/1 
R1(config-if)#ip add 172.16.100.121 255.255.255.252 
R1(config-if)#no sh
====================================================
R2(config)#int f0/0 
R2(config-if)#ip add 172.16.100.62 255.255.255.192 
R2(config-if)#no sh 
R2(config-if)#int f1/0 
R2(config-if)#ip add 172.16.100.122 255.255.255.252 
R2(config-if)#no sh 
R2(config-if)#int f1/1 
R2(config-if)#ip add 172.16.100.129 255.255.255.252 
R2(config-if)#no sh 
====================================================
R3(config)#int f0/0 
R3(config-if)#ip add 172.16.100.110 255.255.255.240 
R3(config-if)#no sh 
R3(config-if)#int f1/1 
R3(config-if)#ip add 172.16.100.126 255.255.255.252 
R3(config-if)#no sh 
R3(config-if)#int f1/0 
R3(config-if)#ip add 172.16.100.130 255.255.255.252 
R3(config-if)#no sh 
R3(config-if)#int s0/0 
R3(config-if)#ip add 172.16.100.133 255.255.255.252 
R3(config-if)#no sh 
====================================================
R4(config)#int f0/0 
R4(config-if)#ip add 172.16.100.118 255.255.255.248 
R4(config-if)#no sh 
R4(config-if)#int s0/0 
R4(config-if)#ip add 172.16.100.134 255.255.255.252 
R4(config-if)#no sh
```

IP 주소 설정 후 인접 장치 간 통신 확인

### 정적경로 설정

① 모든 PC들은 서로 루프 없는 패킷 전송을 하여야 하며 정적경로 설정 시 Next Hop IP 주소를 사용하여 설정하시오.

```
R1(config)#ip route 172.16.100.0 255.255.255.192 172.16.100.122 
R1(config)#ip route 172.16.100.96 255.255.255.240 172.16.100.126 
R1(config)#ip route 172.16.100.112 255.255.255.248 172.16.100.126 
R1(config)#ip route 172.16.100.128 255.255.255.252 172.16.100.126 
R1(config)#ip route 172.16.100.132 255.255.255.252 172.16.100.126
=================================================================
R2(config)#ip route 172.16.100.64 255.255.255.224 172.16.100.121 
R2(config)#ip route 172.16.100.96 255.255.255.240 172.16.100.130 
R2(config)#ip route 172.16.100.124 255.255.255.252 172.16.100.121 
R2(config)#ip route 172.16.100.112 255.255.255.248 172.16.100.130 
R2(config)#ip route 172.16.100.132 255.255.255.252 172.16.100.130 
=================================================================
R3(config)#ip route 172.16.100.64 255.255.255.224 172.16.100.125 
R3(config)#ip route 172.16.100.0 255.255.255.192 172.16.100.129 
R3(config)#ip route 172.16.100.112 255.255.255.248 172.16.100.134 
R3(config)#ip route 172.16.100.120 255.255.255.252 172.16.100.129
```

② R1-R2 또는 R1-R3 또는 R2-R3 링크에 장애 발생 시에도 PC들 간의 통신은 보장되도 록 플루팅 정적경로를 설정하시오.

```
R1(config)#ip route 172.16.100.0 255.255.255.192 172.16.100.126 2 
R1(config)#ip route 172.16.100.96 255.255.255.240 172.16.100.122 2 
R1(config)#ip route 172.16.100.112 255.255.255.248 172.16.100.122 2 
====================================================================
R2(config)#ip route 172.16.100.64 255.255.255.224 172.16.100.130 2 
R2(config)#ip route 172.16.100.96 255.255.255.240 172.16.100.121 2 
R2(config)#ip route 172.16.100.112 255.255.255.248 172.16.100.121 2
====================================================================
R3(config)#ip route 172.16.100.64 255.255.255.224 172.16.100.129 2 
R3(config)#ip route 172.16.100.0 255.255.255.192 172.16.100.125 2
```

③ R4의 라우팅 테이블 엔트리 수가 최소화 되도록 축약하시오.

```
R4(config)#ip route 172.16.100.0 255.255.255.0 172.16.100.133
```

④ R1, R2, R3는 기본경로(Default Route)가 R4가 되도록 설정하되 R4에서 축약한 경로에 대해 루프가 발생하지 않도록 설정하시오.

```
R1(config)#ip route 0.0.0.0 0.0.0.0 172.16.100.126 
R1(config)#ip route 0.0.0.0 0.0.0.0 172.16.100.122 2
=====================================================
R2(config)#ip route 0.0.0.0 0.0.0.0 172.16.100.130 
R2(config)#ip route 0.0.0.0 0.0.0.0 172.16.100.121 2
=====================================================
R3(config)#ip route 0.0.0.0 0.0.0.0 172.16.100.134
```

루프 해결 

1. R4에서 축약하지 않는다.
2. R4에서 적당히 축약한다.

    기존에 축약한 설정은 삭제한다.

    ```
    R4(config)#no ip route 172.16.100.0 255.255.255.0 172.16.100.133
    ```

    새롭게 적당히 축약하여 설정한다.

    ```
    R4(config)#ip route 172.16.100.0 255.255.255.128 172.16.100.133 
    R4(config)#ip route 172.16.100.128 255.255.255.252 172.16.100.133
    ```

3. R4에서 축약을 설정한되 Null0 를 이용하여 패킷을 처리한다.

    ```
    R4(config)#ip route 172.16.100.0 255.255.255.0 172.16.100.133  

    R4(config)#ip route 172.16.100.136 255.255.255.248 null0 
    R4(config)#ip route 172.16.100.144 255.255.255.240 null0 
    R4(config)#ip route 172.16.100.160 255.255.255.224 null0 
    R4(config)#ip route 172.16.100.192 255.255.255.192 null0
    ```

4. R4에서 축약을 설정하고 R3에서 Null0 설정을 한다.

    ```
    R4(config)#ip route 172.16.100.0 255.255.255.0 172.16.100.133
    R3(config)#ip route 172.16.100.0 255.255.255.0 null0
    ```

# RIP Evaluation 풀이

### 네트워크 구성도

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae9c1ea0-18c6-435e-a4ca-2d3116e3cd87/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ae9c1ea0-18c6-435e-a4ca-2d3116e3cd87/Untitled.png)

router : 2620xm, pc : generic, switch : 2960

R1~3 : NM-2FE2W

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b631d134-4f41-409b-a664-fefc9b4fb5ec/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b631d134-4f41-409b-a664-fefc9b4fb5ec/Untitled.png)

### 기본설정

```
enable
configure terminal
line console 0
logging synchronous
exec-timeout 0
password console
login
exit
line vty 0 4
password telnet
login
exit
no ip domain-lookup
enable secret cisco
hostname
```

### IP 주소 설정

```
A 192.168.1.1 24 192.168.1.254
B 172.16.2.1 24 172.16.2.254
C 172.16.3.1 24 172.16.3.254
D 172.16.23.1 24 172.16.23.2
```

```
R1(config)#int f0/0 
R1(config-if)#ip add 192.168.1.254 255.255.255.0 
R1(config-if)#no sh 
R1(config-if)#int f1/0 
R1(config-if)#ip add 192.168.12.1 255.255.255.0 
R1(config-if)#no sh 
R1(config-if)#int f1/1 
R1(config-if)#ip add 192.168.13.1 255.255.255.0 
R1(config-if)#no sh 
================================================
R2(config)#int f0/0 
R2(config-if)#ip add 172.16.2.254 255.255.255.0 
R2(config-if)#no sh 
R2(config-if)#int f1/1 
R2(config-if)#ip add 192.168.12.2 255.255.255.0 
R2(config-if)#no sh 
R2(config-if)#int f1/0 
R2(config-if)#ip add 172.16.23.2 255.255.255.0 
R2(config-if)#no sh 
================================================
R3(config)#int f0/0 
R3(config-if)#ip add 172.16.3.254 255.255.255.0 
R3(config-if)#no sh 
R3(config-if)#int f1/0 
R3(config-if)#ip add 192.168.13.3 255.255.255.0 
R3(config-if)#no sh 
R3(config-if)#int f1/1 
R3(config-if)#ip add 172.16.23.3 255.255.255.0 
R3(config-if)#no sh
```

인접장치 ping 확인

### 라우팅 설정

```
R1(config)#router rip 
R1(config-router)#ver 2 
R1(config-router)#network 192.168.1.0 
R1(config-router)#network 192.168.12.0 
R1(config-router)#network 192.168.13.0 
========================================
R2(config)#router rip 
R2(config-router)#ver 2 
R2(config-router)#network 192.168.12.0 
R2(config-router)#network 172.16.0.0
```

### 기타 필요한 설정

```
R1(config)#router rip 
R1(config-router)#passive-interface f0/0 
R1(config-router)#no auto-summary 
========================================
R2(config)#router rip 
R2(config-router)#passive-interface f0/0 
R2(config-router)#no auto-summary 
========================================
R3(config)#router rip 
R3(config-router)#passive-interface f0/0 
R3(config-router)#no auto-summary
```

### 기본 경로 설정

```
방법 1
R2(config)#ip route 0.0.0.0 0.0.0.0 192.168.12.1 
R3(config)#ip route 0.0.0.0 0.0.0.0 192.168.13.1
방법 2
R1(config)#router rip 
R1(config-router)#default-information originate
방법 3
R1(config)#ip default-network 192.168.1.0
방법 4
R1(config)#ip route 0.0.0.0 0.0.0.0 null0 
R1(config)#router rip 
R1(config-router)#redistribute static metric 1
```

# 라우터  DHCP 설정

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e0f5e41-0741-497e-b5fb-8c328500b2e0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e0f5e41-0741-497e-b5fb-8c328500b2e0/Untitled.png)

### 네트워크 구성도

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7135624b-9135-40d0-8599-7bce66fd98af/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7135624b-9135-40d0-8599-7bce66fd98af/Untitled.png)

switch : 2960, router : 2620xm

### 기본설정

```
enable
configure terminal
line console 0
logging synchronous
exec-timeout 0
password console
login
exit
line vty 0 4
password telnet
login
exit
no ip domain-lookup
enable secret cisco
hostname R
```

### 라우터 IP 주소 설정

```
R1(config)#int f0/0 
R1(config-if)#ip add 192.168.1.254 255.255.255.0 
R1(config-if)#no sh
R1(config-if)#int f0/1 
R1(config-if)#ip add 192.168.12.1 255.255.255.0 
R1(config-if)#no sh
=================================================
R2(config)#int f0/0 
R2(config-if)#ip add 192.168.2.254 255.255.255.0 
R2(config-if)#no sh 
R2(config-if)#int f0/1 
R2(config-if)#ip add 192.168.12.2 255.255.255.0 
R2(config-if)#no sh
```

인접장치간 통신 확인

### 라우팅(RIPv2) 설정

```
R1(config)#router rip 
R1(config-router)#ver 2 
R1(config-router)#network 192.168.1.0 
R1(config-router)#network 192.168.12.0
=================================================
R2(config)#router rip 
R2(config-router)#ver 2 
R2(config-router)#network 192.168.2.0 
R2(config-router)#network 192.168.12.0
```

### DHCP 설정

```
R1(config)#ip dhcp pool R1-Local 
R1(dhcp-config)#network 192.168.1.0 255.255.255.0 
R1(dhcp-config)#default-router 192.168.1.254 
R1(dhcp-config)#dns-server 168.126.63.1 
R1(dhcp-config)#exit 
R1(config)#ip dhcp excluded-address 192.168.1.254 
R1(config)#ip dhcp excluded-address 192.168.1.100 192.168.1.200
```

### 로컬 PC에서 IP 주소 동적으로 받기

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ed4f3381-f2d0-4b6b-b65f-99408db3f0ab/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ed4f3381-f2d0-4b6b-b65f-99408db3f0ab/Untitled.png)

### 다른 네트워크에 DHCP로 IP주소 동적 할당

```
R1(config)#ip dhcp pool R2-Local 
R1(dhcp-config)#network 192.168.2.0 255.255.255.0 
R1(dhcp-config)#default-router 192.168.2.254 
R1(dhcp-config)#dns-server 8.8.8.8 
R1(dhcp-config)#exit 
R1(config)#ip dhcp excluded-address 192.168.2.254 
==================================================
R2(config)#int f0/0 
R2(config-if)#ip helper-address 192.168.12.1
```

### 원격 PC에서 IP 주소 동적으로 받기

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4670aa4b-9f7d-4345-bbe9-a85868e6c565/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4670aa4b-9f7d-4345-bbe9-a85868e6c565/Untitled.png)

### 원격 통신 확인

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/34069396-9966-45bb-b5b8-9b9a6875a2c5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/34069396-9966-45bb-b5b8-9b9a6875a2c5/Untitled.png)
