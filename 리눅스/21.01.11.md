# nmcli/nmtui

# ë‹¨ì›ëª©í‘œ

---

- nmcli
- nmtui

---

ì§€ê¸ˆê¹Œì§€ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ì •í•˜ëŠ” ê²½ìš°ì— GUI - ìœ ì„  ì„¤ì •. ë„¤íŠ¸ì›Œí¬ ì„¤ì • tool - GUI

runlevel 5ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

GUIê°€ ì—†ëŠ” í™˜ê²½ì—ì„œëŠ”? â†’ nmcli, nmtui

ifconfig < ìµœì†Œ ì„¤ì¹˜ì‹œ ê¸°ë³¸ ì„¤ì¹˜ë˜ì§€ ì•ŠëŠ”ë‹¤.

net-tool

# ë„¤íŠ¸ì›Œí¬ ì„¤ì • ìœ íš¨ì„± ê²€ì‚¬

ê¸°ë³¸ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ í…ŒìŠ¤íŠ¸ ë° ê²€í† í• ìˆ˜ ìˆì–´ì•¼í•œë‹¤.

## IP ì£¼ì†Œ í‘œì‹œ

ip ëª…ë ¹ì–´ëŠ” ifconfig ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í• ìˆ˜ ì—†ëŠ” ìµœì†Œ ì„¤ì¹˜ ë²„ì „ì—ë„ ë‚´ì¥ë˜ì–´ ìˆëŠ” ëª…ë ¹ì–´ì´ë‹¤. 

```bash
# ip
Usage: ip [ OPTIONS ] OBJECT { COMMAND | help }
       ip [ -force ] -batch filename
where  OBJECT := { link | address | addrlabel | route | rule | neigh | ntable |
                   tunnel | tuntap | maddress | mroute | mrule | monitor | xfrm |
                   netns | l2tp | fou | macsec | tcp_metrics | token | netconf | ila |
                   vrf }
       OPTIONS := { -V[ersion] | -s[tatistics] | -d[etails] | -r[esolve] |
                    -h[uman-readable] | -iec |
                    -f[amily] { inet | inet6 | ipx | dnet | mpls | bridge | link } |
                    -4 | -6 | -I | -D | -B | -0 |
                    -l[oops] { maximum-addr-flush-attempts } | -br[ief] |
                    -o[neline] | -t[imestamp] | -ts[hort] | -b[atch] [filename] |
                    -rc[vbuf] [size] | -n[etns] name | -a[ll] |Â -c[olor]}
```

[EX] ip ëª…ë ¹ì–´ì˜ êµ¬ë¬¸ í•´ì„

 

```bash
# ip address show ens33
2: ens33: <BROADCAST,MULTICAST,**UP**,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    **link**/ether 00:0c:29:62:37:8b brd ff:ff:ff:ff:ff:ff
    **inet** 192.168.10.200/24 brd **192.168.10.255** scope global noprefixroute ens33
       valid_lft forever preferred_lft forever
    **inet6** fe80::eac9:76d7:351c:9532/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever

**UP  > í™œì„± ì¸í„°í˜ì´ìŠ¤ì—ëŠ” UP ìƒíƒœê°€ ìˆë‹¤.
link > link í–‰ì€ ì¥ì¹˜ì˜ í•˜ë“œì›¨ì–´(MAC) ì£¼ì†Œë¥¼ ì§€ì •í•œë‹¤.
inet** > **inet í–‰ì€ IPv4 ì£¼ì†Œ ë° ì ‘ë‘ì‚¬ë¥¼ í‘œì‹œí•œë‹¤.
192.168.10.255 > ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì£¼ì†Œ, ë²”ìœ„ ë° ì¥ì¹˜ ì´ë¦„ë„ ì´ í–‰ì— í‘œì‹œëœë‹¤. 
inet6 > inet6 í–‰ì€ IPv6 ì •ë³´ë¥¼ í‘œì‹œí•œë‹¤.**
```

ip ëª…ë ¹ì€ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ì— ëŒ€í•œ í†µê³„ë¥¼ í‘œì‹œí•˜ëŠ” ë°ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìˆ˜ì‹ (RX) ë° ì „ì†¡(TX)ëœ íŒ¨í‚·, ì˜¤ë¥˜ ë° ëˆ„ë½ëœ ì¹´ìš´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¼ì¡, ë©”ëª¨ë¦¬ ë¶€ì¡±, ì˜¤ë²„ëŸ° ë“±ì— ì˜í•œ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¥¼ ì‹ë³„í• ìˆ˜ ìˆë‹¤.

```bash
# ip -s link show ens33
2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 00:0c:29:62:37:8b brd ff:ff:ff:ff:ff:ff
    RX: bytes  packets  errors  dropped overrun mcast   
    344309780  239552   0       0       0       0       
    TX: bytes  packets  errors  dropped carrier collsns 
    2223144    29699    0       0       0       0
```

## ë¼ìš°íŒ… ë¬¸ì œ í•´ê²°

ip ëª…ë ¹ì–´ëŠ” ë¼ìš°íŒ… ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

```bash
# ip route
default via 192.168.10.2 dev ens33 proto static metric 100 
192.168.10.0/24 dev ens33 proto kernel scope link src 192.168.10.200 metric 100 
192.168.122.0/24 dev virbr0 proto kernel scope link src 192.168.122.1
```

ì„¤ëª… :  ì–´ë”˜ê°€ë¡œ ì •ë³´ë¥¼ ë„˜ê²¨ì¤€ë‹¤. ì‹œìŠ¤í…œì—ì„œ ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•œ ë¬´ì–¸ê°€ë¥¼ ìœ„í•´ì„œ ì–´ë””ë¡œ ë³´ë‚¼ê²ƒì¸ê°€ ê²°ì •í•˜ëŠ” ê³³. 

â­defaultë¼ì¸ ì¤‘ìš”

ping ëª…ë ¹ì€ ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ ëª…ë ¹ì€ ì „ì†¡ëœ íŒ¨í‚· ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ì˜µì…˜ì´ ì„¤ì •ë˜ì§€ ì•Šì€ í•œ Ctrl+Cë¥¼ ëˆ„ë¥¼ ë•Œê¹Œì§€ ê³„ì† ì‹¤í–‰ëœë‹¤.

```bash
# ping -c 3 192.168.10.2
PING 192.168.10.2 (192.168.10.2) 56(84) bytes of data.
64 bytes from 192.168.10.2: icmp_seq=1 ttl=128 time=0.471 ms
64 bytes from 192.168.10.2: icmp_seq=2 ttl=128 time=0.193 ms
64 bytes from 192.168.10.2: icmp_seq=3 ttl=128 time=0.120 ms

--- 192.168.10.2 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2000ms
rtt min/avg/max/mdev = 0.120/0.261/0.471/0.151 ms
```

```bash
pingë„ ê²°êµ­ì— í”„ë¡œí† ì½œì´ë‹¤.
ì°¨ë‹¨ì´ ê°€ëŠ¥í•˜ê³  serverëŠ” ì‚´ì•„ ìˆìŒì—ë„ ping ëª…ë ¹ì–´ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë“¤ë„ ì¡´ì¬í•œë‹¤.
CMD > # ping www.naver.com
	ì•ˆë³´ë‚´ì§„ë‹¤
```

ì›ê²© í˜¸ìŠ¤íŠ¸ ê²½ë¡œë¥¼ ì¶”ì í•˜ë ¤ë©´ traceroute ë˜ëŠ” tracepathë¥¼ ì‚¬ìš©í•œë‹¤. ë‘ ëª…ë ¹ ëª¨ë‘ UDP íŒ¨í‚·ìœ¼ë¡œ ê²½ë¡œë¥¼ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ê·¸ëŸ¬ë‚˜ ë§ì€ ë„¤íŠ¸ì›Œí¬ê°€ UDP ë° ICMP íŠ¸ë˜í”½ì„ ì°¨ë‹¨í•œë‹¤.

traceroute ëª…ë ¹ì—ëŠ” UDP(ê¸°ë³¸ê°’), ICMP(-I) ë˜ëŠ” TCP(-T) íŒ¨í‚·ìœ¼ë¡œ ê²½ë¡œë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ì˜µì…˜ì´ ìˆì§€ë§Œ ì´ ëª…ë ¹ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.

```bash
# dnf -y install traceroute
# rpm -qa | grep traceroute
traceroute-2.0.22-2.el7.x86_64
# traceroute www.google.com
ë„ë¦¬ì–´ ê°€ìƒí™” í™˜ê²½ì—ì„œ ì“°ê¸° ì¢‹ë‹¤.
ì–´ë””ì„œë¶€í„° ì–´ë””ê¹Œì§€ ë˜ê³  ì–´ë””ì„œë¶€í„° ëŠê¸°ëŠ”ì§€ í™•ì¸í•˜ê¸° ì‰¬ì›Œì¡Œë‹¤.
```

tracepathì˜ ì¶œë ¥ì—ì„œ ê° í–‰ì€ ì†ŒìŠ¤ ë° ìµœì¢… ëª©ì ì§€ ì‚¬ì´ì—ì„œ íŒ¨í‚·ì´ í†µê³¼í•˜ëŠ” ë¼ìš°í„° ë˜ëŠ” hopì„ ë‚˜íƒ€ë‚¸ë‹¤. ë¼ìš´ë“œ íŠ¸ë¦½ íƒ€ì´ë°(RTT) ë° ìµœëŒ€ ì „ì†¡ ë‹¨ìœ„(MTU) í¬ê¸°ë¥¼ í¬í•¨í•œ ì¶”ê°€ ì •ë³´ë„ ì œê³µí•œë‹¤.

## í¬íŠ¸ ë° ì„œë¹„ìŠ¤ ë¬¸ì œ í•´ê²°

TCP ì„œë¹„ìŠ¤ëŠ” ì†Œì¼“ì„ í†µì‹ ìš© ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‚¬ìš©í•˜ë©° IP ì£¼ì†Œ, í”„ë¡œí† ì½œ ë° í¬íŠ¸ ë²ˆí˜¸ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ëŠ” í‘œì¤€ í¬íŠ¸ì—ì„œ ìˆ˜ì‹  ëŒ€ê¸°ë¥¼ í•˜ëŠ” ë°˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ ì„ì˜ì˜ í¬íŠ¸ë¥¼ í™œìš©í•˜ì—¬ í‘œì¤€ í¬íŠ¸ì— ì—°ê²°ëœë‹¤. í‘œì¤€ í¬íŠ¸ì˜ ì˜ ì•Œë ¤ì§„ ì´ë¦„ì€ /etc/services íŒŒì¼ì— ë‚˜ì—´ë˜ì–´ ìˆë‹¤.

ss ëª…ë ¹ì€ ì†Œì¼“ í†µê³„ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ss ëª…ë ¹ì€ net-tools íŒ¨í‚¤ì§€ì— í¬í•¨ëœ ê¸°ì¡´ ë„êµ¬ì¸ netstatë¥¼ ëŒ€ì²´í•œë‹¤. ì´ ë„êµ¬ëŠ” ì¼ë¶€ ì‹œìŠ¤í…œ ê´€ë¦¬ìì—ê²Œ ë” ìµìˆ™í•˜ì§€ë§Œ ì„¤ì¹˜ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.

```bash
# netstat (ì˜ˆì „ì— ì“°ë˜ê±°)
# ss -ta
State      Recv-Q Send-Q Local Address:Port                 Peer Address:Port                
LISTEN     0      128    127.0.0.1:ipp                      *:*                    
LISTEN     0      100    **127.0.0.1:smtp (2)**                 *:*                    
LISTEN     0      128    127.0.0.1:x11-ssh-offset           *:*                    
LISTEN     0      128    *:sunrpc                           *:*                    
LISTEN     0      5      192.168.122.1:domain               *:*                    
LISTEN     0      128    ***:ssh (1)**                          *:*                    
ESTAB      0      0      **192.168.10.200:ssh (3)             192.168.10.1:54611 (3-1)**                
LISTEN     0      128    [::1]:ipp                          [::]:*                    
LISTEN     0      100    **[::1]:smtp (5)**                     [::]:*                    
LISTEN     0      128    [::1]:x11-ssh-offset               [::]:*                    
LISTEN     0      128    [::]:sunrpc                        [::]:*                    
LISTEN     0      128    **[::]:ssh (4)**                       [::]:*
```

(1) SSHì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ëŠ” ëª¨ë“  IPv4 ì£¼ì†Œì— ì—°ê²°ëœë‹¤. "*"ëŠ” IPv4 ì£¼ì†Œ ë˜ëŠ” í¬íŠ¸ë¥¼ ì°¸ì¡°í•  ë•Œ "ëª¨ë‘"ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

(2) SMTPì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ëŠ” 127.0.0.1 IPv4 ë£¨í”„ë°± ì¸í„°í˜ì´ìŠ¤ì— ì—°ê²°ëœë‹¤.

(3) SSHëŠ”192,168.10.200 ì¸í„°í˜ì´ìŠ¤ì— ì—°ê²°ë˜ë©°, (3-1)ì´ ì—°ê²°ì€ ì£¼ì†Œê°€ 192.168.10.1ì¸ ì‹œìŠ¤í…œì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.

(4) SSHì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ëŠ” ëª¨ë“  IPv6 ì£¼ì†Œì— ì—°ê²°ëœë‹¤. "::" êµ¬ë¬¸ì€ ëª¨ë“  IPv6 ì¸í„°í˜ì´ìŠ¤ë¥¼ í‘œí˜„í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

(5) SMTPì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ëŠ” ::1 IPv6 ë£¨í”„ë°± ì¸í„°í˜ì´ìŠ¤ì— ì—°ê²°ëœë‹¤.

```bash
ss ë° netstatì— ëŒ€í•œ ì˜µì…˜
ì˜µì…˜    ì„¤ëª…
-n     ì¸í„°í˜ì´ìŠ¤ ë° í¬íŠ¸ì˜ ì´ë¦„ ëŒ€ì‹  ë²ˆí˜¸ë¥¼ í‘œì‹œí•œë‹¤.
-t     TCP ì†Œì¼“ì„ í‘œì‹œí•œë‹¤.
-u     UDP ì†Œì¼“ì„ í‘œì‹œí•œë‹¤.
-l     ì—°ê²°ëœ ì†Œì¼“ë§Œ í‘œì‹œí•œë‹¤.
-a     ëª¨ë“ (ì—°ê²° ë° ì„¤ì •ëœ) ì†Œì¼“ì„ í‘œì‹œí•œë‹¤.
-p     ì†Œì¼“ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ í‘œì‹œí•œë‹¤.
```

### [EX] ë„¤íŠ¸ì›Œí¬ ì„¤ì • ê²€ì‚¬

 server1ì„ ì´ˆê¸°í™” í•œë’¤ ì‘ì—…í•©ë‹ˆë‹¤.

```bash
1. ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ì˜ í˜„ì¬ IP ì£¼ì†Œ ë° ë„· ë§ˆìŠ¤í¬ë¥¼ í‘œì‹œí•œë‹¤.
# ip addr
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:0c:29:62:37:8b brd ff:ff:ff:ff:ff:ff
    inet 192.168.10.200/24 brd 192.168.10.255 scope global noprefixroute ens33
       valid_lft forever preferred_lft forever
    inet6 fe80::eac9:76d7:351c:9532/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
3: virbr0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default qlen 1000
    link/ether 52:54:00:44:82:f2 brd ff:ff:ff:ff:ff:ff
    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0
       valid_lft forever preferred_lft forever
4: virbr0-nic: <BROADCAST,MULTICAST> mtu 1500 qdisc pfifo_fast master virbr0 state DOWN group default qlen 1000
    link/ether 52:54:00:44:82:f2 brd ff:ff:ff:ff:ff:ff

2. ens[NUMBER] ì¸í„°í˜ì´ìŠ¤ì˜ ìƒíƒœë¥¼ í‘œì‹œí•œë‹¤.
# ip -s link show ens33
2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 00:0c:29:62:37:8b brd ff:ff:ff:ff:ff:ff
    RX: bytes  packets  errors  dropped overrun mcast   
    344403969  240694   0       0       0       0       
    TX: bytes  packets  errors  dropped carrier collsns 
    2470162    30824    0       0       0       0

3. ë¼ìš°íŒ… ì •ë³´ë¥¼ í‘œì‹œí•œë‹¤.
# ip route
default via 192.168.10.2 dev ens33 proto static metric 100 
192.168.10.0/24 dev ens33 proto kernel scope link src 192.168.10.200 metric 100 
192.168.122.0/24 dev virbr0 proto kernel scope link src 192.168.122.1

4. ë¼ìš°í„°ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
# ping -c 3 192.168.10.2
PING 192.168.10.2 (192.168.10.2) 56(84) bytes of data.
64 bytes from 192.168.10.2: icmp_seq=1 ttl=128 time=0.185 ms
64 bytes from 192.168.10.2: icmp_seq=2 ttl=128 time=0.118 ms
64 bytes from 192.168.10.2: icmp_seq=3 ttl=128 time=0.144 ms

--- 192.168.10.2 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2000ms
rtt min/avg/max/mdev = 0.118/0.149/0.185/0.027 ms

5. ë¡œì»¬ ì‹œìŠ¤í…œê³¼ 192.168.10.210 ì‚¬ì´ì˜ ëª¨ë“  í™‰ì„ í‘œì‹œí•œë‹¤.
# traceroute 192.168.10.210
traceroute to 192.168.10.210 (192.168.10.210), 30 hops max, 60 byte packets
 1  server2.example.com (192.168.10.210)  0.335 ms !X  0.241 ms !X  0.177 ms !X

6. ë¡œì»¬ ì‹œìŠ¤í…œì—ì„œ ì—°ê²°ëœ TCP ì†Œì¼“ì„ í‘œì‹œí•œë‹¤.
# ss -lt 
State   Recv-Q  Send-Q  Local                     Address:Port  Peer  Address:Port
LISTEN  0       128     127.0.0.1:ipp             *:*
LISTEN  0       100     127.0.0.1:smtp            *:*
LISTEN  0       128     127.0.0.1:x11-ssh-offset  *:*
LISTEN  0       128     *:sunrpc                  *:*
LISTEN  0       5       192.168.122.1:domain      *:*
LISTEN  0       128     *:ssh                     *:*
LISTEN  0       128     [::1]:ipp                 [::]:*
LISTEN  0       100     [::1]:smtp                [::]:*
LISTEN  0       128     [::1]:x11-ssh-offset      [::]:*
LISTEN  0       128     [::]:sunrpc               [::]:*
LISTEN  0       128     [::]:ssh                  [::]:*
```

centos 3,4,5

4ë²ˆê¹Œì§€ëŠ” redhatì´ ì•„ë‹ˆë¼ sysconfigë‘ ì„ì—¬ì„œ ì• ë§¤í–ˆë‹¤. 5ë²„ì „ë¶€í„° redhat ì‹œìŠ¤í…œ 

# NetworkManager

NetworkManagerëŠ” ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ëª¨ë‹ˆí„°ë§ ë° ê´€ë¦¬í•˜ëŠ” ë°ëª¬ì´ë‹¤. ë°ëª¬ë¿ ì•„ë‹ˆë¼ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” GNOME ì•Œë¦¼ ì˜ì—­ ì• í”Œë¦¿ë„ ìˆë‹¤. ëª…ë ¹ì¤„ ë° ê·¸ë˜í”½ ë„êµ¬ëŠ” NetworkManagerì™€ í†µì‹ í•˜ë©° êµ¬ì„± íŒŒì¼ì„ /etc/sysconfig/network-scripts ë””ë ‰í„°ë¦¬ì— ì €ì¥í•œë‹¤. ì¥ì¹˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì´ë©° ì—°ê²°ì€ ì„¤ì • ëª¨ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì¥ì¹˜ì— ì‚¬ìš©ë˜ëŠ” êµ¬ì„±ìœ¼ë¡œ ë˜ì–´ìˆë‹¤. í•œ ì¥ì¹˜ì— ì—¬ëŸ¬ ì—°ê²°ì´ ì¡´ì¬í•  ìˆ˜ ìˆì§€ë§Œ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì—°ê²°ë§Œ í™œì„±í™”ë  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í•œ ì‹œìŠ¤í…œì€ DHCPê°€ ì œê³µí•œ ì„¤ì •ì„ í†µí•´ í•œ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë  ìˆ˜ ìˆë‹¤. ë•Œë¡œëŠ” ê·¸ ì‹œìŠ¤í…œì„ ì •ì  ë„¤íŠ¸ì›Œí‚¹ë§Œ ì‚¬ìš©í•˜ëŠ” ë© ë˜ëŠ” ë°ì´í„° ì„¼í„°ì— ì—°ê²°í•´ì•¼ í•œë‹¤. ì„¤ì •ì„ ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ëŒ€ì‹  ê° ì„¤ì •ì„ ë³„ê°œì˜ ì—°ê²°ë¡œ ì €ì¥í•  ìˆ˜ ìˆë‹¤.

```bash
ì¥ì¹˜ : ë¬¼ë¦¬ì ì¸ ë””ë°”ì´ìŠ¤
ì—°ê²° : ì¥ì¹˜ì— ì ‘ì† ê°€ëŠ¥í•œ í”„ë¡œíŒŒì¼
ğŸ’¡ì—°ê²°ì€ ì—¬ëŸ¬ ê°œê°€ ì¡´ì¬ í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì¥ì¹˜ì™€ ì—°ê²°ë§Œ ë§¤í•‘ ê°€ëŠ¥í•˜ë‹¤.
â— í•œë²ˆì— ë‘ ê°œ ì´ìƒì˜ ì—°ê²°ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì£¼ì˜í•  ì 
	ê·¸ ì¤‘ í•˜ë‚˜ê°€ ìë™ì—°ê²°ì¸ ê²½ìš°ì—ëŠ” (1 ìë™, 2 ìˆ˜ë™) í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ ì—°ê²° 2 (ìˆ˜ë™)ì¸ ê²½ìš° 2ì—°ê²°ì„ í•´ì œí•˜ë©´ 1ë²ˆì— ìë™ì—°ê²°ëœë‹¤.
	> ì´ëŸ° ê²½ìš° ë•Œë¬¸ì— ìë™ì—°ê²°ì„ ëª¨ë‘ í•´ì œí•˜ê³  ìˆ˜ë™ìœ¼ë¡œ ì—°ê²°í•œë‹¤.
```

í¬ê²Œ nmcliì™€ nmtui ëª…ë ¹ì´ ì¡´ì¬í•œë‹¤.

```bash
# nmcli
ens33: connected to ens33
        "Intel 82545EM"
        ethernet (e1000), 00:0C:29:62:37:8B, hw, mtu 1500
        ip4 default
        inet4 192.168.10.200/24
        route4 192.168.10.0/24
        route4 0.0.0.0/0
        inet6 fe80::eac9:76d7:351c:9532/64
        route6 fe80::/64
        route6 ff00::/8

virbr0: connected to virbr0
        "virbr0"
        bridge, 52:54:00:44:82:F2, sw, mtu 1500
        inet4 192.168.122.1/24
        route4 192.168.122.0/24

lo: unmanaged    //ê´€ë¦¬ê°€ ì•ˆë˜ê³  ìˆë‹¤.
        "lo"
        loopback (unknown), 00:00:00:00:00:00, sw, mtu 65536

virbr0-nic: unmanaged
        "virbr0-nic"
        tun, 52:54:00:44:82:F2, sw, mtu 1500

DNS configuration:
        servers: 168.126.63.1
        interface: ens33

Use "nmcli device show" to get complete information about known devices and
"nmcli connection show" to get an overview on active connection profiles.

Consult nmcli(1) and nmcli-examples(7) manual pages for complete usage details.
```

```bash
# nmtui
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bc3b9584-999c-4686-8e2d-94c348f9a607/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/bc3b9584-999c-4686-8e2d-94c348f9a607/Untitled.png)

ë‘ê°€ì§€ê°€ ì¡´ì¬í•˜ë©° ì´ë¡  ë° ì‹¤ìŠµì—ì„œëŠ” nmclië¥¼ ê¸°ë³¸ìœ¼ë¡œ êµ¬ì„±í•œë‹¤. 

## nmclië¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì •ë³´ ë³´ê¸°

ëª¨ë“  ì—°ê²° ëª©ë¡ì„ í‘œì‹œí•˜ë ¤ë©´ nmcli con showë¥¼ ì‚¬ìš©í•œë‹¤. í™œì„± ì—°ê²°ë§Œ ë‚˜ì—´í•˜ê¸° ìœ„í•´ì„œëŠ” â€”active ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.

```bash
# nmcli con show
NAME    UUID                                  TYPE      DEVICE 
ens33   931d3aaa-761b-4ff4-9c55-9a4a947458be  ethernet  ens33  
virbr0  6a3e0cf7-84a2-436d-aa9f-a12f2db74f30  bridge    virbr0
```

[ì°¸ê³ ]

ì´ì „ ë²„ì „ì—ì„œëŠ” eth0ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ê°€ í‘œê¸°ë˜ì—ˆë‹¤. ì´ê²ƒì€ ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ê·œì¹™ê³¼ ì¸ë±ìŠ¤í‘œê¸°ì— ë”°ë¥¸ í‘œì‹œì°¨ì´ì´ë‹¤.

```bash
ëª…ì¹­	    ì„¤ëª…	                                                           ë¹„ê³ 
eth[0-N]	íŒì›¨ì–´ì— ì¸ë±ìŠ¤ ì •ë³´ê°€ ì—†ëŠ” ê²½ìš°. ì „í†µì ì¸ ë°©ì‹	                   ì´ë”ë„·
eno[1-N]	íŒì›¨ì–´ì— ì¸ë±ìŠ¤ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°	
ens[1-N]	PCI ìµìŠ¤í”„ë ˆìŠ¤ í•«í”ŒëŸ¬ê·¸ ìŠ¬ë¡¯	
enp<PCIslot>s<card index no>	íŠ¹ì • PCI ìŠ¬ë¡¯ì— íŠ¹ì • ìŠ¬ë¡¯ ë²ˆí˜¸ê°€ ì§€ì •ëœ ê²½ìš°	
ppp	      point to point í”„ë¡œí† ì½œ ì¥ì¹˜	                                     ëª¨ë€
lo	      ë£¨í”„ë°± ì¸í„°í˜ì´ìŠ¤	                                               ë£¨í”„ë°±
tap	      ê°€ìƒ ì´ë”ë„· ì¥ì¹˜
```

ê·¸ ì—°ê²°ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë³´ë ¤ë©´ ì—°ê²° ID(ì´ë¦„)ë¥¼ ì§€ì •í•œë‹¤. ì†Œë¬¸ìë¡œ ëœ ì„¤ì •ì€ ì—°ê²° ì„¤ì •ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì„¤ì • ë° ì†ì„± ì´ë¦„ì€ nm-settings(5) ë„ì›€ë§ í˜ì´ì§€ì— ì •ì˜ëœë‹¤. ëŒ€ë¬¸ìë¡œ ëœ ì„¤ì •ì€ í™œì„± ë°ì´í„°ì´ë‹¤.

```bash
# nmcli con show ens33
connection.id:                          ens33
connection.uuid:                        931d3aaa-761b-4ff4-9c55-9a4a947458be
connection.stable-id:                   --
connection.type:                        802-3-ethernet
connection.interface-name:              ens33
connection.autoconnect:                 yes
connection.autoconnect-priority:        0
connection.autoconnect-retries:         -1 (default)
connection.multi-connect:               0 (default)
connection.auth-retries:                -1
connection.timestamp:                   1586083091
connection.read-only:                   no
connection.permissions:                 --
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.autoconnect-slaves:          -1 (default)
connection.secondaries:                 --
connection.gateway-ping-timeout:        0
connection.metered:                     unknown
connection.lldp:                        default
connection.mdns:                        -1 (default)
connection.llmnr:                       -1 (default)
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          no
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     auto
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               168.126.63.1
ipv4.dns-search:                        --
ipv4.dns-options:                       ""
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.200/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
ipv4.route-table:                       0 (unspec)
ipv4.routing-rules:                     --
ipv4.ignore-auto-routes:                no
ipv4.ignore-auto-dns:                   no
ipv4.dhcp-client-id:                    --
ipv4.dhcp-timeout:                      0 (default)
ipv4.dhcp-send-hostname:                yes
ipv4.dhcp-hostname:                     --
ipv4.dhcp-fqdn:                         --
ipv4.never-default:                     no
ipv4.may-fail:                          yes
ipv4.dad-timeout:                       -1 (default)
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       ""
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.routing-rules:                     --
ipv6.ignore-auto-routes:                no
ipv6.ignore-auto-dns:                   no
ipv6.never-default:                     no
ipv6.may-fail:                          yes
ipv6.ip6-privacy:                       0 (disabled)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.dhcp-duid:                         --
ipv6.dhcp-send-hostname:                yes
ipv6.dhcp-hostname:                     --
ipv6.token:                             --
proxy.method:                           none
proxy.browser-only:                     no
proxy.pac-url:                          --
proxy.pac-script:                       --
GENERAL.NAME:                           ens33
GENERAL.UUID:                           931d3aaa-761b-4ff4-9c55-9a4a947458be
GENERAL.DEVICES:                        ens33
GENERAL.STATE:                          activated
GENERAL.DEFAULT:                        yes
GENERAL.DEFAULT6:                       no
GENERAL.SPEC-OBJECT:                    --
GENERAL.VPN:                            no
GENERAL.DBUS-PATH:                      /org/freedesktop/NetworkManager/ActiveConnecti
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/Settings/1
GENERAL.ZONE:                           --
GENERAL.MASTER-PATH:                    --
IP4.ADDRESS[1]:                         192.168.10.200/24
IP4.GATEWAY:                            192.168.10.2
IP4.ROUTE[1]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[2]:                           dst = 0.0.0.0/0, nh = 192.168.10.2, mt = 100
IP4.DNS[1]:                             168.126.63.1
IP6.ADDRESS[1]:                         fe80::eac9:76d7:351c:9532/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255
```

nmcli ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì¥ì¹˜ ìƒíƒœ ë° ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ë„ ìˆë‹¤.

```bash
# nmcli dev status
DEVICE      TYPE      STATE      CONNECTION 
ens33       ethernet  connected  ens33      
virbr0      bridge    connected  virbr0     
lo          loopback  unmanaged  --         
virbr0-nic  tun       unmanaged  --

# nmcli dev show ens33
GENERAL.DEVICE:                         ens33
GENERAL.TYPE:                           ethernet
GENERAL.HWADDR:                         00:0C:29:62:37:8B
GENERAL.MTU:                            1500
GENERAL.STATE:                          100 (connected)
GENERAL.CONNECTION:                     ens33
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnecti
WIRED-PROPERTIES.CARRIER:               on
IP4.ADDRESS[1]:                         192.168.10.200/24
IP4.GATEWAY:                            192.168.10.2
IP4.ROUTE[1]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[2]:                           dst = 0.0.0.0/0, nh = 192.168.10.2, mt = 100
IP4.DNS[1]:                             168.126.63.1
IP6.ADDRESS[1]:                         fe80::eac9:76d7:351c:9532/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255
```

## nmcli ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì—°ê²°

nmcli ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì—°ê²°ì„ ë§Œë“¤ ë•Œ ì¸ìˆ˜ì˜ ìˆœì„œëŠ” ì¤‘ìš”í•˜ë‹¤. ê³µí†µ ì¸ìˆ˜ê°€ ë¨¼ì € í‘œì‹œë˜ë©° ìœ í˜• ë° ì¸í„°í˜ì´ìŠ¤ë¥¼ í¬í•¨í•´ì•¼ í•˜ë‹¤. ë‹¤ìŒì—ëŠ” ìœ í˜•ë³„ ì¸ìˆ˜ë¥¼ ì§€ì •í•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ IP ì£¼ì†Œ, ì ‘ë‘ì‚¬ ë° ê²Œì´íŠ¸ì›¨ì´ ì •ë³´ë¥¼ ì§€ì •í•œë‹¤. ë‹¨ì¼ ì¥ì¹˜ì— ë³µìˆ˜ì˜ IP ì£¼ì†Œë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤. ì—°ê²°ì´ ì¡´ì¬í•˜ë©´ DNS ì„œë²„ ê°™ì€ ì¶”ê°€ ì„¤ì •ì´ ìˆ˜ì • ì‚¬í•­ìœ¼ë¡œ ì„¤ì •ëœë‹¤.

ì‚¬ì „ í™•ì¸ ì‚¬í•­ : vmwareì˜ NAT ì¥ì¹˜ì—ì„œ DHCPê°€ ë™ì‘í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.

```bash
DHCPë¥¼ ì‚¬ìš©í•œ ì—°ê²° ì„¤ì • íŒŒì¼ì„ ìƒˆë¡œ ìƒì„±í•˜ê³  ìƒì„±ëœ íŒŒì¼ì„ ê¸°ì¡´ì˜ ens33 ì¥ì¹˜ì™€ ì—°ê²°í•´ë³´ì.
# nmcli con add con-name "dhcp-ens33" type ethernet ifname ens33
Connection 'dhcp-ens33' (f6861355-03be-4de3-b9ad-38472d165059) successfully added.

ê³ ì •IPë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ë˜ëŠ” ì¥ì¹˜ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ens33 ì¥ì¹˜ì™€ ì—°ê²°í•´ë³´ì.

# nmcli con add con-name "static-ens33" ifname ens33 autoconnect no type ethernet ip4 192.168.10.202/24 gw4 192.168.10.2
Connection 'static-ens33' (efe917d8-f466-438c-971e-b35e05c039cd) successfully added.

# nmcli con show
NAME          UUID                                  TYPE      DEVICE 
ens33         931d3aaa-761b-4ff4-9c55-9a4a947458be  ethernet  ens33  
virbr0        6a3e0cf7-84a2-436d-aa9f-a12f2db74f30  bridge    virbr0
dhcp-ens33    ~                                     ethernet  --
static-ens33  ~                                     ethernet  --

# nmcli con up static-ens33
ection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/5)
# ifconfig
ens33: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.202  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::777f:83af:2297:6cc9  prefixlen 64  scopeid 0x20<link>
        ether 00:0c:29:1b:b9:b6  txqueuelen 1000  (Ethernet)
        RX packets 4414  bytes 1779767 (1.6 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3044  bytes 1537491 (1.4 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
# nmcli con up dhcp-ens33 
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/6)

# ifconfig 
ens33: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.130  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::40e6:aadf:98b1:1910  prefixlen 64  scopeid 0x20<link>
        ether 00:0c:29:62:37:8b  txqueuelen 1000  (Ethernet)
        RX packets 242670  bytes 344579254 (328.6 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 32090  bytes 2677542 (2.5 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

ì •ì  ì—°ê²°ì´ ì†ì‹¤ëœ ê²½ìš°ì—ëŠ” ê¸°ë³¸ ì—°ê²°ì´ ìë™ ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤. ê´€ë¦¬ë¥¼ ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•˜ê³  ëª¨ë“  ìë™ ì—°ê²°ì„ ê¸ˆì§€í•˜ë ¤ë©´ nmcli dev disconnect DEVICENAMEì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
# nmcli dev dis ens##
```

## ìœ í˜• ì˜µì…˜

ìœ í˜• ì˜µì…˜ì€ ì‚¬ìš©ë˜ëŠ” ìœ í˜•ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ì´ë”ë„· ìœ í˜• ì—°ê²°ì€ ì—°ê²°ì˜ MAC ì£¼ì†Œë¥¼ ì„ íƒì ìœ¼ë¡œ ì§€ì • í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì™€ì´íŒŒì´ ìœ í˜• ì—°ê²°ì€ SSIDë¥¼ ì§€ì •í•´ì•¼ í•˜ë©°, ì¶”ê°€ ì˜µì…˜ì„ ì§€ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë¸Œë¦¿ì§€, ë³¸ë“œ, íŒ€, VPN, VLAN ë“± ê¸°íƒ€ ì—¬ëŸ¬ ê°€ì§€ ìœ í˜•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ì˜µì…˜ì„ ë³´ë ¤ë©´ nmcli con add helpë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
# nmcli con add help
Usage: nmcli connection add { ARGUMENTS | help }
ARGUMENTS := COMMON_OPTIONS TYPE_SPECIFIC_OPTIONS IP_OPTIONS
COMMON_OPTIONS:
type <type>
ifname <interface name> | "*"
[con-name <connection name>
[autoconnect yes|no]
[save yes|no]
TYPE_SPECIFIC_OPTIONS:
ethernet: [mac <MAC address>
[cloned-mac <cloned MAC address>
[mtu <MTU>
...
```

## nmcli ëª…ë ¹ì„ ì‚¬ìš©í•œ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì •

nmcli con mod ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì—°ê²°ì„ ìˆ˜ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ ì¸ìˆ˜ëŠ” í‚¤/ê°’ ìŒ ì§‘í•©ì…ë‹ˆë‹¤. í‚¤ì—ëŠ” ì„¤ì • ì´ë¦„ ë° ì†ì„± ì´ë¦„ì´ í¬í•¨ë©ë‹ˆë‹¤. ì—°ê²°ì˜ í˜„ì¬ ê°’ ëª©ë¡ì„ ë³´ë ¤ë©´ nmcli con show "<ID>"ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. nm-settings(5) ë„ì›€ë§ í˜ì´ì§€ëŠ” ì„¤ì • ë° ì†ì„± ì´ë¦„ê³¼ ì‚¬ìš©ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

```bash
# nmcli con show static-ens33 
connection.id:                          static-ens33
connection.uuid:                        b02f3a8a-f83d-4f41-b521-a7a240bbcdb6
connection.stable-id:                   --
connection.type:                        802-3-ethernet
connection.interface-name:              ens33
connection.autoconnect:                 no
connection.autoconnect-priority:        0
connection.autoconnect-retries:         -1 (default)
connection.multi-connect:               0 (default)
connection.auth-retries:                -1
connection.timestamp:                   1586156724
connection.read-only:                   no
connection.permissions:                 --
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.autoconnect-slaves:          -1 (default)
connection.secondaries:                 --
connection.gateway-ping-timeout:        0
connection.metered:                     unknown
connection.lldp:                        default
connection.mdns:                        -1 (default)
connection.llmnr:                       -1 (default)
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          no
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     auto
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               --
ipv4.dns-search:                        --
ipv4.dns-options:                       ""
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.202/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
ipv4.route-table:                       0 (unspec)
ipv4.routing-rules:                     --
ipv4.ignore-auto-routes:                no
ipv4.ignore-auto-dns:                   no
ipv4.dhcp-client-id:                    --
ipv4.dhcp-timeout:                      0 (default)
ipv4.dhcp-send-hostname:                yes
ipv4.dhcp-hostname:                     --
ipv4.dhcp-fqdn:                         --
ipv4.never-default:                     no
ipv4.may-fail:                          yes
ipv4.dad-timeout:                       -1 (default)
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       ""
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.routing-rules:                     --
ipv6.ignore-auto-routes:                no
ipv6.ignore-auto-dns:                   no
ipv6.never-default:                     no
ipv6.may-fail:                          yes
ipv6.ip6-privacy:                       -1 (unknown)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.dhcp-duid:                         --
ipv6.dhcp-send-hostname:                yes
ipv6.dhcp-hostname:                     --
ipv6.token:                             --
proxy.method:                           none
proxy.browser-only:                     no
proxy.pac-url:                          --
proxy.pac-script:                       --
```

[EX] nmcli ëª…ë ¹ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì •í•˜ê¸°

```bash
ìë™ ì—°ê²°ì„ í•´ì œí•œë‹¤.
# nmcli con mod static-ens33 connection.autoconnect no
# nmcli connection modify ~

DNS ì„œë²„ë¥¼ ì§€ì •í•œë‹¤.
# nmcli con mod static-ens33 ipv4.dns 168.126.63.1
ì¶”ê°€ DNS ì„œë²„ë¥¼ ì§€ì •í•œë‹¤.
# nmcli con mod static-ens33 +ipv4.dns 8.8.8.8
IP ì£¼ì†Œë¥¼ ë³€ê²½í•˜ê³  ê²Œì´íŠ¸ì›¨ì´ë¥¼ ë³€ê²½í•œë‹¤.
# nmcli con mod static-ens33 ipv4.addresses 192.168.10.200/24 ipv4.gateway 192.168.10.2 ipv4.method manual
ë³´ì¡° IP ì£¼ì†Œë¥¼ ì¶”ê°€í•œë‹¤.

# nmcli con mod static-ens33 +ipv4.addresses 192.168.10.203/24
```

[ì°¸ê³ ]

nmcli con modëŠ” ì„¤ì •ì„ êµ¬ì„± íŒŒì¼ì— ì €ì¥í•œë‹¤. ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ë ¤ë©´ ì—°ê²°ì„ í™œì„±í™” ë˜ëŠ” ì¬í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
# nmcli con up static-ens33 
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/7)

# nmcli con show static-ens33 
connection.id:                          static-ens33
connection.uuid:                        efe917d8-f466-438c-971e-b35e05c039cd
connection.stable-id:                   --
connection.type:                        802-3-ethernet
connection.interface-name:              ens33
connection.autoconnect:                 no
connection.autoconnect-priority:        0
connection.autoconnect-retries:         -1 (default)
connection.multi-connect:               0 (default)
connection.auth-retries:                -1
connection.timestamp:                   1586089447
connection.read-only:                   no
connection.permissions:                 --
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.autoconnect-slaves:          -1 (default)
connection.secondaries:                 --
connection.gateway-ping-timeout:        0
connection.metered:                     unknown
connection.lldp:                        default
connection.mdns:                        -1 (default)
connection.llmnr:                       -1 (default)
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          no
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     auto
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               168.126.63.1,8.8.8.8
ipv4.dns-search:                        --
ipv4.dns-options:                       ""
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.200/24, 192.168.10.203/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
ipv4.route-table:                       0 (unspec)
ipv4.routing-rules:                     --
ipv4.ignore-auto-routes:                no
ipv4.ignore-auto-dns:                   no
ipv4.dhcp-client-id:                    --
ipv4.dhcp-timeout:                      0 (default)
ipv4.dhcp-send-hostname:                yes
ipv4.dhcp-hostname:                     --
ipv4.dhcp-fqdn:                         --
ipv4.never-default:                     no
ipv4.may-fail:                          yes
ipv4.dad-timeout:                       -1 (default)
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       ""
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.routing-rules:                     --
ipv6.ignore-auto-routes:                no
ipv6.ignore-auto-dns:                   no
ipv6.never-default:                     no
ipv6.may-fail:                          yes
ipv6.ip6-privacy:                       -1 (unknown)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.dhcp-duid:                         --
ipv6.dhcp-send-hostname:                yes
ipv6.dhcp-hostname:                     --
ipv6.token:                             --
proxy.method:                           none
proxy.browser-only:                     no
proxy.pac-url:                          --
proxy.pac-script:                       --
GENERAL.NAME:                           static-ens33
GENERAL.UUID:                           efe917d8-f466-438c-971e-b35e05c039cd
GENERAL.DEVICES:                        ens33
GENERAL.STATE:                          activated
GENERAL.DEFAULT:                        yes
GENERAL.DEFAULT6:                       no
GENERAL.SPEC-OBJECT:                    --
GENERAL.VPN:                            no
GENERAL.DBUS-PATH:                      /org/freedesktop/NetworkManager/ActiveConnectio
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/Settings/5
GENERAL.ZONE:                           --
GENERAL.MASTER-PATH:                    --
IP4.ADDRESS[1]:                         192.168.10.200/24
IP4.ADDRESS[2]:                         192.168.10.203/24
IP4.GATEWAY:                            192.168.10.2
IP4.ROUTE[1]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[2]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[3]:                           dst = 0.0.0.0/0, nh = 192.168.10.2, mt = 100
IP4.DNS[1]:                             168.126.63.1
IP4.DNS[2]:                             8.8.8.8
IP6.ADDRESS[1]:                         fe80::25a8:9097:7044:bccd/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255
lines 83-107/107 (END)
```

nmcli ëª…ë ¹ì–´ ìš”ì•½

```bash
ëª…ë ¹                  ì‚¬ìš©ìì§€ì›
nmcli dev status      ëª¨ë“  ì¥ì¹˜ë¥¼ ë‚˜ì—´í•©ë‹ˆë‹¤.
nmcli con show        ëª¨ë“  ì—°ê²°ì„ ë‚˜ì—´í•©ë‹ˆë‹¤.
nmcli con up "<ID>"   ì—°ê²°ì„ í™œì„±í™”í•©ë‹ˆë‹¤.
nmcli con down "<ID>" ì—°ê²°ì„ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤. ìë™ ì—°ê²°ì„ ì¼œë©´ ì—°ê²°ì´ ë‹¤ì‹œ ì‹œì‘ë©ë‹ˆë‹¤.
nmcli dev dis <DEV>   ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¨ë‹¨í•˜ê³  ìë™ ì—°ê²°ì„ ì¼ì‹œì ìœ¼ë¡œ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤.
nmcli net off         ê´€ë¦¬ë˜ëŠ” ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤.
nmcli con add ...     ìƒˆ ì—°ê²°ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
nmcli con mod "<ID>" ... ì—°ê²°ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
nmcli con del "<ID>"  ì—°ê²°ì„ ì‚­ì œí•©ë‹ˆë‹¤.
```

```bash
# nmcli con down static-ens33 ; nmcli con up ens33
ë™ì‹œì— í•´ì¤˜ì•¼ í•œë‹¤. ì•ˆê·¸ëŸ¬ë©´ íˆ­ ëŠì–´ì ¸ë²„ë¦°ë‹¤.
ì˜ ì‚¬ìš©í•˜ë˜ ì£¼ ëª…ë ¹ì–´ > ê³¼ë„ê¸° > ì‚­ì œ ë  ìˆ˜ ìˆë‹¤. ë³´ì•ˆì— ë¬¸ì œ, ì‚¬ìš©ì´ ë§ì´ ë–¨ì–´ì¡Œì„ ê²½ìš°.
```

[ì°¸ê³ ]

GUIì—ì„œëŠ” nm-connection-editor ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.

[EX] nmcli ì„¤ì •

```bash
server1ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.

í˜„ì¬ ì¥ì¹˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
# nmcli con show
NAME    UUID                                  TYPE      DEVICE 
ens33   fb93cb74-785f-4345-8315-d39ee5f6121f  ethernet  ens33  
virbr0  89a0b9f4-5277-4082-836e-5d8f7ecba274  bridge    virbr0

íŠ¹ì • ì°½ì§€ë¥¼ ì„ íƒí•˜ì—¬ ìì„¸í•œ êµ¬ì„±ì„ í™•ì¸í•©ë‹ˆë‹¤.
# nmcli con show "ens33"
connection.id:                          ens33
connection.uuid:                        fb93cb74-785f-4345-8315-d39ee5f6121f
connection.stable-id:                   --
connection.type:                        802-3-ethernet
connection.interface-name:              ens33
connection.autoconnect:                 yes
connection.autoconnect-priority:        0
connection.autoconnect-retries:         -1 (default)
connection.multi-connect:               0 (default)
connection.auth-retries:                -1
connection.timestamp:                   1586159011
connection.read-only:                   no
connection.permissions:                 --
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.autoconnect-slaves:          -1 (default)
connection.secondaries:                 --
connection.gateway-ping-timeout:        0
connection.metered:                     unknown
connection.lldp:                        default
connection.mdns:                        -1 (default)
connection.llmnr:                       -1 (default)
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          no
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     auto
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               168.126.63.1
ipv4.dns-search:                        --
ipv4.dns-options:                       ""
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.200/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          no
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     auto
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               168.126.63.1
ipv4.dns-search:                        --
ipv4.dns-options:                       ""
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.200/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
ipv4.route-table:                       0 (unspec)
ipv4.routing-rules:                     --
ipv4.ignore-auto-routes:                no
ipv4.ignore-auto-dns:                   no
ipv4.dhcp-client-id:                    --
ipv4.dhcp-timeout:                      0 (default)
ipv4.dhcp-send-hostname:                yes
ipv4.dhcp-hostname:                     --
ipv4.dhcp-fqdn:                         --
ipv4.never-default:                     no
ipv4.may-fail:                          yes
ipv4.dad-timeout:                       -1 (default)
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       ""
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.routing-rules:                     --
ipv6.ignore-auto-routes:                no
ipv6.ignore-auto-dns:                   no
ipv6.never-default:                     no
ipv6.may-fail:                          yes
ipv6.ip6-privacy:                       0 (disabled)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.dhcp-duid:                         --
ipv6.dhcp-send-hostname:                yes
ipv6.dhcp-hostname:                     --
ipv6.token:                             --
proxy.method:                           none
proxy.browser-only:                     no
proxy.pac-url:                          --
proxy.pac-script:                       --
GENERAL.NAME:                           ens33
GENERAL.UUID:                           fb93cb74-785f-4345-8315-d39ee5f6121f
GENERAL.DEVICES:                        ens33
GENERAL.STATE:                          activated
GENERAL.DEFAULT:                        yes
GENERAL.DEFAULT6:                       no
GENERAL.SPEC-OBJECT:                    --
GENERAL.VPN:                            no
GENERAL.DBUS-PATH:                      /org/freedesktop/NetworkManager/ActiveConnection/1
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/Settings/1
GENERAL.ZONE:                           --
GENERAL.MASTER-PATH:                    --
IP4.ADDRESS[1]:                         192.168.10.200/24
IP4.GATEWAY:                            192.168.10.2
IP4.ROUTE[1]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[2]:                           dst = 0.0.0.0/0, nh = 192.168.10.2, mt = 100
IP4.DNS[1]:                             168.126.63.1
IP6.ADDRESS[1]:                         fe80::7f79:b29f:124b:4c7f/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255
lines 71-104/104 (END)

ì¥ì¹˜ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
# nmcli dev status
DEVICE      TYPE      STATE      CONNECTION 
ens33       ethernet  connected  ens33      
virbr0      bridge    connected  virbr0     
lo          loopback  unmanaged  --         
virbr0-nic  tun       unmanaged  --

ens33 ë¬¼ë¦¬ ì¥ì¹˜ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
# nmcli dev show ens33
GENERAL.DEVICE:                         ens33
GENERAL.TYPE:                           ethernet
GENERAL.HWADDR:                         00:0C:29:1B:B9:B6
GENERAL.MTU:                            1500
GENERAL.STATE:                          100 (connected)
GENERAL.CONNECTION:                     ens33
GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnection/1
WIRED-PROPERTIES.CARRIER:               on
IP4.ADDRESS[1]:                         192.168.10.200/24
IP4.GATEWAY:                            192.168.10.2
IP4.ROUTE[1]:                           dst = 192.168.10.0/24, nh = 0.0.0.0, mt = 100
IP4.ROUTE[2]:                           dst = 0.0.0.0/0, nh = 192.168.10.2, mt = 100
IP4.DNS[1]:                             168.126.63.1
IP6.ADDRESS[1]:                         fe80::7f79:b29f:124b:4c7f/64
IP6.GATEWAY:                            --
IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255

ens33 ì¥ì¹˜ì— ë§¤íŒ½ë˜ëŠ” static-ens33ì´ë¼ëŠ” ì—°ê²° ì •ë³´ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. 
# nmcli con add con-name "static-ens33" ifname ens33 type ethernet ip4 192.168.10.200/24 gw4 192.168.10.2
Connection 'static-ens33' (cbc74f40-fd65-4642-8df5-3decb989c3f8) successfully added.

DNS ì •ë³´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
# nmcli con mod static-ens33 ipv4.dns 168.126.63.1

# nmcli con show
NAME          UUID                                  TYPE      DEVICE 
ens33         fb93cb74-785f-4345-8315-d39ee5f6121f  ethernet  ens33  
virbr0        89a0b9f4-5277-4082-836e-5d8f7ecba274  bridge    virbr0 
static-ens33  cbc74f40-fd65-4642-8df5-3decb989c3f8  ethernet  --

# nmcli con show --active
NAME          UUID                                  TYPE      DEVICE 
ens33         fb93cb74-785f-4345-8315-d39ee5f6121f  ethernet  ens33  
virbr0        89a0b9f4-5277-4082-836e-5d8f7ecba274  bridge    virbr0 

# nmcli con up "static-ens33"
nnection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)

# nmcli con show --active
NAME          UUID                                  TYPE      DEVICE 
static-ens33  cbc74f40-fd65-4642-8df5-3decb989c3f8  ethernet  ens33  
virbr0        89a0b9f4-5277-4082-836e-5d8f7ecba274  bridge    virbr0

# ip addr show ens33
2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:0c:29:1b:b9:b6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.10.200/24 brd 192.168.10.255 scope global noprefixroute ens33
       valid_lft forever preferred_lft forever
    inet6 fe80::d8c9:4b2e:b89e:febe/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
# ip route
default via 192.168.10.2 dev ens33 proto static metric 100 
192.168.10.0/24 dev ens33 proto kernel scope link src 192.168.10.200 metric 100 
192.168.122.0/24 dev virbr0 proto kernel scope link src 192.168.122.1
# ping -c 3 192.168.10.252
PING 192.168.10.252 (192.168.10.252) 56(84) bytes of data.
64 bytes from 192.168.10.252: icmp_seq=1 ttl=64 time=0.870 ms
64 bytes from 192.168.10.252: icmp_seq=2 ttl=64 time=0.355 ms
64 bytes from 192.168.10.252: icmp_seq=3 ttl=64 time=0.395 ms

--- 192.168.10.252 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2000ms
rtt min/avg/max/mdev = 0.355/0.540/0.870/0.233 ms

# nmcli con mod "ens33" connection.autoconnect no
# nmcli con mod "static-ens33" connection.autoconnect yes
# reboot
# nmcli con show --active
```

# ë„¤íŠ¸ì›Œí¬ êµ¬ì„± íŒŒì¼ í¸ì§‘

## ë„¤íŠ¸ì›Œí¬ ì„¤ì • ìˆ˜ì •

ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆë‹¤. ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± íŒŒì¼ì€ ê°œë³„ ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ì— ëŒ€í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œì–´í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì˜ ì´ë¦„ì€ ì¼ë°˜ì ìœ¼ë¡œ /etc/sysconfig/network-scripts/ifcfg-<name>ì´ë‹¤. ì—¬ê¸°ì„œ <name>ì€ êµ¬ì„± íŒŒì¼ì´ ì œì–´í•˜ëŠ” ì¥ì¹˜ ë˜ëŠ” ì—°ê²°ì˜ ì´ë¦„ì…ë‹ˆë‹¤. ë‹¤ìŒì€ ì •ì  ë˜ëŠ” ë™ì  ì„¤ì •ì— ì‚¬ìš©ë˜ëŠ” íŒŒì¼ì˜ í‘œì¤€ ë³€ìˆ˜ì…ë‹ˆë‹¤

```bash
ifcfg íŒŒì¼ì˜ êµ¬ì„± ì˜µì…˜

ì •ì                  ë™ì                   Either(ë‘˜ ì¤‘ í•˜ë‚˜)
BOOTPROTO=none       BOOTPROTO=dhcp        BOOTPROTO=dhcp
IPADDR0=172.25.X.10                        NAME="System eth0
PREFIX0=24                                 ONBOOT=yes
GATEWAY0=172.25.X.254                      UUID=f3e8dd32-3...
DEFROUTE=yes                               USERCTL=yes
DNS1=172.25.254.254
```

ì •ì  ì„¤ì •ì—ì„œ IP ì£¼ì†Œ, ì ‘ë‘ì‚¬ ë° ê²Œì´íŠ¸ì›¨ì´ì˜ ë³€ìˆ˜ëŠ” ëì— ìˆ«ìê°€ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì—¬ëŸ¬ ê°œì˜ ì„¤ì •ê°’ì„ ì¸í„°í˜ì´ìŠ¤ì— í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DNS ë³€ìˆ˜ëŠ” ë³µìˆ˜ì˜ ì„œë²„ê°€ ì§€ì •ëœ ê²½ìš° ë£©ì—… ìˆœì„œë¥¼ ì§€ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ìˆ«ìë„ í¬í•¨í•©ë‹ˆë‹¤.

êµ¬ì„± íŒŒì¼ì„ ìˆ˜ì •í•œ í›„ì—ëŠ” NetworkManagerê°€ ì„¤ì • ë³€ê²½ ì‚¬í•­ì„ ì½ì„ ìˆ˜ ìˆë„ë¡ nmcli con reloadë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ë ¤ë©´ ì¸í„°í˜ì´ìŠ¤ë„ ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
# nmcli con reload
# nmcli con down "ens33"
# nmcli con up "ens33"
```

### [EX] ë„¤íŠ¸ì›Œí¬ êµ¬ì„± íŒŒì¼ í¸ì§‘

```bash
/etc/sysconfig/network-scripts/ifcfg-ens33 íŒŒì¼ì„ í¸ì§‘í•™ì—¬ ì¶”ê°€ì ì¸ ì£¼ì†Œë¥¼ ì„¤ì •í•œë‹¤.

IPv4 ì£¼ì†Œë¥¼ ì§€ì •í•˜ëŠ” í•­ëª©ì„ íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤
# echo "IPADDR1=10.0.0.1" >> /etc/sysconfig/network-scripts/ifcfg-ens33
ë„¤íŠ¸ì›Œí¬ ì ‘ë‘ì‚¬ë¥¼ ì§€ì •í•˜ëŠ” í•­ëª©ì„ íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.
# echo "PREFIX1=24" >> /etc/sysconfig/network-scripts/ifcfg-ens33
ì„¤ì • ë³€ê²½ ì‚¬í•­ì„ ë‹¤ì‹œ ë¡œë“œí•©ë‹ˆë‹¤.
# nmcli con reload
ìƒˆ ì„¤ì •ìœ¼ë¡œ ì—°ê²°ì„ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤
# nmcli con up ens33

# nmcli con show ens33

```

# í˜¸ìŠ¤íŠ¸ ì´ë¦„ ë° ì´ë¦„ í™•ì¸ ì„¤ì •

hostname ëª…ë ¹ì€ ì™„ì „í•œ ê¶Œí•œì´ ë¶€ì—¬ëœ ì‹œìŠ¤í…œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ í‘œì‹œí•˜ê±°ë‚˜ ì„ì‹œë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.

```bash
# hostname
server1.example.com
```

/etc/hostname íŒŒì¼ì— ì •ì  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. hostnamectl ëª…ë ¹ì€ ì´ íŒŒì¼ì„ ìˆ˜ì •í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì™„ì „í•œ ê¶Œí•œì´ ë¶€ì—¬ëœ ì‹œìŠ¤í…œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì˜ ìƒíƒœë¥¼ ë³´ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì¸í„°í˜ì´ìŠ¤ì— IP ì£¼ì†Œê°€ í• ë‹¹ëœ ê²½ìš° ì—­ë°©í–¥ DNS ì¿¼ë¦¬ì— ì˜í•´ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì´ ì„¤ì •ë©ë‹ˆë‹¤.

```bash
# hostnamectl 
   Static hostname: server1.example.com
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 48ecb4a7964349ff84e6dd76f6e2bb21
           Boot ID: 318f0cf428b64eb0beb4f825e0586545
    Virtualization: vmware
  Operating System: CentOS Linux 7 (Core)
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux 3.10.0-1062.el7.x86_64
      Architecture: x86-64

# hostnamectl status
   Static hostname: server1.example.com
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 48ecb4a7964349ff84e6dd76f6e2bb21
           Boot ID: 318f0cf428b64eb0beb4f825e0586545
    Virtualization: vmware
  Operating System: CentOS Linux 7 (Core)
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux 3.10.0-1062.el7.x86_64
      Architecture: x86-64

ì •ì  í˜¸ìŠ¤íŠ¸ ì´ë¦„ì€ /etc/hostnameì— ì €ì¥ë©ë‹ˆë‹¤. Red Hat Enterprise Linuxì˜ ì´ì „ ë²„ì „ì—ì„œëŠ” í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ /etc/sysconfig/network íŒŒì¼ì— ë³€ìˆ˜ë¡œ ì €ì¥í–ˆìŠµë‹ˆë‹¤.

```

## ì´ë¦„ í™•ì¸ ì„¤ì •

í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ê±°ë‚˜ ë˜ëŠ” ê·¸ ë°˜ëŒ€ë¡œ ë³€í™˜í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤. /etc/hosts íŒŒì¼ì˜ ë‚´ìš©ì´ ë¨¼ì € í™•ì¸ë©ë‹ˆë‹¤.

```bash
# cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.10.200	server1.example.com	server1
192.168.10.252	server2.example.com	server2
```

getent hosts hostname ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ /etc/hosts íŒŒì¼ì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ í™•ì¸ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# getent hosts server1
192.168.10.200  server1.example.com server1
```

í•´ë‹¹ íŒŒì¼ì—ì„œ í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš° stub resolverëŠ” DNS ë„¤ì„ ì„œë²„ì—ì„œ ì •ë³´ë¥¼ ì°¾ìŠµë‹ˆë‹¤. /etc/resolv.conf íŒŒì¼ì€ ì´ ì¿¼ë¦¬ë¥¼ ì™„ë£Œí•˜ëŠ” ë°©ë²•ì„ ì œì–´í•©ë‹ˆë‹¤.

â€¢nameserver: ì¿¼ë¦¬í•  ì´ë¦„ì„œë²„ì˜ IP ì£¼ì†Œì…ë‹ˆë‹¤. ì´ë¦„ ì„œë²„ í•˜ë‚˜ê°€ ë‹¤ìš´ëœ ê²½ìš° ë°±ì—… ì´ë¦„ ì„œë²„ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ìµœëŒ€ 3ê°œì˜ ì´ë¦„ ì„œë²„ ì§€ì‹œë¬¸ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€¢search: ì§§ì€ í˜¸ìŠ¤íŠ¸ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ë„ë©”ì¸ ì´ë¦„ ëª©ë¡ì…ë‹ˆë‹¤. ì´ê²ƒê³¼ domainì„ ê°™ì€ íŒŒì¼ì— ì„¤ì •í•˜ì§€ ì•Šì•„ì•¼ í•˜ë©°, ê°™ì€ íŒŒì¼ì— ì„¤ì •ë˜ë©´ ë§ˆì§€ë§‰ ì¸ìŠ¤í„´ìŠ¤ê°€ ì ìš©ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€resolv.conf(5)ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤

```bash
# cat /etc/resolv.conf

```

NetworkManagerëŠ” ì—°ê²° êµ¬ì„± íŒŒì¼ì˜ DNS ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ /etc/resolv.conf íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì—°ê²°ì„ ìˆ˜ì •í•˜ë ¤ë©´ nmclië¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤

```bash
# nmcli con mod ID ipv4.dns IP
# nmcli con down ID
# nmcli con up ID
# cat /etc/sysconfig/network-scripts/ifcfg-ID
...
DNS1=8.8.8.8
..
```

nmcli con mod ID ipv4.dns IPì˜ ê¸°ë³¸ ë™ì‘ì€ ì´ì „ DNS ì„¤ì •ì„ ìƒˆë¡œ ì œê³µëœ IP ëª©ë¡ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²ƒì…ë‹ˆë‹¤. ipv4.dns ì¸ìˆ˜ ì•ì˜ +/- ê¸°í˜¸ëŠ” ê°œë³„ í•­ëª©ì„ ì¶”ê°€ ë˜ëŠ” ì œê±°í•©ë‹ˆë‹¤.

```bash
# nmcli con mod ID +ipv4.dns IP
```

host HOSTNAME ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ DNS ì„œë²„ ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# host www.google.com
# host 172.217.27.68
```

DHCPê°€ ì‚¬ìš© ì¤‘ì¸ ê²½ìš°ì—ëŠ” ê´€ë ¨ ì¸í„°í˜ì´ìŠ¤ êµ¬ì„± íŒŒì¼ì— PEERDNS=noë¥¼ ì§€ì •í•˜ì§€ ì•Šì€ í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ì‹œì‘ë˜ë©´ /etc/resolv.confê°€ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ì‘ì„±ë©ë‹ˆë‹¤. ë³€ê²½í•˜ë ¤ëŠ” ê²½ìš°ì—ëŠ” nmclië¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# nmcli con mod "ens33" ipv4.ignore-auto-dns yes
```

[EX] í˜¸ìŠ¤íŠ¸ ì´ë¦„ ë° ì´ë¦„ í™•ì¸ ì„¤ì •

```bash
# hostname
# hostnamectl status
# hostnamectl set-hostname server10.example.com
# cat /etc/hostname
# hostnamectl status
# hostname testname
# hostname
# cat /etc/hostname
# reboot
# hostname
# host www.google.com
# host www.google.com
# getent hosts www.google.com
# ping -c 3 www.google.com
```

[EX] ë„¤íŠ¸ì›Œí¬ ì¬êµ¬ì„±

```bash
ì •ì  ë„¤íŠ¸ì›Œí¬ ì—°ê²°ë¡œ ìƒˆ ì—°ê²°ì„ ë§Œë“­ë‹ˆë‹¤

ë§¤ê°œ ë³€ìˆ˜    ì„¤ì •
ì—°ê²° ì´ë¦„    lab-ens33
IP ì£¼ì†Œ      192.168.10.250/24, 192.168.10.251/24
ê²Œì´íŠ¸ì›¨ì´   192.168.10.2
DNS ì£¼ì†Œ     168.126.63.1,8.8.8.8
ìë™ì—°ê²°     í•´ì œ
method       manual

hostfile   192.168.10.250 server250.example.com server250
hostnameì„ ì˜êµ¬ì ìœ¼ë¡œ ë³€ê²½í•œë‹¤. : server250.example.com
```

```bash
# nmcli con add con-name lab-ens33 type ethernet connection.autoconnect no ipv4.addresses 192.168.10.250/24 +ipv4.addresses 192.168.10.252/24 ipv4.gateway 192.168.10.2 ipv4.dns 168.126.63.1 +ipv4.dns 8.8.8.8 ipv4.method manual
â— ë¶„ì‚°ì‹œì¼œ í™•ì¸í•´ ë³´ê¸°
# nmcli con 
add 
con-name lab-ens33 
type ethernet 
connection.autoconnect no 
ipv4.addresses 192.168.10.250/24 +ipv4.addresses 192.168.10.252/24 
ipv4.gateway 192.168.10.2 
ipv4.dns 168.126.63.1 +ipv4.dns 8.8.8.8 
ipv4.method manual

auto   ìë™ - dhcp
manual ìˆ˜ë™ ì§ì ‘ ë„¤íŠ¸ì›Œí¬ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ ì…ë ¥í•œ ì •ë³´ëŒ€ë¡œ ì„¤ì •í•˜ê²Œë” í•˜ëŠ” ë°©ì‹

# nmcli con show lab-ens33
connection.id:                          lab-ens33
connection.uuid:                        2843a72f-1810-4708-baf0-7e629f299b62
connection.stable-id:                   --
connection.type:                        802-3-ethernet
connection.interface-name:              --
connection.autoconnect:                 ì•„ë‹ˆìš”
connection.autoconnect-priority:        0
connection.autoconnect-retries:         -1 (default)
connection.multi-connect:               0 (default)
connection.auth-retries:                -1
connection.timestamp:                   0
connection.read-only:                   ì•„ë‹ˆìš”
connection.permissions:                 --
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.autoconnect-slaves:          -1 (default)
connection.secondaries:                 --
connection.gateway-ping-timeout:        0
connection.metered:                     ì•Œ ìˆ˜ ì—†ìŒ
connection.lldp:                        default
connection.mdns:                        -1 (default)
connection.llmnr:                       -1 (default)
connection.wait-device-timeout:         -1
802-3-ethernet.port:                    --
802-3-ethernet.speed:                   0
802-3-ethernet.duplex:                  --
802-3-ethernet.auto-negotiate:          ì•„ë‹ˆìš”
802-3-ethernet.mac-address:             --
802-3-ethernet.cloned-mac-address:      --
802-3-ethernet.generate-mac-address-mask:--
802-3-ethernet.mac-address-blacklist:   --
802-3-ethernet.mtu:                     ìë™
802-3-ethernet.s390-subchannels:        --
802-3-ethernet.s390-nettype:            --
802-3-ethernet.s390-options:            --
802-3-ethernet.wake-on-lan:             default
802-3-ethernet.wake-on-lan-password:    --
ipv4.method:                            manual
ipv4.dns:                               168.126.63.1,8.8.8.8
ipv4.dns-search:                        --
ipv4.dns-options:                       --
ipv4.dns-priority:                      0
ipv4.addresses:                         192.168.10.250/24, 192.168.10.251/24
ipv4.gateway:                           192.168.10.2
ipv4.routes:                            --
ipv4.route-metric:                      -1
ipv4.route-table:                       0 (unspec)
ipv4.routing-rules:                     --
ipv4.ignore-auto-routes:                ì•„ë‹ˆìš”
ipv4.ignore-auto-dns:                   ì•„ë‹ˆìš”
ipv4.dhcp-client-id:                    --
ipv4.dhcp-iaid:                         --
ipv4.dhcp-timeout:                      0 (default)
ipv4.dhcp-send-hostname:                ì˜ˆ
ipv4.dhcp-hostname:                     --
ipv4.dhcp-fqdn:                         --
ipv4.dhcp-hostname-flags:               0x0 (none)
ipv4.never-default:                     ì•„ë‹ˆìš”
ipv4.may-fail:                          ì˜ˆ
ipv4.dad-timeout:                       -1 (default)
ipv4.dhcp-vendor-class-identifier:      --
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       --
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.routing-rules:                     --
ipv6.ignore-auto-routes:                ì•„ë‹ˆìš”
ipv6.ignore-auto-dns:                   ì•„ë‹ˆìš”
ipv6.never-default:                     ì•„ë‹ˆìš”
ipv6.may-fail:                          ì˜ˆ
ipv6.ip6-privacy:                       -1 (unknown)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.ra-timeout:                        0 (default)
ipv6.dhcp-duid:                         --
ipv6.dhcp-iaid:                         --
ipv6.dhcp-timeout:                      0 (default)
ipv6.dhcp-send-hostname:                ì˜ˆ
ipv6.dhcp-hostname:                     --
ipv6.dhcp-hostname-flags:               0x0 (none)
ipv6.token:                             --
proxy.method:                           none
proxy.browser-only:                     ì•„ë‹ˆìš”
proxy.pac-url:                          --
proxy.pac-script:                       --

# vi /etc/hosts
192.168.10.250 server259.example.com server250
:wq
# hostnamectl set-hostname server250.example.com
# hostname
server250.example.com
```

# Team NIC config

# ë‹¨ì›ëª©í‘œ

---

- TEAM NIC
- TEAM NIC ì„¤ì •

---

ë¬¼ë¦¬ì  NIC ì¹´ë“œ êµ¬ì„±

ë¬¼ë¦¬ì  1 ë¬¼ë¦¬ì  2 â†’ ë…¼ë¦¬ì  1ë¡œ êµ¬ì„±

ë…¼ë¦¬êµ¬ì„±ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•©í•˜ëŠ” ê²ƒì€ ë³´í†µ ìŠ¤í† ë¦¬ì§€ ìª½ì—ì„œ ë§ì´ êµ¬ì„±í•˜ê³  ì„œë¹„ìŠ¤. IPë¥¼ ì—¬ëŸ¬ê°œ ë‚˜ëˆ„ì–´ì„œ ë¼ìš´ë“œë¡œë¹ˆ

IP<<í´ë¼ì´ì–¸íŠ¸<ì„¸ì…˜

# ë„¤íŠ¸ì›Œí¬ í‹°ë°

ë¬¼ë¦¬ì ì¸ ì¸í„°í˜ì´ìŠ¤ [ëœí¬íŠ¸]ë¥¼ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë‘ ê°œ ì´ìƒì„ í•˜ë‚˜ì²˜ëŸ¼ ì¸ì‹ì‹œì¼œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

ë„¤íŠ¸ì›Œí¬ í‹°ë°ì€ NICë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ í•¨ê»˜ ì—°ê²°í•˜ì—¬ ì¥ì•  ì¡°ì¹˜(failover) ë˜ëŠ” ë” ë†’ì€ ì²˜ë¦¬ëŸ‰ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. í‹°ë°ì€ Linux ì»¤ë„ì˜ ì´ì „ ì—°ê²° ë“œë¼ì´ë²„ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ìƒˆë¡œìš´ êµ¬í˜„ìœ¼ë¡œ, ëŒ€ì²´ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤. Red Hat Enterprise Linux 7ì—ì„œëŠ” ì´ì „ ë²„ì „ê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ì±„ë„ ì—°ê²°ì„ ì§€ì›í•©ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ í‹°ë°ì€ ëª¨ë“ˆ ë°©ì‹ì´ë¯€ë¡œ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ì œê³µí•˜ê³  í™•ì¥ì´ ì¢€ ë” ìš©ì´í•©ë‹ˆë‹¤. Red Hat Enterprise Linux 7ì€ ì‘ì€ ì»¤ë„ ë“œë¼ì´ë²„ ë° ì‚¬ìš©ì ê³µê°„ ë°ëª¬ teamdë¡œ ë„¤íŠ¸ì›Œí¬ í‹°ë°ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì»¤ë„ì€ ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  teamdëŠ” ë…¼ë¦¬ ë° ì¸í„°í˜ì´ìŠ¤ ì²˜ë¦¬ë¥¼ ì¡°ì‘í•©ë‹ˆë‹¤.

ëŸ¬ë„ˆë¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë¶€í•˜ ë¶„ì‚°ê³¼ roundrobin ê°™ì€ í™œì„± ë°±ì—… ë…¼ë¦¬ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤. teamdì—ì„œëŠ” ë‹¤ìŒ ëŸ¬ë„ˆë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€¢broadcast: ëª¨ë“  í¬íŠ¸ì—ì„œ ê° íŒ¨í‚·ì„ ì „ì†¡í•˜ëŠ” ë‹¨ìˆœí•œ ëŸ¬ë„ˆì…ë‹ˆë‹¤.

â€¢roundrobin: ê° í¬íŠ¸ì—ì„œ ë¼ìš´ë“œë¡œë¹ˆ ë°©ì‹ìœ¼ë¡œ íŒ¨í‚·ì„ ì „ì†¡í•˜ëŠ” ë‹¨ìˆœí•œ ëŸ¬ë„ˆì…ë‹ˆë‹¤.

```bash
ë¬¼1 ----|
ë¬¼2 ----|----ë…¼1---<í´ë¼ì´ì–¸íŠ¸
ë¬¼3 ----|

ë¬´ì¡°ê±´ ìˆœì„œëŒ€ë¡œ ë¬¼1 ~ ë¬¼3ê¹Œì§€.
ë¬¼1ì´ 60% ë¬¼2 20% ë¬¼3 3% ì—¬ë„ ë¬´ì¡°ê±´ ë¬¼1ë¶€í„° ì±„ìš´ë‹¤.
```

â€¢activebackup: ë§í¬ ë³€ê²½ì„ ì¡°ì‚¬í•˜ê³  ë°ì´í„° ì „ì†¡ì„ ìœ„í•œ í™œì„± í¬íŠ¸ë¥¼ ì„ íƒí•˜ëŠ” ì¥ì•  ì¡°ì¹˜(failover) ëŸ¬ë„ˆì…ë‹ˆë‹¤.

```bash
ë¬¼1 ----|
ë¬¼2 ----|----ë…¼1---<í´ë¼ì´ì–¸íŠ¸

í•˜ë‚˜ëŠ” í™œì„±í™”, í•˜ë‚˜ëŠ” ìŠ¤íƒ ë°”ì´ ìƒíƒœ
```

â€¢loadbalance: íŠ¸ë˜í”½ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  í•´ì‹œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚· ì „ì†¡ìš© í¬íŠ¸ë¥¼ ì„ íƒí•  ë•Œ ì™„ë²½í•œ ê· í˜•ì„ ì´ë£¨ë ¤ëŠ” ëŸ¬ë„ˆì…ë‹ˆë‹¤.

```bash
ë¬¼1 ----|
ë¬¼2 ----|----ë…¼1---<í´ë¼ì´ì–¸íŠ¸
ë¬¼3 ----|

roundrobinì—ì„œëŠ” ë¬´ì¡°ê±´ ìˆœì„œëŒ€ë¡œ í–ˆë‹¤ë©´ ì—¬ê¸°ì„œëŠ” %ë¥¼ ë§ì¶”ê¸° ìœ„í•´ ê°€ì¥ í™˜ê²½ì´ ì¢‹ì€ ê³³ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
```

â€¢lacp: 802.3ad ë§í¬ ì§‘ê³„ ì œì–´ í”„ë¡œí† ì½œì„ êµ¬í˜„í•©ë‹ˆë‹¤. loadbalance ëŸ¬ë„ˆì™€ ë™ì¼í•œ ì „ì†¡ í¬íŠ¸ ì„ íƒ ê°€ëŠ¥ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ìƒí˜¸ ì‘ìš©ì€ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬ì„±ëœ íŒ€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìˆ˜í–‰ë©ë‹ˆë‹¤.

```bash
ë¬¼1 ----|
ë¬¼2 ----|----[íŒ€ ì¸í„°í˜ì´ìŠ¤]---<í´ë¼ì´ì–¸íŠ¸
ë¬¼3 ----|
```

NetworkManagerë¥¼ ì‚¬ìš©í•˜ì—¬ í‹°ë°ëœ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œì–´í•  ë•Œë‚˜ ê²°í•¨ì„ ì°¾ì„ ë•Œ íŠ¹íˆ ë‹¤ìŒì— ìœ ì˜ í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ | í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤
ë¬¼|ì—°
```

**â€¢ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹œì‘í•´ë„ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.**

**â€¢í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹œì‘í•˜ë©´ í•­ìƒ í‹°ë°ëœ ì¸í„°í˜ì´ìŠ¤ê°€ ì‹œì‘ë©ë‹ˆë‹¤.**

**â€¢í‹°ë°ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ë©´ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë„ ì¤‘ì§€ë©ë‹ˆë‹¤.**

**â€¢í¬íŠ¸ ì—†ì´ í‹°ë°ëœ ì¸í„°í˜ì´ìŠ¤ëŠ” ì •ì  IP ì—°ê²°ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

# ë„¤íŠ¸ì›Œí¬ íŒ€ êµ¬ì„±

nmcli ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ íŒ€ ë° í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë„¤ ë‹¨ê³„ì— ë”°ë¼ ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. íŒ€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤.

2. íŒ€ ì¸í„°í˜ì´ìŠ¤ì˜ IPv4 ë°/ë˜ëŠ” IPv6 íŠ¹ì„±ì„ ê²°ì •í•©ë‹ˆë‹¤.

3. í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.

4. íŒ€ ë° í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ë™/ì¤‘ë‹¨í•©ë‹ˆë‹¤

íŒ€ ì¸í„°í˜ì´ìŠ¤ ë§Œë“¤ê¸°

nmcli ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì—°ê²°ì„ ë§Œë“­ë‹ˆë‹¤. ë‹¤ìŒ êµ¬ë¬¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
nmcli con add type team con-name CNAME ifname INAME [config JSON]
```

CNAMEì€ ì—°ê²°ì„ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì´ë¦„ì´ê³ , INAMEì€ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ì´ê³ , JSONì€ ì‚¬ìš©í•  ëŸ¬ë„ˆë¥¼ ì§€ì •í•©ë‹ˆë‹¤. JSONì˜ êµ¬ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```bash
'{"runner": {"name": "METHOD"}}'
'{"runner": {"name": "loadbalance"}}'
```

ì—¬ê¸°ì„œ METHODëŠ” broadcast, roundrobin, activebackup, loadbalance ë˜ëŠ” lacp ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤

```bash
nmcli con add type team con-name team0 ifname team0 config '{"runner": {"name":"loadbalance"}}'
```

íŒ€ ì¸í„°í˜ì´ìŠ¤ì˜ IPv4/IPv6 íŠ¹ì„±ì„ ê²°ì •í•©ë‹ˆë‹¤.

ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ê°€ ìƒì„±ë˜ë©´ IPv4 ë°/ë˜ëŠ” IPv6 íŠ¹ì„±ì„ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DHCPë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©´ ê¸°ë³¸ íŠ¹ì„±ì— ë”°ë¼ ì¸í„°í˜ì´ìŠ¤ê°€ DHCPë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ IP ì„¤ì •ì„ ê°€ì ¸ì˜¤ë„ë¡ êµ¬ì„±ë˜ë¯€ë¡œ ì´ ë‹¨ê³„ëŠ” ì„ íƒì ì…ë‹ˆë‹¤.

ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” ì •ì  ì£¼ì†Œë¥¼ team0 ì¸í„°í˜ì´ìŠ¤ì— í• ë‹¹í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

```bash
nmcli con mod team0 ipv4.addresses 1.2.3.4/24
nmcli con mod team0 ipv4.method manual

ipv4.methodë¥¼ manualë¡œ ì„¤ì •í•˜ë ¤ë©´ ë¨¼ì € ipv4.addressesipv4.ë¥¼ í• ë‹¹í•´ì•¼ í•©ë‹ˆë‹¤.
```

## í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ í• ë‹¹

nmcli ëª…ë ¹ì˜ ë‹¤ìŒ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ê° í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤.

```bash
nmcli con add type team-slave con-name CNAME ifname INAME master TEAM
```

CNAMEì€ í¬íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì´ë¦„ì´ê³ , INAMEì€ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì˜ ì´ë¦„ì´ê³ , TEAMì€ ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ì˜ ì—°ê²° ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤.

ì—°ê²° ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆê³ , ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ team-slave-IFACEê°€ ë©ë‹ˆë‹¤.

```bash
ê·¸ëƒ¥ ë„£ê¸°
[root@demo ~]# nmcli con add type team-slave ifname ens37 master team0
con ì´ë¦„ ì •í•´ ë„£ê¸°
[root@demo ~]# nmcli con add type team-slave ifname ens38 master team0 con-name team0-eth2
```

## íŒ€ ë° í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ì‘ë™/ì¤‘ë‹¨

nmcli ëª…ë ¹ì˜ ë‹¤ìŒ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ íŒ€ ë° í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì—°ê²°ì„ ê´€ë¦¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```bash
nmcli dev dis INAME
nmcli con up CNAME
```

INAMEì€ ê´€ë¦¬í•  íŒ€ ë˜ëŠ” í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ ì¥ì¹˜ ì´ë¦„ì…ë‹ˆë‹¤. CNAMEì€ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì˜ ì—°ê²° ì´ë¦„ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ CNAMEì€ ê´€ë¦¬í•  íŒ€ ë˜ëŠ” í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ ì—°ê²° ì´ë¦„ì…ë‹ˆë‹¤.

```bash
# nmcli con up team0
# nmcli dev dis eth2
```

íŒ€ ì¸í„°í˜ì´ìŠ¤ê°€ ì‘ë™ë˜ë©´ teamdctl ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ íŒ€ ìƒíƒœë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  ëª…ë ¹ì˜ ì¶œë ¥ì—ëŠ” í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ ìƒíƒœê°€ í¬í•¨ë©ë‹ˆë‹¤.

```bash
# teamdctl team0 state
setup:
runner: roundrobin
ports:
eth1
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
eth2
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
```

[EX] ë„¤íŠ¸ì›Œí¬ í‹°ë° êµ¬ì„±

team0ì´ë¼ëŠ” ë„¤íŠ¸ì›Œí¬ íŒ€ ì¸í„°í˜ì´ìŠ¤ëŠ” ì •ì  IP ì£¼ì†Œ 192.168.10.100/24ë¥¼ ê°–ê²Œ ë˜ë©° 2ê°œì˜ í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ ens37 ë° ens38ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë©ë‹ˆë‹¤. 

ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ë‚´ê²°í•¨ì„±/active-backup ì¸í„°í˜ì´ìŠ¤ê°€ë©ë‹ˆë‹¤.

```bash
SERVER1ì„ ì¬ì„¤ì • í•©ë‹ˆë‹¤.
NIC ì¹´ë“œë¥¼ 2ì¥ ì¶”ê°€í•©ë‹ˆë‹¤.
# nmcli con add con-name "Wired connection 1" ifname ens37 type ethernet
# nmcli con add con-name "Wired connection 2" ifname ens38 type ethernet

# ip addr show
ens37
ens38

# nmcli dev status 
DEVICE      TYPE      STATE      CONNECTION         
ens33       ethernet  connected  ens33              
**ens37       ethernet  connected  Wired connection 1 
ens38       ethernet  connected  Wired connection 2** 
virbr0      bridge    connected  virbr0             
lo          loopback  unmanaged  --                 
virbr0-nic  tun       unmanaged  --

ì¥ì¹˜ë¥¼ ì¥ì°©í•˜ê³  ìë™ìœ¼ë¡œ Wired connectionì´ ìƒì„±ë˜ì—ˆìœ¼ë©° ì‘ë™ì¤‘ì´ë‹¤. 
ê¸°ì¡´ì˜ ì—°ê²°ì„ í•´ì œ ê·¸ë¦¬ê³  ì‚­ì œí•´ì¤€ë‹¤.

# nmcli device disconnect ens37
Device 'ens37' successfully disconnected.
# nmcli device disconnect ens38
Device 'ens38' successfully disconnected.
# nmcli dev status 
DEVICE      TYPE      STATE         CONNECTION 
ens33       ethernet  connected     ens33      
virbr0      bridge    connected     virbr0     
**ens37       ethernet  disconnected  --         
ens38       ethernet  disconnected  --**         
lo          loopback  unmanaged     --         
virbr0-nic  tun       unmanaged     --

team0ë¡œ ìƒì„±í•  ì¥ì¹˜ ens37, ens38 ì¥ì¹˜ì˜ ê¸°ì¡´ ì—°ê²° ì •ë³´ë¥¼ ì‚­ì œí•œë‹¤.
# nmcli con delete "Wired connection 1"
ì—°ê²° 'Wired connection 1'(ee25b86f-0328-392e-bb41-544db4a350b8)ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.
# nmcli con delete "Wired connection 2"
ì—°ê²° 'Wired connection 2'(5f5f10c2-28b1-3308-a3ae-ce5a4d8c5403)ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.
# nmcli con show
NAME   UUID                                  TYPE      DEVICE 
**ens33  c611c1f2-ea20-41a0-a5b1-4c98ce0e789a  ethernet  ens33**

team0ì´ë¼ëŠ” active-backup í‹°ë° ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  IPv4 ì„¤ì •ì„ í• ë‹¹í•©ë‹ˆë‹¤.
# nmcli con add type team con-name team0 ifname team0 config '{"runner":{"name": "activebackup"}}'
Connection 'team0' (fd36f957-8c46-4499-b14c-9ce5b8b2f850) successfully added.
#
team0ì— ëŒ€í•œ IPv4 ì„¤ì •ì„ ì •ì˜í•©ë‹ˆë‹¤. IP ì£¼ì†Œ 192.168.10.100/24ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. IP ë°©ë²•ì€ ì •ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
# nmcli con mod team0 ipv4.addresses 192.168.10.100/24
# nmcli con mod team0 ipv4.method manual
# nmcli con mod team0 ipv4.gateway 192.168.10.2
# nmcli con add type team-slave con-name team0-port1 ifname ens37 master team0
Connection 'team0-port1' (4d1dc54f-dc00-4d54-859a-f4d26e633ff2) successfully added.
# nmcli con add type team-slave con-name team0-port2 ifname ens38 master team0
Connection 'team0-port2' (f838a261-8630-4801-8533-c59132f071cb) successfully added.

# teamdctl team0 state
# nmcli con up team0-port1
# teamdctl team0 state
# nmcli con up team0-port2
# teamdctl team0 state
# nmcli con up team0
# teamdctl team0 state

# nmcli dev disconnect ens33
Device 'ens33' successfully disconnected.
# ping -I team0 192.168.10.2
PING 192.168.10.2 (192.168.10.2) from 192.168.10.100 team0: 56(84) bytes of data.
64 bytes from 192.168.10.2: icmp_seq=1 ttl=128 time=0.255 ms
64 bytes from 192.168.10.2: icmp_seq=2 ttl=128 time=0.106 ms
64 bytes from 192.168.10.2: icmp_seq=3 ttl=128 time=0.120 ms
^C
--- 192.168.10.2 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2000ms
rtt min/avg/max/mdev = 0.106/0.160/0.255/0.067 ms

# watch -n 1 teamdctl team0 state
# ping 192.168.10.100
# nmcli con down team0-port1
# ifconfig
# nmcli con show
# nmcli dev status
```

nmtui ì‹¤ìŠµì„ ìœ„í•œ ì¥ì¹˜ ì´ˆê¸°í™”

```bash
í˜„ì¬ ì¥ì¹˜ ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.
# nmcli con show
NAME         UUID                                  TYPE      DEVICE 
ens33        37369daa-e175-46fd-a564-ead229f9f947  ethernet  ens33  
team0        30bc669d-ce1c-42a2-9977-1fa910962963  team      team0  
virbr0       d4851118-a32f-4696-8052-ffbb0d77697f  bridge    virbr0 
team0-port1  c795cf38-488c-40a5-af09-e5c3bff03685  ethernet  ens37  
team0-port2  9c10dfe3-a3de-46e6-8ee2-1812b5ac9650  ethernet  ens38  

# nmcli dev status 
DEVICE      TYPE      STATE          CONNECTION  
ens33       ethernet  ì—°ê²°ë¨         ens33       
team0       team      ì—°ê²°ë¨         team0       
virbr0      bridge    ì—°ê²°ë¨ (ì™¸ë¶€)  virbr0      
ens37       ethernet  ì—°ê²°ë¨         team0-port1 
ens38       ethernet  ì—°ê²°ë¨         team0-port2 
lo          loopback  ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --          
virbr0-nic  tun       ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --

# teamdctl team0 state
setup:
  runner: activebackup
ports:
  ens37
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
  ens38
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
runner:
  active port: ens38

# nmcli con down team0
ì—°ê²° 'team0'ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤(D-Bus í™œì„± ê²½ë¡œ: /org/freedesktop/NetworkManager/ActiveConnection/9).
# nmcli con show
NAME         UUID                                  TYPE      DEVICE 
ens33        37369daa-e175-46fd-a564-ead229f9f947  ethernet  ens33  
virbr0       d4851118-a32f-4696-8052-ffbb0d77697f  bridge    virbr0 
team0        30bc669d-ce1c-42a2-9977-1fa910962963  team      --     
team0-port1  c795cf38-488c-40a5-af09-e5c3bff03685  ethernet  --     
team0-port2  9c10dfe3-a3de-46e6-8ee2-1812b5ac9650  ethernet  --     
# nmcli dev status 
DEVICE      TYPE      STATE          CONNECTION 
ens33       ethernet  ì—°ê²°ë¨         ens33      
virbr0      bridge    ì—°ê²°ë¨ (ì™¸ë¶€)  virbr0     
ens37       ethernet  ì—°ê²° ëŠê²¼ìŒ    --         
ens38       ethernet  ì—°ê²° ëŠê²¼ìŒ    --         
lo          loopback  ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --         
virbr0-nic  tun       ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --
# nmcli dev disconnect ens37
# nmcli dev disconnect ens38   //í˜¹ì‹œ ëª¨ë¥´ë‹ˆ í•œë²ˆ ë” disconnect í•´ë³¸ë‹¤.

# nmcli con delete team0-port1
ì—°ê²° 'team0-port1'(c795cf38-488c-40a5-af09-e5c3bff03685)ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.
# nmcli con delete team0-port2
ì—°ê²° 'team0-port2'(9c10dfe3-a3de-46e6-8ee2-1812b5ac9650)ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.
# nmcli con delete team0
ì—°ê²° 'team0'(30bc669d-ce1c-42a2-9977-1fa910962963)ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.

# nmcli con show
NAME    UUID                                  TYPE      DEVICE 
ens33   37369daa-e175-46fd-a564-ead229f9f947  ethernet  ens33  
virbr0  d4851118-a32f-4696-8052-ffbb0d77697f  bridge    virbr0

# nmcli dev status 
DEVICE      TYPE      STATE          CONNECTION 
ens33       ethernet  ì—°ê²°ë¨         ens33      
virbr0      bridge    ì—°ê²°ë¨ (ì™¸ë¶€)  virbr0     
ens37       ethernet  ì—°ê²° ëŠê²¼ìŒ    --         
ens38       ethernet  ì—°ê²° ëŠê²¼ìŒ    --         
lo          loopback  ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --         
virbr0-nic  tun       ê´€ë¦¬ë˜ì§€ ì•ŠìŒ  --
```

## nmtuië¡œ ìƒì„±í•˜ëŠ” teamd

```bash
# nmcli dev status 
DEVICE      TYPE      STATE         CONNECTION 
ens33       ethernet  connected     ens33      
virbr0      bridge    connected     virbr0     
ens37       ethernet  disconnected  --         
ens38       ethernet  disconnected  --         
lo          loopback  unmanaged     --         
virbr0-nic  tun       unmanaged     --         
ë§Œì•½ ì˜ì–´ê°€ ì•„ë‹ˆë¼ í•œê¸€ì´ë¼ë©´
# export LANG=C
# nmtui
```

- nmtui ì„¤ì •ë°©ë²•

# xinetd & service

í•´ë‹¹ ê³¼ì •ì€ RHEL 5ë²„ì „ ê¸°ì¤€ì´ë©° ë” ì´ìƒ ìˆ˜ì—…ì—ì„œ ì§„í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

í”„ë¡œê·¸ë¨ì„ êµ¬ë™í•˜ëŠ” ë°©ì‹ 

í¬ê·¸ë¼ìš´ë“œ - ì‰˜ì„ ì ìœ í•œ ìƒíƒœì—ì„œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰

ë°±ê·¸ë¼ìš´ë“œ - ì‰˜ì„ ì ìœ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰

ì´ë ‡ê²Œ ì°¨ì´ì ì´ ì¡´ì¬í•˜ì§€ë§Œ ì‰˜ì„ ë²—ì–´ë‚˜ì§€ëŠ” ëª»í•œë‹¤.

ì‰˜ì„ ì¢…ë£Œí•˜ë©´ ë”ì´ìƒ ì œì–´ê°€ ë¶ˆê°€ëŠ¥í•˜ì—¬ kill ëª…ë ¹ì–´ë¡œ ê°•ì œ ì¢…ë£Œ

ì„œë¹„ìŠ¤ - í•´ë‹¹ ì‰˜ì„ ì¢…ë£Œí•˜ë”ë¼ë„ ì—¬ì „íˆ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ë˜ê³  ìˆìœ¼ë©° ì„œë¹„ìŠ¤ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

standalone

ë°ëª¬[í”„ë¡œì„¸ìŠ¤]ì´ ì‹¤í–‰ë˜ì–´ ìˆëŠ” ìƒíƒœì—ì„œ ì„œë¹„ìŠ¤ í•˜ëŠ” í˜•ì‹

xinetd

ë°ëª¬[í”„ë¡œì„¸ìŠ¤]ì´ ì‹¤í–‰ë˜ì–´ ìˆì§€ ì•Šì€ ìƒíƒœì—ì„œ ì„œë¹„ìŠ¤ í•˜ëŠ” í˜•ì‹

ì‹¤í–‰ë˜ì–´ ìˆì§€ ì•Šì€ê²ƒ - ì‹¤ì œ ì„œë¹„ìŠ¤

ì‹¤í–‰ë˜ì–´ ìˆëŠ” ê²ƒ - xinetd

inetd â†’ xinetd

xinetdëŠ” ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰ì´ ë˜ê³  ìˆìœ¼ë©° ì„œë¹„ìŠ¤ ìš”ì²­ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ xinetdê°€ ì‹¤ì œ ì„œë¹„ìŠ¤ë¥¼ í•˜ìœ„ í”„ë¡œì„¸ìŠ¤ë¡œ êµ¬ë™ì‹œì¼œ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ê³  ì ‘ì†ì´ ëŠì–´ì§€ë©´ [ì„œë¹„ìŠ¤ë¥¼ ì¢…ë£Œ] í•˜ìœ„ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•œ ì„œë¹„ìŠ¤ë¥¼ ì¢…ë£Œí•˜ëŠ” ë°©ì‹

## í´ë¼ì´ì–¸íŠ¸

## ì„œë²„

service=socketì„ ëŒ€ê¸° ì‹œì¼œì£¼ëŠ” ê³µê°„

    socket â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” socket
