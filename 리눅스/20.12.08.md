## ğŸ™‹ğŸ»â€â™€ï¸ ì—´í•œë²ˆì§¸ ë¹„ëŒ€ë©´ ìˆ˜ì—…

- **ë°°ìš´ ë‚´ìš©**

---

# ë‚´ìš© ì •ë¦¬

---

ì§€ë‚œì‹œê°„ ì¶”ê°€ ë‚´ìš©

find ì—ì„œ -inum ì˜µì…˜ : íŒŒì¼ì˜ ì¡´ì¬ ìì²´ëŠ” ìˆì§€ë§Œ ë””ë ‰í† ë¦¬ì—ì„œ íŒŒì¼ëª…ì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°. inodeë²ˆí˜¸ë¡œ ê²€ìƒ‰í•œë‹¤

# ì••ì¶•ê³¼ ì•„ì¹´ì´ë¹™

# ë‹¨ì›ëª©í‘œ

---

- ì••ì¶• ê´€ë ¨ ëª…ë ¹ì–´
    - **gzip / gunzip**
    - **bzip2 / bynzip2**
- ì••ì¶• + ì•„ì¹´ì´ë¹™ ê´€ë ¨ ëª…ë ¹ì–´
    - **tar**
    - **zip / unzip**

---

ì••ì¶• â†’ ìš©ëŸ‰ì— ëŒ€í•œ ì œí•œ â†’ ë””ìŠ¤í¬ì˜ íš¨ìœ¨ì„± â†’ í˜„ì¬ ë‹¹ì¥ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼

ë””ìŠ¤í¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê¸°ìˆ 

ê³¼ê±° 1970 ìš©ëŸ‰ì„ ì €ì¥í•˜ëŠ” ë””ìŠ¤í¬ì˜ ê°€ê²©. ì¢€ ë” ì´ ë””ìŠ¤í¬ì— ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë‹´ì„ ìˆ˜ ìˆì„ê¹Œ?

ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì„ ì œê±°, ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„ ë°ì´í„°ì˜ ì–‘ì„ ì¤„ì´ëŠ” ê²ƒ

ìŠ¤í¬ë¦½íŠ¸

ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ì ê¹ ì••ì¶•ì„ í•´ì œ

ê³ ì •ëœ ë¬¸ì„œíŒŒì¼, ë³€ê²½ë˜ì§€ ì•Šì€ ì•ˆì •ë²„ì „ ë¬¸ì„œ

# ì••ì¶• ê´€ë ¨ ëª…ë ¹ì–´(gzip/gunzip ëª…ë ¹ì–´)

---

- gzip/gunzip ëª…ë ¹ì–´

    ```bash
    # gzip file1
    # gunzip -c gile1.gz (# zcat file1.gz)
    # gunzip file1.gz (# gzip -d file1.gz)
    ```

---

## gzip / gunzip ëª…ë ¹ì–´

[1] gzip/gunzip CMD

gzip ëª…ë ¹ì–´ëŠ” íŒŒì¼ì„ ì••ì¶•í•  ë•Œ ì‚¬ìš©í•œë‹¤. gzip ëª…ë ¹ì–´ ë‹¤ìŒì— íŒŒì¼ì˜ ì´ë¦„ì„ ì“°ë©´ íŒŒì¼ì´ ì••ì¶•ë˜ë©°, íŒŒì¼ì— í™•ì¥ì(.gz)ê°€ ë¶™ê²Œ ëœë‹¤. gzip ëª…ë ¹ì–´ëŠ” Lempel-Ziv coding (LZ77)ì„ ì‚¬ìš©í•œë‹¤. ì••ì¶•ë˜ê¸° ì „ì˜ íŒŒì¼ì˜ ì†ì„± ì •ë³´ëŠ” ì••ì¶•ì´ ëœ ì´í›„ì—ë„ ìœ ì§€ëœë‹¤. gzip ëª…ë ¹ì–´ë¡œ ì••ì¶•ëœ íŒŒì¼ì˜ ë‚´ìš©ì€ gzcat ëª…ë ¹ì–´ë‚˜ gunzip ëª…ë ¹ì–´ì˜ -c ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë³¼ ìˆ˜ ìˆë‹¤. ì••ì¶•ì„ í•´ì œ í•  ë•ŒëŠ” gzip -d ëª…ë ¹ì–´ ë‹¤ìŒì— ì••ì¶•ëœ íŒŒì¼ì„ ì“°ë©´ ëœë‹¤. ê·¸ëŸ¼ ì••ì¶•ì´ í•´ì œë˜ë©°, íŒŒì¼ì˜ í™•ì¥ì(.gz)ê°€ ì—†ì–´ì§€ê²Œ ëœë‹¤.

ì›ë³¸ > ì••ì¶•íŒŒì¼ ìƒì„± + ì›ë³¸ íŒŒì¼ ì‚­ì œ > inodeê°€ ë‹¬ë¼ì§

[ëª…ë ¹ì–´ì˜ í˜•ì‹]

```bash
(ì••ì¶•) # gzip file1 
       file1.gz 
(í™•ì¸) # gunzip -c file1.gz   (# zcat file1.gz)
(í•´ì œ) # gunzip file1.gz      (# gzip -d file1.gz)
```

[ëª…ë ¹ì–´ ì˜µì…˜]

```bash
ì˜µì…˜ : ì„¤ëª…
-S : ê¸°ë³¸ ìƒì„± íŒŒì¼ì¸ .gz í˜•íƒœê°€ ì•„ë‹Œ ì§€ì •í•œ íŒŒì¼ë¡œ ìƒì„±í•œë‹¤.
-d : ì••ì¶•ëœ íŒŒì¼ì˜ ì••ì¶•ì„ í•´ì œí•œë‹¤. ì´ëŠ” uncompressëª…ë ¹ê³¼ë„ ê°™ë‹¤.      â—€
-f : ì´ë¯¸ ì´ì „ì— ì••ì¶•íŒŒì¼ì´ ì¡´ì¬í•˜ë”ë¼ë„, ë¬´ì‹œí•˜ê³  ì••ì¶•íŒŒì¼ì„ ìƒì„±í•œë‹¤.
-r : ì§€ì •í•œ ê²ƒì´ ë””ë ‰í† ë¦¬ë¼ë©´ í•˜ìœ„ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ê¹Œì§€ ëª¨ë‘ ì••ì¶•í•œë‹¤.
-v : ì••ì¶• í†µê³„ë¥¼ ë³´ì—¬ì¤€ë‹¤.
-[1-9] : ì••ì¶• ë ˆë²¨ ì§€ì •   < ë²ˆí˜¸ë¥¼ ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê¸°ë³¸ê°’ì¸ ê°€ì¥ ë†’ì€ ë ˆë²¨ë¡œ ì••ì¶•ì´ ëœë‹¤.
```

### [EX1] gzipìœ¼ë¡œ íŒŒì¼ ì••ì¶•

```bash
# cd /test 
# rm -rf /test/* 

# cp /etc/services file1 
# cp file1 file2 
# cp file1 file3 
# cp file1 file4 
# ls
file1  file2  file3  file4
# gzip file1 
# ls -l
í•©ê³„ 2104
-rw-r--r--. 1 root root 136085  8ì›” 19 11:56 file1.gz
-rw-r--r--. 1 root root 670293  8ì›” 19 11:56 file2
-rw-r--r--. 1 root root 670293  8ì›” 19 11:56 file3
-rw-r--r--. 1 root root 670293  8ì›” 19 11:56 file4
# ls -lh
í•©ê³„ 2.1M
-rw-r--r--. 1 root root 133K  8ì›” 19 11:56 file1.gz
-rw-r--r--. 1 root root 655K  8ì›” 19 11:56 file2
-rw-r--r--. 1 root root 655K  8ì›” 19 11:56 file3
-rw-r--r--. 1 root root 655K  8ì›” 19 11:56 file4

```

### [EX2] íŒŒì¼ì˜ ì••ì¶•ìœ¨

```bash
# vi ~/.bashrc 
alias gzip='gzip â€“v'
alias gunzip='gunzip -v'
# . ~/.bashrc
# alias gzip
```

```bash
# gzip -9v file2 /* -9ì„ í†µí•œ ì••ì¶• */
file2:   72.6% -- replaced with file2.gz
```

gzipì˜ ì••ì¶•ë¥ ê³¼ ì••ì¶•ì†ë„

```bash
-------------------------
-1        (ì••ì¶• ì†ë„)
-2
-3
.....
-8
-9        (ì••ì¶•ìœ¨)
-------------------------
```

```bash
# gzip -1v file3/* -1ì„ í†µí•œ ì••ì¶• */
file3:   69.4% -- replaced with file3.gz
# ls -l /* -9ë¡œ ì••ì¶•í•œ ì••ì¶•ìœ¨ì´ ë” ì¢‹ë‹¤ */
# ls -l
í•©ê³„ 1084
-rw-r--r--. 1 root root 136085  8ì›” 19 11:56 file1.gz
-rw-r--r--. 1 root root 135486  8ì›” 19 11:56 file2.gz
-rw-r--r--. 1 root root 156631  8ì›” 19 11:56 file3.gz
-rw-r--r--. 1 root root 670293  8ì›” 19 11:56 file4
```

### [EX3] íŠ¹ì • ë””ë ‰í† ë¦¬ë‚´ì˜ ëª¨ë“  íŒŒì¼ì„ gzipìœ¼ë¡œ ì••ì¶•í•˜ê¸°

```bash
# du -sh dir     < ë””ë ‰í† ë¦¬ ìš©ëŸ‰
152M	dir
# du dir         < ë””ë ‰í† ë¦¬ ë‚´ ëª¨ë“  íŒŒì¼ ê°ê°ì˜ ìš©ëŸ‰
...
12	dir/fwupd/gnupg
464	dir/fwupd/remotes.d/lvfs
464	dir/fwupd/remotes.d
492	dir/fwupd
...

gzipìœ¼ë¡œ ë””ë ‰í† ë¦¬ ì••ì¶• ì‹œ ë””ë ‰í† ë¦¬ í†µì§¸ë¡œ ì••ì¶•ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê°ê° íŒŒì¼ì´ ë”°ë¡œ ì••ì¶•ëœë‹¤.
```

```bash
# cd /test 
# cp -r /var/lib dir 
# du -sh dir            /* -s : sum, -h : human */
168M	dir
# gzip -rv dir           /* -r : recursive */
# du -sh dir
83M	dir
# ls dir   (# find dir)
alternatives  hal                  news            setroubleshoot
bluetooth     hsqldb               nfs             spamassassin
dav           htdig                ntp             stateless
dbus          ibmasm               php             tpm
dhclient      logrotate.status.gz  random-seed.gz  webalizer
dhcpv6        misc                 rpm             xkb
dovecot       mlocate              scrollkeeper    yum
games         multipath            sepolgen
# gzip â€“dr dir    (# gunzip â€“r dir)
# du â€“sh dir
168M	dir
```

### [EX4] **zcat**ìœ¼ë¡œ ì••ì¶•íŒŒì¼ ë‚´ìš© í™•ì¸

```bash
# cp /etc/services file1 
# gzip file1
gzip: file1.gz already exists; do you wish to overwrite (y or n)? y
# cat file1.gz            < ê¹¨ì§„ë‹¤
ë©ŒtëŒ€???M?è¤™Oj?æ?G?Mî¾p
                               ë…¨æ£§???U&u?ï½ì·Ÿï¥¤==?ì«½^
9)ë™zNS~hN:?é‰€ê¿½?hY???ç¾²?p?å·§â‘£tÂ€a?è½ç­”lM??
Kì‚·ì‘­7??ëŠ‹è¨ªUI?iãƒ¢ë‡ŒX5                           ?ä½ˆ?í‚»íœ¾ã…›í™£?Ni
wMë›—?ìWí–±ë ¸êº¹ë¿ìº»Ğš!ìŸ˜í‘¡H?
ëŠ¿\í‚—ë°“íè¹ˆI??N

# zcat file1.gz   (# gunzip -c file1.gz)
# /etc/services:
# $Id: services,v 1.42 2006/02/23 13:09:23 pknirsch Exp $
#
# Network services, Internet style
#
# Note that it is presently the policy of IANA to assign a single well-known
# port number for both TCP and UDP; hence, most entries here have two entries
..... (ì¤‘ëµ) .....
```

### [EX5] íŒŒì¼ì˜ ì••ì¶• í•´ì œ

```bash
# gzip -d file1.gz     /* -d : decompress */
# ls -l
-rw-r--r-- 1 root root 362131 Aug 19 13:24 file1
-rw-r--r-- 1 root root  99315 Aug 19 13:25 file2.gz
-rw-r--r-- 1 root root 110893 Aug 19 13:25 file3.gz
# gunzip file2.gz 
# ls -l
-rw-r--r-- 1 root root 362131 Aug 19 13:24 file1
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file2
-rw-r--r-- 1 root root 110893 Aug 19 13:25 file3.gz
```

### [EX6] ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ë¡œ ì••ì¶•í•  ìˆ˜ ìˆì„ê¹Œ?

```bash
# cd /test ; rm â€“rf /test/* 

# cp /etc/services file1 
# cp file1 file2 
# cp file1 file3 
# ls
file1  file2  file3
# gzip file1 file2 file3    (# gzip file*)
# ls
file1.gz  file2.gz  file3.gz
# gunzip *.gz   (# gzip -d *.gz)
# ls 
-> íŒŒì¼ í™•ì¸
```

## bzip2/bunzip2 ëª…ë ¹ì–´

---

```bash
# bzip2 file1
# bzip2 â€“c file1.bz2 (# bzcat file1.bz2)
# bunzip2 file1.bz2 (# bunzip2 â€“d file1.bz2)
```

---

## bzip2 / bunzip2 ëª…ë ¹ì–´

ì••ì¶•ë¥ ì€ gzipë³´ë‹¤ bzip2ê°€ í›¨ì”¬ ì¢‹ì§€ë§Œ ëŒ€ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ gzipì´ë‹¤. ë•Œë¬¸ì— ì´ ë¶€ë¶„ì€ -kì˜µì…˜ë§Œ ë³´ê³  ë„˜ì–´ê°€ì

**[ëª…ë ¹ì–´ í˜•ì‹]**

```bash
(ì••ì¶•) # bzip2 file1 
       file1.bz2 
(í™•ì¸) # bunzip2 -c file1.bz2      (# bzcat file1.bz2)
(í•´ì œ) # bunzip2 file1.bz2         (# bzip2 -d file1.bz2)
```

**[ëª…ë ¹ì–´ ì˜µì…˜]**

**ì˜µì…˜ : ì„¤ëª…**

-c : íŒŒì¼ì„ ì••ì¶• ë˜ëŠ” í’€ì–´ì„œ í‘œì¤€ ì¶œë ¥ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
-d : ì••ì¶•ì„ í‘¼ë‹¤.
-z : íŒŒì¼ì„ ì••ì¶•í•œë‹¤.
-t : ì§€ì •ëœ íŒŒì¼ì˜ ë¬´ê²°ì„±ì„ ê²€ì‚¬í•˜ì§€ë§Œ, ì••ì¶•ì„ í’€ì§€ ì•ŠëŠ”ë‹¤.
-f : ì••ì¶•, í•´ì œí•  ë•Œ ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ìˆì„ ê²½ìš° ë®ì–´ì“°ê¸° í•œë‹¤.
**-k : íŒŒì¼ì„ ì••ì¶•ì´ë‚˜ í•´ì œí•  ë•Œ ì›ë³¸íŒŒì¼ì„ ì§€ìš°ì§€ ì•ŠëŠ”ë‹¤.**
-q : ê²½ê³  ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤.
-v : bzip2 ì‘ì—…ì‚¬í•­ì„ ìì„¸íˆ ë³¼ ìˆ˜ ìˆë‹¤.
-1~-9 : ì••ì¶•í•  ë•Œì˜ ë¸”ë¡ í¬ê¸°ë¥¼ ì •í•´ì¤€ë‹¤.

### [EX1] íŒŒì¼ ì••ì¶•

```bash
# cd /test 
# rm -rf /test/* 

# cp /etc/services file1 
# cp file1 file2 
# cp file1 file3 

# bzip2 file1 
# ls -l
-rw-r--r-- 1 root root  92983 Aug 19 13:24 file1.bz2
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file2
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file3
```

```bash
# vi ~/.bashrc 
alias bzip2='bzip2 â€“v'
alias bunzip2='bunzip2 -v'
# . ~/.bashrc 
# alias bzip2
```

```bash
# bzip2 -kv file2/* ì´ì „ íŒŒì¼ ì‚­ì œí•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì••ì¶•ë˜ëŠ” ê³¼ì • ìì„¸íˆ ì¶œë ¥ */
file2:    3.895:1,  2.054 bits/byte, 74.32% saved, 362131 in, 92983 out.
# ls -l
-rw-r--r-- 1 root root  92983 Aug 19 13:24 file1.bz2
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file2
-rw-r--r-- 1 root root  92983 Aug 19 13:25 file2.bz2
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file3
# gzip file2 
# ls -l file2*
-rw-r--r-- 1 root root 92983 Aug 19 13:25 file2.bz2
-rw-r--r-- 1 root root 98889 Aug 19 13:25 file2.gz
```

### [EX2] bzcatìœ¼ë¡œ ì••ì¶•íŒŒì¼ ë‚´ìš© í™•ì¸

```bash
# cat file2.bz2 | more
BZh91AY&SYâ–’â–’â–’â–’

# bzcat file1.bz2 | more    (# bunzip2 -c file1.bz2)
# /etc/services:
# $Id: services,v 1.42 2006/02/23 13:09:23 pknirsch Exp $
#
# Network services, Internet style
#
# Note that it is presently the policy of IANA to assign a single well-known
# port number for both TCP and UDP; hence, most entries here have two entries
# even if the protocol doesn't support UDP operations.
# Updated from RFC 1700, ``Assigned Numbers'' (October 1994).  Not all ports
# are included, only the more common ones.
#
# The latest IANA port assignments can be gotten from
#       http://www.iana.org/assignments/port-numbers
# The Well Known Ports are those from 0 through 1023.
# The Registered Ports are those from 1024 through 49151
# The Dynamic and/or Private Ports are those from 49152 through 65535
#
# Each line describes one service, and is of the form:
#
# service-name  port/protocol  [aliases ...]   [# comment]

tcpmux          1/tcp                           # TCP port service multiplexer
tcpmux          1/udp                           # TCP port service multiplexer
```

### [EX3] íŒŒì¼ í•´ì œ

```bash
# bzip2 -d file1.bz2   (# bunzip2 file1.bz2)
# ls -l
-rw-r--r-- 1 root root 362131 Aug 19 13:24 file1
-rw-r--r-- 1 root root 362131 Aug 19 13:25 file2
-rw-r--r-- 1 root root  92983 Aug 19 13:25 file2.bz2
-rw-r--r-- 1 root root 110893 Aug 19 13:25 file3.gz
# bunzip2 file2.bz2
bunzip2: Output file file2 already exists.
# ls â€“l
-> ì •ë³´ í™•ì¸
```

# ì•„ì¹´ì´ë¹™ (tar ëª…ë ¹ì–´)

---

- **tar ëª…ë ¹ì–´**

    ```bash
    # tar cvf file.tar file1 file2 file3
    # tar tvf file.tar
    # tar xvf file.tar
    # tar cvzf file.tar.gz file1 file2 file3
    # tar tvzf file.tar.gz
    # tar xvzf file.tar.gz
    # tar cvjf file.tar.bz2 file1 file2 file3
    # tar tvjf file.tar.bz2
    # tar xvzf file.tar.bz2
    ```

---

íŒŒì¼ì— ëŒ€í•˜ì—¬ ë³´ê´€, íŠ¹ì • ëª©ì ìœ¼ë¡œ ì €ì¥

ì¥ê¸° ë³´ê´€ì„ ìœ„í•´ì„œ íŒŒì¼ì„ ë‹¨ì¼ íŒŒì¼ë¡œ ìƒì„±

## tar ëª…ë ¹ì–´

tar(tape archive) ëª…ë ¹ì–´ëŠ” ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ `í•œ ê°œì˜ ë¬¶ìŒíŒŒì¼ë¡œ ë§Œë“¤ ë•Œ ì‚¬ìš©`í•œë‹¤. ë˜ëŠ” Tape ë””ë°”ì´ìŠ¤ì— ë°±ì—…í•  ë•Œ ì‚¬ìš©í•œë‹¤. tar ëª…ë ¹ì–´ëŠ” c, x, v, f ì˜µì…˜ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•œ ê°œì˜ ì•„ì¹´ì´ë¹™ í•  ë•ŒëŠ” c ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³  f ì˜µì…˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§ˆ íŒŒì¼ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë©´ ëœë‹¤. ì•„ì¹´ì´ë¹™ íŒŒì¼ì˜ ë‚´ìš©ì„ ë³¼ë•ŒëŠ” t ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³  f ì˜µì…˜ìœ¼ë¡œ ì•„ì¹´ì´ë¹™ íŒŒì¼ì„ ì§€ì •í•œë‹¤. ì•„ì¹´ì´ë¹™ íŒŒì¼ì„ í•´ì œ í•  ë•ŒëŠ” x ì˜µì…˜ì„ ì‚¬ìš©í•˜ê³  f ì˜µì…˜ìœ¼ë¡œ ì•„ì¹´ì´ë¹™ íŒŒì¼ì„ ì§€ì •í•˜ë©´ ëœë‹¤.

ì›ë³¸íŒŒì¼ì€ ê±´ë“¤ì´ì§€ ì•Šê³  ìƒˆë¡œìš´ íŒŒì¼ë¡œ ìƒì„±ëœë‹¤.

**[ëª…ë ¹ì–´ í˜•ì‹]**

```bash
tarëª…ë ¹ì–´ ì‚¬ìš©ì‹œ ì˜µì…˜ì— -ê¸°í˜¸ ìƒëµê°€ëŠ¥
# tar cvf <ë¬¶ìŒíŒŒì¼ëª…> <íŒŒì¼ëª…1> <íŒŒì¼ëª…2> .../* c: create, v: verbose, f: file or tape */
# tar tvf <ë¬¶ìŒíŒŒì¼ëª…> /* t: content */
# tar xvf <ë¬¶ìŒíŒŒì¼ëª…>/* x: extract */
```

```bash
# tar cvf file.tar file1 file2 file3
# tar tvf file.tar
# tar xvf file.tar

# tar cvzf file.tar.gz file1 file2 file3   (# tar cvzf file.tgz file1 file2 file3)
# tar tvzf file.tar.gz
# tar xvzf file.tar.gz                     (# tar xvf file.tar.gz)

# tar cvjf file.tar.bz2 file1 file2 file3  (# tar cvjf file.tbz file1 file2 file3)
# tar tvjf file.tar.bz2
# tar xvjf file.tar.bz2                    (# tar xvf file.tar.bz2)
```

**[ëª…ë ¹ì–´ ì˜µì…˜]**

**ì˜µì…˜ : ì„¤ëª…**

**-c : ì—¬ëŸ¬ ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë¬¶ì„ ë•Œ
-v : ìƒì„±ê³¼ì •ì„ ë³´ì—¬ ì¤Œ**
-x : íŒŒì¼ì˜ ì••ì¶•ì„ í•´ì œí•˜ê³  í’€ì–´ ë‚¼ ë•Œ
**-f : ê¸°ë³¸ì¥ì¹˜ì¸ í…Œì´í”„ê°€ ì•„ë‹ˆë¼ íŒŒì¼ë¡œì„œ ë™ì‘ì‹œí‚¤ëŠ” ê²½ìš° ì‚¬ìš©ë˜ëŠ” ì˜µì…˜**
-r : íŒŒì¼ ë° ë””ë ‰í† ë¦¬ ì¶”ê°€
-u : tar íŒŒì¼ê³¼ ìƒˆë¡œìš´ ë””ë ‰í† ë¦¬ ë‚´ì˜ íŒŒì¼ê³¼ ë¹„êµí•˜ì—¬ ìµœê·¼ íŒŒì¼ì„ ì•„ì¹´ì´ë¸Œì— ì¶”ê°€
**-t : tar íŒŒì¼ì˜ ë‚´ìš©ì„ í™•ì¸í•  ë•Œ
-z : gzipê³¼ ê´€ë ¨í•˜ì—¬ ì••ì¶•ì´ë‚˜ í•´ì œë¥¼ í•œêº¼ë²ˆì— í•  ë•Œ
-j, -l : bzip2ë¥¼ ì´ìš©í•´ì„œ ì••ì¶•í•œë‹¤.**

**-x : ì••ì¶• íŒŒì¼ í•´ì œ**

[EX1] tar ëª…ë ¹ì–´ ì‹¤ìŠµ

```bash
(ì‹¤ìŠµ ì¤€ë¹„)
# cd /test ; rm -f /test/* 

# cp /etc/passwd file1 
# cp file1 file2 
# cp file1 file3 
# ls
file1  file2  file3

(tar ëª…ë ¹ì–´ ì‹¤ìŠµ)
# tar cvf file.tar file1 file2 file3
file1
file2
file3
# ls -l file*
-rw-r--r-- 1 root root 20480 Aug 19 13:46 file.tar 
-rw-r--r-- 1 root root  3082 Aug 19 13:45 file1
-rw-r--r-- 1 root root  3082 Aug 19 13:46 file2
-rw-r--r-- 1 root root  3082 Aug 19 13:46 file3
# rm -f file1 file2 file3 
# ls
file.tar
# tar tvf file.tar
-rw-r--r-- root/root      3082 2010-08-19 13:45:54 file1
-rw-r--r-- root/root      3082 2010-08-19 13:46:02 file2
-rw-r--r-- root/root      3082 2010-08-19 13:46:04 file3
# tar xvf file.tar
file1
file2
file3
# ls file*
file.tar file1 file2 file3
```

### [EX2] ì—¬ëŸ¬ê°œì˜ íŒŒì¼ ì••ì¶•í•˜ê¸°

```bash
# rm -rf file.tar 
#

# tar cvf file.tar file1 file2 file3
file1
file2
file3

# gzip file.tar 
# ls
file.tar.gz  file1  file2  file3
# gzip -d file.tar.gz     (# gunzip file.tar.gz)
# ls
file.tar  file1  file2  file3
# rm -f file? 
# tar xvf file.tar
file1
file2
file3
```

### [EX3] tarì„ ì´ìš©í•œ ë¬¶ìŒê³¼ ì••ì¶•(gzip)

```bash
# rm -f file.tar 
#

# ls
file1 file2 file3
```

[ì°¸ê³ ] ëª…ë ¹ì–´ ë¹„êµ

```bash
# tar cvf file.tar file1 file2 file3
# gzip file.tar
or
# tar cvzf file.tar.gz file1 file2 file3
í•œë²ˆì— tar+gzip í•˜ê¸°
```

```bash
# tar cvzf file.tar.gz file1 file2 file3   (# tar cvzf file.tgz file1 file2 file3)
# file file.tar.gz
file.tar.gz: gzip compressed data, from Unix, last modified: Thu Mar 18 12:02:09 2010
# tar tvzf file.tar.gz 
-> ë‚´ìš© í™•ì¸

# rm -f file? 
# ls
file.tar.gz
# tar xvzf file.tar.gz    (# tar xvf file.tar.gz)
file1
file2
file3
# ls
file.tar.gz file1 file2 file3
```

### [EX4] tarì„ ì´ìš©í•œ ë¬¶ìŒê³¼ ì••ì¶•(bzip2)

```bash
# rm -f file.tar.gz 
# ls
file1 file2 file3
```

[ì°¸ê³ ] ëª…ë ¹ì–´ ë¹„êµ

```bash
# tar cvf file.tar file1 file2 file3
# bzip2 file.tar
or
# tar cvjf file.tar file1 file2 file3
```

```bash
# tar cvjf file.tar.bz2 file1 file2 file3 (# tar cvjf file.tbz file1 file2 file3)
# ls
file.tar.bz2  file1  file2  file3
# file file.tar.bz2
file.tar.bz: bzip2 compressed data, block size = 900k
tar tvjf file.tar.bz2 
-> ë‚´ìš© í™•ì¸

# rm -f file1 file2 file3 
# ls
file.tar.bz
# tar xvjf file.tar.bz2 
# ls
file.tar.bz2  file1  file2  file3
```

[ì°¸ê³ ] jar CMD

```bash
[jar ëª…ë ¹ì–´ í˜•ì‹] JDK/SDK ì„¤ì¹˜ì‹œ ì¡´ì¬
# jar cvf file.jar file1 file2 file3 
# jar tvf file.jar 
# jar xvf file.jar
```

[ì°¸ê³ ] tar.gz ë“¤ì˜ íŒŒì¼ì˜ ì ˆëŒ€ê²½ë¡œ ì‚¬ìš©ì‹œì˜ ë¬¸ì œì  [í˜„ì¬ëŠ” í•´ê²°]

```
	# mkdir /test1
	# mkdir /test2
	# cd /test1 
	# touch file1
	# tar cvzf /test1/file1.tar.gz /test1/file1
	tar: êµ¬ì„± ìš”ì†Œ ì´ë¦„ ì•ì— ë¶™ì€ `/' ì œê±° ì¤‘
	/test/file1
	# ls
	file1  file1.tar.gz
	# mv file1.tar.gz /test2
	# echo 1111 > file1
	# cd /test2
	# tar xvzf file1.tar.gz 
	test/file1
	# ls
	file1.tar.gz  test
	# cd test
	# ls
	file1
----------------------------------<< 7,8 ë²„ì „ì—ì„œì˜ í™•ì¸

êµ¬ ë²„ì „ì—ì„œì˜ ë¬¸ì œ

	# mkdir /test1
	# mkdir /test2
	# cd /test1 
	# echo 2222 > file1
	# tar cvzf /test1/file1.tar.gz /test1/file1
	/test/file1
	# ls
	file1  file1.tar.gz
	# mv file1.tar.gz /test2
	# echo 1111 > file1
	# cd /test2
	# tar xvzf file1.tar.gz 
	/test/file1
	# ls
	file1.tar.gz 
  # cd /test1
  # ls
  # file1
  # cat file1
  2222
  * ë°±ì—…íŒŒì¼ì´ ì›ë³¸íŒŒì¼ì„ ê·¸ëŒ€ë¡œ ë®ì–´ì“°ê¸° í•´ë²„ë¦¬ëŠ” ë¬¸ì œì ì´ ì¡´ì¬
    ì™œ ì´ëŸ° ë¬¸ì œì ì´ ìƒê¸¸ê¹Œ? ìš´ì˜ì¤‘ì¸ íŒŒì¼ì— ë°”ë¡œ ë®ì–´ì“°ê¸°ë¥¼ í•˜ê¸° ë•Œë¬¸ì— íŒŒì¼ì˜ ë²„ì „ ì •ë³´, ì„¤ì • ì •ë³´ë“±ì„ ì •í™•íˆ í™•ì¸ í•  ìˆ˜ ì—†ë‹¤.
  

```

[ì°¸ê³ ] ë§ˆì´ê·¸ë ˆì´ì…˜ì‹œ tar ì‚¬ìš©

```bash
# tar cvf - . | (cd /dir ; tar xvf -)

ìœ„ ëª…ë ¹ì–´ëŒ€ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì§„í–‰í•˜ë©´ ì†ì„±, ê¶Œí•œ, ìˆ˜ì •ì‹œê°„ , íŒŒì¼ì˜ ë³€ê²½ì—†ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ê°€ëŠ¥í•˜ë‹¤.
- í‘œì¤€ ì¶œë ¥
ë‹¤ì‹œë³´ê¸° 12.08 12:12
```

tar ëª…ë ¹ì–´

ì•„ì¹´ì´ë¹™ -ì—¬ëŸ¬ íŒŒì¼ì„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ í†µí•©

cvf, xvf, tvf + z

cvzf, xvzf

tar cvf - . | (cd /dir ; tar xvf -)

gzip ëª…ë ¹ì–´

ì••ì¶• - ë‹¨ì¼ íŒŒì¼ í˜•íƒœë¡œë§Œ íŒŒì¼ì„ ì••ì¶•

-d

ì•„ì¹´ì´ë¹™+ì••ì¶• tar.gz

ë³´ê´€+ë°ì´í„° ì €ì¥ì‹œ ìš©ëŸ‰ì˜ ì†í•´ë¥¼ ìµœëŒ€í•œ ì—†ì•¨ ìˆ˜ ìˆë‹¤.

# ì••ì¶• + ì•„ì¹´ì´ë¹™(zip/unzip)

---

- **zip/unzip** ëª…ë ¹ì–´

    ```bash
    # zip file.zip file1 file2 file3
    # unzip â€“l file.zip
    # unzip file.zip
    ```

---

[zip ëª…ë ¹ì–´ í˜•ì‹]

```bash
# zip file.zip file1 file2 file3 
# unzip -l file.zip 
# unzip file.zip
```

### [EX1] zip/unzip ëª…ë ¹ì–´ ì‹¤ìŠµ

```bash
# cd /test 
# ls
file1 file2 file3
# zip file.zip file1 file2 file3
	adding: file1 (deflated 62%)
  adding: file2 (deflated 73%)
  adding: file3 (deflated 73%)
# ls â€“l
-rw-r--r-- 1 root root 195K Jan 15 10:30 file.zip
-rw-r--r-- 1 root root 2.0K Jan 15 10:30 file1
-rw-r--r-- 1 root root 354K Jan 14 12:38 file2
-rw-r--r-- 1 root root 354K Jan 14 12:38 file3
# unzip -l file.zip
Archive:  file.zip
  Length     Date   Time    Name
 --------    ----   ----    ----
     2027  01-15-14 10:30   file1
   362031  01-14-14 12:38   file2
   362031  01-14-14 12:38   file3
 --------                   -------
   726089                   3 files
# rm â€“rf file? 
# unzip file.zip
Archive:  file.zip
  inflating: file1                   
  inflating: file2                   
  inflating: file3
# ls 
-> ì •ë³´ í™•ì¸
```

### [EX2] zip ëª…ë ¹ì–´ë¥¼ í†µí•œ ë””ë ‰í† ë¦¬ ì••ì¶• + ì•„ì¹´ì´ë¹™

```bash
# cd /test 
# cp -r /etc/sysconfig /test 
# du -sh sysconfig
576K    sysconfig
# zip -r all.zip sysconfig
adding: sysconfig/ (stored 0%)
  adding: sysconfig/rhn/ (stored 0%)
  adding: sysconfig/rhn/sources (deflated 21%)
  adding: sysconfig/ip6tables-config (deflated 60%)
  adding: sysconfig/xinetd (deflated 35%)
  adding: sysconfig/system-config-securityle
..... (ì¤‘ëµ) .....
# unzip â€“l all.zip
..... (ì¤‘ëµ) .....
      391  01-15-14 10:34   sysconfig/wpa_supplicant
       20  01-15-14 10:34   sysconfig/hidd
      610  01-15-14 10:34   sysconfig/syslog
      304  01-15-14 10:34   sysconfig/system-config-users
       83  01-15-14 10:34   sysconfig/network
     1929  01-15-14 10:34   sysconfig/named
 --------                   -------
   246363                   118 files
# rm â€“rf sysconfig 
# unzip all.zip 
-> ì¶œë ¥ ë‚´ìš© ìƒëµ

# ls 
-> ì •ë³´ í™•ì¸
```

(ì‹¤ë¬´ ì˜ˆ) ì¸í„°ë„·ìƒì— ë°›ì€ íŒŒì¼ ì••ì¶• í•´ì œ ë°©ë²•

```bash
file.gz---- gzip -----> # gunzip file.gz        (# gzip -d file.gz)
file.bz2 ---- bzip2 ----> # bunzip2 file.bz2      (# bzip2 -d file.bz2)
file.tar.gz---- tar/gzip -> # tar xvzf file.tar.gz  (# tar xvf file.tar.gz)
file.tgz
file.tar.bz2---- tar/bzip2-> # tar xvjf file.tar.bz2 (# tar xvf file.tar.bz2)
file.tbz
file.zip---- zip ------> # unzip file.zip
file.jar          ---- jar ------> # jar xvf file.jar
```

[ì°¸ê³ ] ì¸í„°ë„·ìƒì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œí•˜ê¸°

```bash
# wget [ì£¼ì†Œ] > ì£¼ì†ŒëŠ” ë³´í†µ í•˜ì´í¼ë§í¬ë¥¼ ìš°í´ë¦­í•˜ì—¬ ë§í¬ ë³µì‚¬í•˜ë©´ ì‰½ê²Œ ë‹¤ìš´ë¡œë“œ í• ìˆ˜ ìˆë‹¤.
```

(ì‹¤ë¬´ ì˜ˆ) file.tar.gz

```bash
# tar xvzf file.tar.gz 
or
# gzip â€“d file.tar.gz
# tar xvf file.tar
```

# BASH SHELL

# ë‹¨ì›ëª©í‘œ

---

- ë¦¬ë‹¤ì´ë ‰ì…˜(**Redirection**)
- íŒŒì´í”„(**Pipe**)
- ë°°ì‰¬ì‰˜ ê¸°ëŠ¥(**Bash Shell Funtion**)
- ë³€ìˆ˜(**Variable**)
- ë©”íƒ€ìºë¦­í„°(**Metacharcter**)
- íˆìŠ¤í† ë¦¬(**History**)
- í™˜ê²½ íŒŒì¼(**Environmnet File**)

---

ì‰˜ì€ ëª…ë ¹í–‰ì—ì„œ ì…ë ¥ë˜ê±°ë‚˜ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì—ì„œ ì½ì–´ ë“¤ì´ëŠ” ëª…ë ¹ì–´ë“¤ì„ í•´ì„í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ìì™€ ì»¤ë„ì˜ ì¤‘ê³„(Interface) ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì‰˜ì´ ì‹œì‘ë˜ê³  ì‚¬ìš©ìê°€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ì‰˜ì€ ëª…ë ¹í–‰ì˜ êµ¬ë¬¸ì„ ë¶„ì„í•˜ê³ , ë¦¬ë‹¤ì´ë ‰ì…˜, íŒŒì´í”„, ì™€ì¼ë“œ ì¹´ë“œ, ì‘ì—… ì œì–´ë“±ì„ ì²˜ë¦¬í•˜ê³ , ëª…ë ¹ì–´ë¥¼ PATHë³€ìˆ˜ì—ì„œ ê²€ìƒ‰í•˜ê³  ì¡´ì¬í•˜ë©´ ì‹¤í–‰í•œë‹¤. ì‰˜ì˜ ì£¼ìš” ê¸°ëŠ¥ë“¤ ì¤‘ í•˜ë‚˜ëŠ” ëª…ë ¹í–‰ í”„ë¡¬í”„íŠ¸ì—ì„œ ì…ë ¥ëœ ëª…ë ¹ì–´ë“¤ì„ í•´ì„í•˜ëŠ” ëŒ€í™”í˜• ê¸°ëŠ¥ì´ë‹¤. ì‰˜ì€ ëª…ë ¹í–‰ì—ì„œ ì…ë ¥ëœ ëª…ë ¹ì–´ë“¤ì„ ë¶„ì„í•´ì„œ 'í† í°'ì´ë¼ëŠ” ë‹¨ì–´ ë‹¨ìœ„ë¡œ í•´ì„í•œë‹¤. í† í°ì€ íƒ­ì´ë‚˜ ë¹ˆì¹¸, ê°œí–‰ë¬¸ì ë“± [ê³µë°±]ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤. ì…ë ¥ëœ ëª…ë ¹ì–´ë“¤ì— ë©”íƒ€ë¬¸ìë“¤ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì ì ˆí•˜ê²Œ ì²˜ë¦¬í•œë‹¤. ì‰˜ì€ íŒŒì¼ ì…ì¶œë ¥ê³¼ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë©°, ëª…ë ¹í–‰ì—ì„œ ì…ë ¥ì´ ì •ìƒì ìœ¼ë¡œ ë¶„ì„ë˜ì—ˆì„ ê²½ìš° í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì°¾ì•„ ì‹¤í–‰í•œë‹¤.

ì‰˜ì˜ ê¸°ëŠ¥ì„ ìš”ì•½í•´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì‰˜ì€ PATH ë³€ìˆ˜ì— ì •ì˜ëœ ëª¨ë“  ë””ë ‰í† ë¦¬ë¥¼ ì°¸ê³  í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ì°¾ì•„ ì‹¤í–‰í•œë‹¤.
- ì‰˜ì€ íŒŒì´í”„, ì…/ì¶œë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜, ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ì‹±(Background Processing)ì„ ì„¤ì •í•œë‹¤.
- ì‰˜ì€ ëª…ë ¹ì–´ì˜ ëª¨ì„ì¸ ë³„ì¹­(alias), ì‰˜ í•¨ìˆ˜(Function) ë“±ì„ ì°¾ì•„ ì‹¤í–‰ì‹œí‚¨ë‹¤.
- ì‰˜ì€ TERM ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ í„°ë¯¸ë„ í™˜ê²½ì„ ì´ˆê¸°í™” í•œë‹¤.
- ì‰˜ì€ ëª…ë ¹ì–´ ìë™ ì™„ì„± ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥í•œ ëª…ë ¹ì–´ë¥¼ ê¸°ë¡í•œë‹¤.
- ì‰˜ì€ ì‚¬ìš©ì í™˜ê²½ ì •ì˜ íŒŒì¼ì„ ê°€ì§€ê³  ì‚¬ìš©ìì˜ í™˜ê²½ì„ ì´ˆê¸°í™” í•œë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ì‰˜ì˜ ê¸°ëŠ¥ì— ëŒ€í•´ì„œ ë°°ìš´ë‹¤.

â–  ì‰˜ì˜ ê¸°ëŠ¥

- **ëª…ë ¹ì–´ í•´ì„ê¸°**(Command interpreter)

- **í”„ë¡œê·¸ë¨ ì–¸ì–´**(Programable Language) ---> ì‰˜ ìŠ¤í¬ë¦½íŠ¸(ì‰˜ í”„ë¡œê·¸ë¨)

- ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection)
- íŒŒì´í”„(Pipe)
- ì‰˜ ê¸°ëŠ¥(Shell Function)
- ë³€ìˆ˜(Variable)
- íˆìŠ¤í† ë¦¬(History)
- í™˜ê²½íŒŒì¼(Environment Files)

# ë¦¬ë‹¤ì´ë ‰ì…˜

---

- **íŒŒì¼ê¸°ìˆ ì**
- **ì…ë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection stdin)**

    ```bash
     **# mail â€“s "OK:linuxXXX" root < report.txt**
    ```

- **ì¶œë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection stdout)**

    ```bash
     **# ls â€“l > ls.txt**
    ```

- **ì—ëŸ¬ ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection stderr)**

    ```bash
     **# ./backup.sh > backup.log 2>&1**
    ```

---

## ë°©í–¥ ì¬ì§€ì • (Redirection)

fd (íŒŒì¼ ê¸°ìˆ ì, File Descriptor)

ê° í”„ë¡œì„¸ìŠ¤ë¥¼ ìœ„í•œ íŒŒì¼ ê¸°ìˆ ì(File Descriptor)ê°€ ì‰˜ì— ì˜í•´ ë§Œë“¤ì–´ ì§„ë‹¤. í•œ ê°œì˜ íŒŒì¼ì„ ì—´ë©´ ê·¸ ì—° íŒŒì¼ì„ ë‚˜íƒ€ë‚´ëŠ” íŠ¹ë³„í•œ ìˆ«ìë¥¼ ì‰˜ì´ ë§Œë“¤ì–´ ë‚´ëŠ”ë° ì´ê²ƒì´ íŒŒì¼ ê¸°ìˆ ìì´ë‹¤. ì´ëŸ° ë²ˆí˜¸ë“¤ ì¤‘ **ë¯¸ë¦¬ ì˜ˆì•½ ë˜ì–´ì ¸ì„œ íŒŒì¼ì„ ì—´ ë•Œ ì£¼ì–´ì§€ì§€ ì•ŠëŠ” ë²ˆí˜¸ê°€ ìˆëŠ”ë°** ì•„ë˜ í‘œì™€ ê°™ë‹¤.

```bash
íŒŒì¼ ê¸°ìˆ ì(File Description)ë€?
	í”„ë¡œì„¸ìŠ¤ê°€ íŒŒì¼ì„ ì—´ë•Œ í• ë‹¹ë˜ëŠ” ë²ˆí˜¸
	í”„ë¡œì„¸ìŠ¤ì˜ ì—´ë¦° íŒŒì¼ì„ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ ë²ˆí˜¸

	[ì°¸ê³ ] C ì–¸ì–´
	# vi test.c
	------------------------
	int fd;
	fd=open(.....);
	------------------------
```

## [1] ì˜ˆì•½ë˜ì–´ì§„ íŒŒì¼ ê¸°ìˆ ì(File Descriptor)

íŒŒì¼ê¸°ìˆ ì : ì¶•ì•½ì˜ë¯¸ :ì„¤ ëª…

```bash
0 : stdin : Standard Input, í‘œì¤€ì…ë ¥, íŠ¹ë³„íˆ ì…ë ¥ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° í‚¤ë³´ë“œì—ì„œ ì…ë ¥ì„ ë°›ëŠ”ë‹¤.
1 : stdout : Standard Ouput, í‘œì¤€ì¶œë ¥, íŠ¹ë³„íˆ ì¶œë ¥ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° ì •ìƒì ì¸ ì¶œë ¥ ê²°ê³¼ë¥¼ ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥ëœë‹¤.
2 : stderr : Standard Error, í‘œì¤€ì—ëŸ¬, íŠ¹ë³„íˆ ì¶œë ¥ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° ì—ëŸ¬ì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥ëœë‹¤.
```

íŒŒì¼ ê¸°ìˆ ìì— ëŒ€í•œ ì •ë³´ëŠ” /proc ë””ë ‰í† ë¦¬ í•˜ìœ„ì— ì¡´ì¬í•˜ëŠ” ê° í”„ë¡œì„¸ìŠ¤ì˜ PID(Process ID) ë²ˆí˜¸ ë””ë ‰í† ë¦¬ í•˜ìœ„ì— fd ë””ë ‰í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆê³  ë˜í•œ /dev/fd ë””ë ‰í† ë¦¬ í•˜ìœ„ì—ì„œë„ íŒŒì¼ ê¸°ìˆ ìì— ë²ˆí˜¸ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë²ˆí˜¸ë“¤ì€ ì—´ì–´ ë³¼ ìˆ˜ëŠ” ì—†ëŠ” íŒŒì¼ë“¤ì´ë‹¤. ë‹¤ìŒì€ íŒŒì¼ê¸°ìˆ ìì— ëŒ€í•œ í™•ì¸ì„ í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ì´ë‹¤. ê°€ìƒí„°ë¯¸ë„1ì—ì„œ /etc/passwd íŒŒì¼ì„ ì—´ê³  ë‹¤ë¥¸ ê°€ìƒí„°ë¯¸ë„2ì—ì„œ í˜„ì¬ ë™ì‘ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•œ í›„ í”„ë¡œì„¸ìŠ¤ê°€ ì—´ê³  ìˆëŠ” íŒŒì¼ì„ í™•ì¸í•´ ë³´ë©´ ìƒˆë¡œìš´ íŒŒì¼ ê¸°ìˆ ì(File Descriptor)ê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•œ ê²ƒì´ë‹¤.

### [FD í™•ì¸]

[TERM1]

```bash
# vi /etc/passwd
```

[TERM2]

```bash
# ps -ef | grep vi    /* viê°€ ì‹¤í–‰ëœ PIDë²ˆí˜¸ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤ */
root      2077  2045  0 02:26 pts/10   00:00:00 vi /etc/passwd
root      2081 32326  0 02:26 pts/8    00:00:00 grep vi
# cd /proc/2077/fd/* ë‹¨, í”„ë¡œì„¸ìŠ¤ì˜ ë²ˆí˜¸(2077)ì€ ì‹œìŠ¤í…œ ë§ˆë‹¤ ë²ˆí˜¸ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. */
# ls -l/* íŒŒì¼ ê¸°ìˆ ì 4ë²ˆì´ í• ë‹¹ë˜ì–´ ì—´ë¦° ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. */
í•©ê³„ 0
lrwx------ 1 root root 64  3ì›” 17 02:27 0 -> /dev/pts/10
lrwx------ 1 root root 64  3ì›” 17 02:27 1 -> /dev/pts/10
lrwx------ 1 root root 64  3ì›” 17 02:26 2 -> /dev/pts/10
lrwx------ 1 root root 64  3ì›” 17 02:27 4 -> /etc/.passwd.swp
# cd
```

[TERM1]

```bash
# vi /etc/passwd/* vi í¸ì§‘ê¸° ì‹¤í–‰ ë‹«ê¸° */
:q
```

[TERM2]

```bash
# cd /proc/2077/fd/* ì‹¤í–‰ì¤‘ì¸ vi í¸ì§‘ê¸°ì˜ í”„ë¡œì„¸ìŠ¤ ë²ˆí˜¸ */
-bash: cd: /proc/2077/fd: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ê°€ ì—†ìŒ
```

### [EX] proc ë””ë ‰í† ë¦¬ì— í”„ë¡œì„¸ìŠ¤ ë²ˆí˜¸ ìƒì„±ì—¬ë¶€ í™•ì¸

[TERM2]

```bash
# cd /proc
# ls > /test/proc_`date +%H%M`.txt
```

[TERM1]

```bash
# vi /etc/passwd
```

[TERM2]

```bash
# cd /proc
# ps -ef | grep vi
root     12926  8360  0 16:26 pts/4    00:00:00 vi /etc/passwd
root     12928 12761  0 16:26 pts/1    00:00:00 grep vi
# grep 12926 /test/proc_1415.txt
ì¶œë ¥ê°’ ì—†ìŒ
# ls > /test/proc_`date +%H%M`.txt
# ls /test
proc_1415.txtproc_1418.txt
# grep 12926 /test/proc_1418.txt
12926
```

[TERM1]

```bash
# vi /etc/passwd
:q
```

[TERM2]

```bash
# ls > /test/proc_`date +%H%M`.txt
# ls /test
proc_1415.txtproc_1418.txtproc_1422.txt
# grep 12926 /test/proc_1422.txt
ì¶œë ¥ê°’ ì—†ìŒ
```

## [2]í‘œì¤€ ì…ë ¥, í‘œì¤€ ì¶œë ¥

ì‰˜ì—ì„œëŠ” ëª…ë ¹ì–´ ì…ë ¥ì„ íŠ¹ë³„í•œ ì§€ì •ì´ ì—†ëŠ” ì´ìƒ í‚¤ë³´ë“œì—ì„œ ì…ë ¥ì„ ë°›ê²Œ ëœë‹¤.

ì…, ì¶œ (í‚¤ë³´ë“œ, ëª¨ë‹ˆí„°)

ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹¬ë³¼ : > < >> <<

í‘œì¤€ ì…ë ¥ - í‚¤ë³´ë“œ, ì½ê¸° ì „ìš©

í‘œì¤€ ì¶œë ¥ - í„°ë¯¸ë„, ì“°ê¸° ì „ìš©

í‘œì¤€ ì—ëŸ¬ - í„°ë¯¸ë„, ì“°ê¸° ì „ìš©

```bash
cat file1
file1 ë°ì´í„° -> í‘œì¤€ì¶œë ¥
cat < file1
file1 ë°ì´í„° > í‘œì¤€ì…ë ¥ > í‘œì¤€ ì¶œë ¥
mail -u team01 -s testmail < /etc/passwd
```

ì‰˜ì—ì„œëŠ” ëª…ë ¹ì–´ ì…ë ¥ì„ íŠ¹ë³„í•œ ì§€ì •ì´ ì—†ëŠ” í•œ í‚¤ë³´ë“œ(Keyboad)ì—ì„œ ë°›ëŠ”ë‹¤. ê·¸ë¦¬ê³  ëª…ë ¹ì–´ì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ëª¨ë‹ˆí„°ì— ì¶œë ¥í•´ì¤€ë‹¤. ì´ëŸ¬í•œ ëª…ë ¹ì–´ì˜ ì¶œë ¥ ê²°ê³¼ë‚˜ ì…/ì¶œë ¥ì„ ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹¬ë³¼(Redirection Symbol)ì„ ì‚¬ìš©í•˜ì—¬ ë°©í–¥ì„ ì¬ì§€ì • í•  ìˆ˜ ìˆë‹¤. 
ë°©í–¥ì„ ì¬ ì§€ì •í•¨ìœ¼ë¡œ ì¸í•´ ê¸°ë³¸ ì¶œë ¥ ë°©í–¥ì´ ëª¨ë‹ˆí„°ì¸ ê²ƒì„ fileë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.

```bash
í‘œì¤€ì…ë ¥(0, stdin) -----> SHELL(bash) -----> í‘œì¤€ì¶œë ¥(1, stdout)
(EX: keyboard)              |               (EX: Screen)
												    |
												    V
									       í‘œì¤€ì—ëŸ¬(2, stderr)
									       (EX: Screen)
```

```bash
# ls /var /nodir
ls: /nodir: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ê°€ ì—†ìŒ
/var:
account  db     games  local  mail   opt       run    tux
cache    empty  gdm    lock   named  preserve  spool  www
crash    ftp    lib    log    nis    racoon    tmp    yp
# cat
hello<Enter>       /* í‘œì¤€ ì…ë ¥(stdin) */
hello                /* í‘œì¤€ ì¶œë ¥(stdout) */
Linux<Enter>
Linux
<Ctrl + D>
# cat  <  /etc/passwd 
   
# cat  >  testfile
hello 
Linux 
<Ctrl + D>
--------------------------
# cat testfile
hello 
Linux
```

## [3] ì…ë ¥ ì¬ì§€ì •(ì…ë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜, Redirection stdin)

ì…ë ¥ ì¬ì§€ì •ì€ í‘œì¤€ì…ë ¥(Stdin)ì—ì„œ ì…ë ¥ì„ ë°›ì§€ ì•Šê³ , ë‹¤ë¥¸ìª½ì—ì„œ ì…ë ¥ì„ ë°›ëŠ” ê²ƒì„ ì…ë ¥ ì¬ì§€ì • (Redirection stdin)ì´ë¼ê³  í•œë‹¤. ì›ë˜ íŠ¹ë³„í•œ ì§€ì •ì´ ì—†ë‹¤ë©´, í‚¤ë³´ë“œì—ì„œ ì…ë ¥ì„ ë°›ì§€ë§Œ ë‹¤ë¥¸ìª½ ë°©í–¥ì—ì„œ ì…ë ¥ì„ ë°›ëŠ” ê²ƒì„ ë§í•œë‹¤. íŒŒì¼ ê¸°ìˆ ì 0ë²ˆì€ ìƒëµ ê°€ëŠ¥í•˜ë‹¤.

```bash
[í˜•ì‹]
CMD   <  filename (í‘œì¤€ì…ë ¥)
CMD  0<  filename(í‘œì¤€ì…ë ¥ - íŒŒì¼ ê¸°ìˆ ì 0ë²ˆ)  /*ìƒëµ ê°€ëŠ¥*/
```

### [EX1] ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹¤ìŠµ

```bash
# cat < /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
.....
# cat 0< /etc/shadow
root:$1$GUT1Ey/2$ltYR1Bjp6er6kImf1/4DV1:14634:0:99999:7:::
bin:*:14634:0:99999:7:::
daemon:*:14634:0:99999:7:::
....
# mail user01       /* # mail user01@hanmail.net */
Subject: Test Mail
Hello Linux
CentOS 5.4 User
Cc: <ENTER>
```

```bash
# su - user01  (# mail -u user01)
$ mail 
> #            (# is number)
> q 
$ exit
```

```bash
# mail -s "Test Mail" user01 < /etc/hosts 
# mail -s "linuxXXX : OK" admin@paran.com < report.txt 

# wall     (# wall "System Migration Works with /dev/sda1")
"System Migration Works with /dev/sda1"
<CTRL + D>
# wall <  /etc/hosts
```

## [4] ì¶œë ¥ ì¬ì§€ì •(ì¶œë ¥ ë¦¬ë‹¤ì´ë ‰ì…˜, Redirection stdout)

ì¶œë ¥ ì¬ì§€ì •ì€ ì •ìƒì •ì¸ ì¶œë ¥ ê²°ê³¼ë¥¼ í‘œì¤€ì¶œë ¥(ëª¨ë‹ˆí„°)ìœ¼ë¡œ ì¶œë ¥ì„ í•˜ì§€ ì•Šê³ , ë‹¤ë¥¸ ìª½ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ì¶œë ¥ ì¬ì§€ì •(Redirection stdout)ì´ë¼ê³  í•œë‹¤. ì›ë˜ íŠ¹ë³„í•œ ì§€ì •ì´ ì—†ë‹¤ë©´, ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥ë˜ì§€ë§Œ ë‹¤ë¥¸ ìª½ ë°©í–¥ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. íŒŒì¼ ê¸°ìˆ ì 1ë²ˆì€ ìƒëµ ê°€ëŠ¥í•˜ë‹¤.

[ëª…ë ¹ì–´ í˜•ì‹]

```bash
CMD   >  filename /* í‘œì¤€ì¶œë ¥, ë®ì–´ì“°ê¸° ê¸°ëŠ¥ */
CMD  1>  filename /* í‘œì¤€ì¶œë ¥, ë®ì–´ì“°ê¸° ê¸°ëŠ¥ */
CMD   >> filename/* í‘œì¤€ì¶œë ¥, ì´ì–´ì“°ê¸° ê¸°ëŠ¥ */
CMD  1>> filename/* í‘œì¤€ì¶œë ¥, ì´ì–´ì“°ê¸° ê¸°ëŠ¥ */
```

### [EX1] ë¦¬ë‹¤ì´ë ‰ì…˜(Redirection stdout) ì‹¤ìŠµ

```bash
# cd 
# ls -l
drwxr-xr-x 2 root root  4096  3ì›” 15 15:55 Desktop
-rw------- 1 root root  4210  1ì›” 25 22:54 anaconda-ks.cfg
-rw-r--r-- 1 root root 54631  1ì›” 25 22:54 install.log
-rw-r--r-- 1 root root  9641  1ì›” 25 22:50 install.log.syslog
# ls -l > lsfile     (# ls -l 1> lsfile)
# cat lsfile
drwxr-xr-x 2 root root  4096  3ì›” 15 15:55 Desktop
-rw------- 1 root root  4210  1ì›” 25 22:54 anaconda-ks.cfg
-rw-r--r-- 1 root root 54631  1ì›” 25 22:54 install.log
-rw-r--r-- 1 root root  9641  1ì›” 25 22:50 install.log.syslog
-rw-r--r-- 1 root root     0  3ì›” 17 02:32 lsfile
```

### [EX2] > , >> ì°¨ì´ì 

```bash
>   ë®ì–´ì“°ê¸°
>>  ì´ì–´ì“°ê¸°
1>  
1>> 
```

```bash
# echo 1111
1111
# echo 1111 > filename1 
# cat filename1
1111
# echo 2222 > filename1 /* ë®ì–´ì“°ê¸° ê¸°ëŠ¥ */
# cat filename1
2222
# echo 1111 >> filename1 /* ì´ì–´ì“°ê¸° ê¸°ëŠ¥ */
# cat filename1
2222
1111
```

## [2] ì—ëŸ¬ ì¬ì§€ì •(ì—ëŸ¬ ë¦¬ë‹¤ì´ë ‰ì…˜, Redirection stderr) â˜…â˜…â˜…

ì—ëŸ¬ ì¬ì§€ì •ì€ í‘œì¤€ ì—ëŸ¬ë¡œ ì¶œë ¥í•˜ì§€ ì•Šê³ , ë‹¤ë¥¸ ìª½ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ì—ëŸ¬ ì¬ì§€ì •(Redirection stderr)ì´ë¼ê³  í•œë‹¤. ì›ë˜ íŠ¹ë³„í•œ ì§€ì •ì´ ì—†ë‹¤ë©´, ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥ì„ í•˜ì§€ë§Œ ë‹¤ë¥¸ ìª½ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. íŒŒì¼ ê¸°ìˆ ì 2ë²ˆì€ ìƒëµ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë°©í–¥ ì¬ì§€ì •ìë¥¼ 1ë²ˆê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ 1ë²ˆ íŒŒì¼ ê¸°ìˆ ìì™€ êµ¬ë³„í•˜ê¸° ìœ„í•´ ìƒëµ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

[ëª…ë ¹ì–´ í˜•ì‹]

```bash
CMD  2>  filename/* í‘œì¤€ì—ëŸ¬ì¶œë ¥ */
CMD  2>> filename /* í‘œì¤€ì—ëŸ¬ì¶œë ¥ */
```

### [EX] í‘œì¤€ ì—ëŸ¬ ì‹¤ìŠµ

```bash
# cd /test ; rm -rf /test/* 
# touch file1 file2 file3 

# ls -l /test /nodir 
--------------------------------------
ì •ìƒì¶œë ¥
ì—ëŸ¬ì¶œë ¥
--------------------------------------

# ls -l /test /nodir > dirfilename1 
--------------------------------------
ì •ìƒì¶œë ¥
ì—ëŸ¬ì¶œë ¥
--------------------------------------
# cat dirfilename1
-rw-r--r--  1 root root    0  3ì›” 17 02:34 dirfilename1
-rw-r--r--  1 root root    0  3ì›” 17 02:33 file1
-rw-r--r--  1 root root    0  3ì›” 17 02:33 file2
-rw-r--r--  1 root root    0  3ì›” 17 02:33 file3
# ls -l /test /nodir 2> dirfilename2 
--------------------------------------
ì •ìƒì¶œë ¥
ì—ëŸ¬ì¶œë ¥
--------------------------------------

# cat dirfilename2
ls: /nodir: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ê°€ ì—†ìŒ
# ls /test /nodir > dirfilename1 2> dirfilename2 
--------------------------------------
ì •ìƒì¶œë ¥
ì—ëŸ¬ì¶œë ¥
--------------------------------------

# cat dirfilename1 
# cat dirfilename2 

# ls /test /nodir > dirfilename 2>&1 
# cat dirfilename
```

(ì‹¤ë¬´ ì˜ˆ) script.sh(ìŠ¤í¬ë¦½íŠ¸) ë¡œê·¸ íŒŒì¼ ìƒì„±

```bash
(X) # ./script.sh > file.log 
(0) # ./script.sh > file.log 2>&1
```

```bash
2>&1
í‘œì¤€ ì—ëŸ¬ë¥¼ í‘œì¤€ ì¶œë ¥ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ í•´ë¼
2 í‘œì¤€ ì—ëŸ¬
> ë¦¬ë‹¤ë¦¬ì—‘ì…˜ ê¸°í˜¸
& 
1 í‘œì¤€ ì¶œë ¥
```

(ì‹¤ë¬´ ì˜ˆ) ./configure â€”prefix=/usr/local/apache2

```bash
# ./configure --perfix=/usr/local/apache2 2> file.log 
# ./configure --perfix=/usr/local/apache2 > file.log 2>&1
```

(ì‹¤ë¬´ ì˜ˆ) ì¼ë°˜ ì‚¬ìš©ì(EX: oracle, wasuser)ê°€ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°

```bash
$ find / -name core â€“type f 
$ find / -name core â€“type f 2>/dev/null
```

- ì •ë¦¬

# íŒŒì´í”„(PIPE)

---

- **CMD | CMD**

    ```bash
    **# ps â€“ ef | more
    # ps â€“ef | grep systemd
    # CMD > file.log (# CMD >> file.log )
    # CMD | tee file.log (# CMD | tee â€“a file.log)**
    ```

---

## íŒŒì´í”„

**íŒŒì´í”„(Pipe)ë€?** ì•ì— ì‹¤í–‰í•œ ëª…ë ¹ì–´ì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ë’¤ì— ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ì˜ **ì…ë ¥ ê°’**ìœ¼ë¡œ ë„£ì–´ ì¤€ë‹¤. ì•ì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ë’¤ì— ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ì˜ ì…ë ¥ ê²°ê³¼ë¡œ ë³´ë‚´ì¤Œìœ¼ë¡œ ì¸í•´ íŒŒì´í”„(|)ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ëª…ë ¹ì„ ë™ì‹œì— ì—°ê²°í•˜ì—¬ ì‚¬ìš© í•  ìˆ˜ê°€ ìˆë‹¤.

ls -al ëª…ë ¹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ëª¨ë“  íŒŒì¼ì„ ë³´ì—¬ì£¼ë¯€ë¡œ í•œ í™”ë©´ì„ ë„˜ëŠ” ë§ì€ íŒŒì¼ì„ ë³´ì—¬ ì£¼ê²Œ ë  ë•Œ "ls -al | more" ë¥¼ ì“°ê²Œ ë˜ë©´ ls ëª…ë ¹ì— ëŒ€í•œ ê²°ê³¼ë¥¼ more ëª…ë ¹ì„ í†µí•´ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0c4286c9-5aec-44cf-90a1-f86577886fed/_2020-03-02__7.44.54.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0c4286c9-5aec-44cf-90a1-f86577886fed/_2020-03-02__7.44.54.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8b2df896-3b56-4669-bc0e-630f86475b35/KakaoTalk_Photo_2020-06-30-16-15-12.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8b2df896-3b56-4669-bc0e-630f86475b35/KakaoTalk_Photo_2020-06-30-16-15-12.png)

ì²« ë²ˆì§¸ CMDë¡œ ì¶œë ¥ëœ ë‚´ìš©ì„ í™”ë©´ì— ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ì§€ ì•Šê³  íŒŒì´í”„ ë²„í¼ì— dataë¥¼ ì €ì¥ í•´ ë‘ì—ˆë‹¤ê°€ ë²„í¼ì— ì €ì¥ëœ ê²°ê³¼ ê°’ì„ ê°€ì§€ê³  ë’¤ì— ìˆëŠ” CMDì˜ ì…ë ¥ ê°’ìœ¼ë¡œ ë„˜ê²¨ ë’¤ì— ìˆëŠ” ëª…ë ¹ì–´ê°€ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•´ ì£¼ê²Œ ëœë‹¤.

[ëª…ë ¹ì–´ í˜•ì‹]

```bash
# CMD | CMD
```

### [EX1] '|'(Pipe) ì‹¤ìŠµ

```bash
# ps -ef           /* í”„ë¡œì„¸ìŠ¤ì˜ ëª¨ë“  ì •ë³´ ì¶œë ¥ */ 
# ps -ef | more    /* CMD | more : í•œ í˜ì´ì§€ê°€ ë„˜ëŠ” í˜ì´ì§€ ì¶œë ¥ ë°©ë²• ì§€ì • */
```

```bash
# ps -ef | grep sshd    /* í”„ë¡œì„¸ìŠ¤ ê²°ê³¼ì¤‘ì—ì„œ sshd íŒ¨í„´ ê²€ìƒ‰ */
```

```bash
# ls -al / | sort -r | more /* CMD | sortë¥¼ í•˜ì—¬ bufferì— ë„£ê³  buffer ë‚´ìš©ì„ í•œ í™”ë©´ ë‹¨ìœ„ë¡œ ì¶œë ¥ */
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd838b4f-38e5-43a8-819f-de342048cc1b/_2020-03-02__7.46.05.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd838b4f-38e5-43a8-819f-de342048cc1b/_2020-03-02__7.46.05.png)

ls ëª…ë ¹ì„ í†µí•´ ì¶œë ¥ëœ ê²°ê³¼ë¥¼ sort ëª…ë ¹ìœ¼ë¡œ ì •ë ¬í•˜ê³  moreëª…ë ¹ì„ í†µí•´ ë³´ê¸° ì‰½ê²Œ ì¶œë ¥í•˜ëŠ” ì„¸ ê°€ì§€ ëª…ë ¹ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

```bash
[ì°¸ê³ ] ëª…ë ¹ì–´ ë¹„êµ
--------------------------+---------------------------
# ps -ef > file.log       | # ps -ef | grep inetd 
# grep inetd file.log     |
--------------------------+---------------------------
```

[ì°¸ê³ ] Pipeì™€ í•¨ê»˜ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´

- teeë€? íŒŒì´í”„ ì¤‘ê°„ì— ì‚¬ìš©í•˜ì—¬ ì…ë ¥ì„ ì¶œë ¥ìœ¼ë¡œ ë³´ë‚´ê¸° ì „ì— íŒŒì¼ë¡œ ê¸°ë¡

```bash
# man tee
ê°œìš”
       tee  [-ai] [--append] [--ignore-interrupts] [--help] [--version] [í™”ì¼...]

ì„¤ëª…
       ì´ ë§¨í˜ì´ì§€ëŠ” GNU ë²„ì „ì˜ tee ë¥¼ ë‹¤ë£¬ë‹¤.  tee ëª…ë ¹ì€ í‘œì¤€ì…ë ¥ìœ¼ë¡œë¶€í„°ì˜  ì…
       ë ¥ì„ í‘œì¤€ì¶œë ¥ ë˜ëŠ” ì¸ìˆ˜ë¡œ ì£¼ì–´ì§„ í™”ì¼ì— ë³µì‚¬í•œë‹¤.
1
       ì”Œ ì—¬ì§ˆ í™”ì¼ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìƒì„±ëœë‹¤. ë§Œì•½ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ -a ì˜µì…˜ì„ ì‚¬
       ìš©í•˜ì§€ ì•ŠëŠ” í•œ ì´ì „ì˜ ìë£ŒëŠ” ëª¨ë‘ ì§€ì›Œì§„ë‹¤.

   ì˜µì…˜
       -a, --append
              ë®ì–´ì“°ì§€ ì•Šê³  ì£¼ì–´ì§„ í™”ì¼ì— í‘œì¤€ì…ë ¥ì„ ì¶”ê°€í•œë‹¤.
```

### [EX2] ì¶œë ¥ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ì €ì¥

```bash
	# CMD > file.log 
	# CMD | tee file.log 
	
# cal 2002 > file.log 
# cal 2002 | tee file2.log
```

### [EX3] ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ í•˜ë©´ì„œ íŒŒì¼ë¡œ ë‚´ìš©ì„ ì €ì¥

```bash
# while true
> do 
> echo
> echo "====================`date`======================"
> ps -ef | head -1
> ps -ef | grep testfile
> sleep 2
> done
```

```bash
# while true 
> do
> echo
> echo "===========`date`========="
> ps -ef | grep testfile | tee -a file.log    (> w root >> file.log)  
> sleep 2
> done
```

### [EX4] ë‹¤ë¥¸ í„°ë¯¸ë„ ì°½ì—ì„œ ì…ë ¥í•˜ëŠ” ë‚´ìš©ì´ ê·¸ëŒ€ë¡œ ì§€ì •í•œ í„°ë¯¸ë„ ì°½ìœ¼ë¡œ ì¶œë ¥ ë˜ë„ë¡ ì„¤ì •

```bash
[ì°¸ê³ ] script CMD
# cd /test ; rm â€“rf /test/* 
# script â€“a file.log 
# ls 
# date 
# cal 
# exit 
# cat file.log
```

[TERM1] ì²«ë²ˆì§¸ ìœˆë„ìš°

```bash
# tty
/dev/pts/1
--> TERM3 ì—ì„œ ì…ë ¥í•˜ëŠ” ë‚´ìš©ê³¼ ì¶œë ¥í•˜ëŠ” ë‚´ìš©ì´ ê·¸ëŒ€ë¡œ í™”ë©´ì— ì¶œë ¥ ëœë‹¤.
```

[TERM2] ë‘ë²ˆì§¸ ìœˆë„ìš°

```bash
# tty
/dev/pts/2
```

[TERM3] ì„¸ë²ˆì§¸ ìœˆë„ìš°

```bash
# script -a /dev/null | tee /dev/pts/1 | tee /dev/pts/2 
# ls 
# date 
# cal 
# exit
```

ë¸”ë¡œê·¸ ì°¸ì¡°!

[https://mug896.github.io/bash-shell/quotes.html](https://mug896.github.io/bash-shell/quotes.html)

# ë°°ì‰¬ì‰˜ ê¸°ëŠ¥(Bash Shell Funtion)

---

- **bash shell function**

    ```bash
    # set â€“o
    # set â€“o vi
    # set +o vi
    # set â€“o ignoreeof
    # set â€“o noclobber
    ```

---

## bash ì‰˜ì˜ ê¸°ëŠ¥(bash Shell Function)

```bash
# set -o/* ì‰˜ ìì²´ì˜ ê¸°ëŠ¥ ì „ì²´ ëª©ë¡ í™•ì¸ */
# set -o vi /* ì‰˜ ìì²´ì˜ ê¸°ëŠ¥ ì¤‘ vi ê¸°ëŠ¥ì„ ON */
# set +o vi /* ì‰˜ ìì²´ì˜ ê¸°ëŠ¥ ì¤‘ vi ê¸°ëŠ¥ì„ OFF */
```

bash ì‰˜ì˜ ê¸°ëŠ¥

```bash
allexport            off
braceexpand          on
emacs                on/* ê¸°ë³¸ì ì¸ í¸ì§‘ê¸° ì„ ì–¸ */
errexit              off
errtrace             off
functrace            off
hashall              on
histexpand           on
history              on
ignoreeof            off/* ë¡œê·¸ì•„ì›ƒ ë°©ì§€ ê¸°ëŠ¥ ì„ ì–¸ */
interactive-comments on
keyword              off
monitor              on
noclobber            off/* ë®ì–´ì“°ê¸° ë°©ì§€ ê¸°ëŠ¥ ì„ ì–¸ */
noexec               off
noglob               off
nolog                off
notify               off
nounset              off
onecmd               off
physical             off
pipefail             off
posix                off
privileged           off
verbose              off
vi                   off/* ê¸°ë³¸ì ì¸ í¸ì§‘ê¸° ì„ ì–¸ */
xtrace               off
```

## [1] ë¡œê·¸ì•„ì›ƒ <Ctrl+D> ë°©ì§€í•˜ê¸° (ignoreeof)

ì‰˜ í”„ë¡¬í”„íŠ¸ ìƒíƒœì—ì„œ <Ctrl+D>ì˜ ì—­í• ì€ íŒŒì¼ì˜ ëì„ ì•Œë ¤ì£¼ê±°ë‚˜ í˜„ì¬ ì‰˜í”„ë¡¬í”„íŠ¸ë¥¼ ì¢…ë£Œí•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆë‹¤. ì˜ëª»í•˜ì—¬ <Ctrl+D>ë¥¼ ëˆ„ë¥´ê²Œ ë˜ë©´ ê´€ë¦¬ìê°€ ì‘ì—…í•˜ë˜ ì¤‘ ì‰˜í”„ë¡¬í”„íŠ¸ê°€ ì¢…ë£Œë˜ë©´ì„œ ë¡œê·¸ì•„ì›ƒì´ ë˜ì–´ ë²„ë¦°ë‹¤. ê´€ë¦¬ìê°€ ì‘ì—… ì¤‘ì— <Ctrl+D>ë¥¼ ëˆŒëŸ¬ ë¡œê·¸ì•„ì›ƒì´ ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ ì‰˜ì˜ ê¸°ëŠ¥ì¤‘ ignoreeofë¥¼ ì´ìš©í•˜ì—¬ ë¡œê·¸ì•„ì›ƒ ë°©ì§€ ê¸°ëŠ¥ì„ ì„¤ì • í•˜ë„ë¡ í•œë‹¤. <Ctrl+D>ë¥¼ ì´ìš©í•œ ë¡œê·¸ì•„ì›ƒ ë°©ì§€ ê¸°ëŠ¥ì´ ì„¤ì •ë˜ë©´ exitë¥¼ ì´ìš©í•˜ì—¬ ë¡œê·¸ì•„ì›ƒì„ í•˜ë„ë¡ í•œë‹¤.

```bash
set -o ignoreeof
```

EOF(End Of File)ì˜ ì˜ë¯¸ë¥¼ ê°–ëŠ” í‚¤ <CTRL + D>

â‘  íŒŒì¼ì˜ ë(EOF)
â‘¡ **í˜„ì¬ ì‰˜(í”„ë¡œê·¸ë¨) ì¢…ë£Œ**

### [EX1] ë¡œê·¸ì•„ì›ƒ ë°©ì§€ ê¸°ëŠ¥

```bash
# telnet 192.168.10.252
Trying 192.168.10.252...
Connected to 192.168.10.252.
Escape character is '^]'.

Kernel 3.10.0-1062.el7.x86_64 on an x86_64
server2 login: root
Password: 
Last login: Mon Mar 16 15:43:52 from 192.168.10.200
[root@server2 ~]#
[root@server2 ~]# hostname 
[root@server2 ~]# id 
[root@server2 ~]# ps 
[root@server2 ~]# <CTRL + D> 
[root@server2 ~]# bash
[root@server2 ~]# set -o | grep ignoreeof
ignoreeof       off
[root@server2 ~]# set -o ignoreeof /* ignoreeof ê¸°ëŠ¥ on */
[root@server2 ~]# <CTRL + D> Use "exit" to leave the shell. /* ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ */
[root@server2 ~]# exit 
#
```

[ì°¸ê³ ] ì‚¬ìš©ì ê³„ì •ì˜ ìë™ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥

```bash
ìœˆë„ìš°ì—ì„œ ì‚¬ìš©ìê°€ ì•„ë¬´ëŸ° ë™ì‘ì„ í•˜ì§€ ì•Šìœ¼ë©´ ìë™ ë¡œê·¸ì•„ì›ƒì´ ë˜ëŠ” ê¸°ëŠ¥ì´ ìˆë“¯ì´ Linuxì—ì„œë„ ì‚¬ìš©ìê°€ ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ì•„ë¬´ëŸ° ë™ì‘ì„ í•˜ì§€ ì•Šìœ¼ë©´ ìë™ ë¡œê·¸ì•„ì›ƒì´ ë˜ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.

â–¶ /etc/profileã€€í™˜ê²½ íŒŒì¼ : ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì ìš©ê°€ëŠ¥
# vi /etc/profile
...
 HOSTNAME='/bin/hostname'
 ...
 TMOUT=3600          /* ìë™ ë¡œê·¸ì•„ì›ƒ ë˜ëŠ” ì‹œê°„ : ì´ˆë‹¨ìœ„ë¡œ ì§€ì • */
 ...
â–¶ .bash_profile í™˜ê²½íŒŒì¼ : ì‚¬ìš©ìë³„ í™ˆ ë””ë ‰í† ë¦¬ì— ìˆëŠ” íŒŒì¼ì„ ë³€ê²½
# vi ~/.bash_profile
...
TMOUT=60             <-- ë¼ì¸ ì¶”ê°€
export PATH TMOUT    /* ì§€ì—­ë³€ìˆ˜ë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ì ìš© */
...
```

## [2] ë®ì–´ì“°ê¸° ë°©ì§€ê¸°ëŠ¥ (noclobber)

```bash
ë°©í–¥ ì¬ ì§€ì •ì(Redirection Stdout, '>')ë¥¼ ì´ìš©í•˜ë©´ ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ì´ë¦„ì— ìƒˆë¡œìš´ ë‚´ìš©ìœ¼ë¡œ ë®ì–´ì“°ê¸°ê°€ ê°€ëŠ¥ í–ˆì—ˆë‹¤. ì¤‘ìš”í•œ íŒŒì¼ì˜ ê²½ìš° íŒŒì¼ì˜ ì´ë¦„ì´ ì¡´ì¬í•˜ëŠ”ì§€ ëª¨ë¥¸ ì±„ ë®ì–´ì“°ê¸°ë¥¼ í•  ìš°ë ¤ê°€ ìˆê¸° ë•Œë¬¸ì— ë®ì–´ì“°ê¸° ë°©ì§€ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ì¤‘ìš”í•œ íŒŒì¼ë“±ì— ë®ì–´ì“°ê¸°ê°€ ë˜ì§€ ì•Šë„ë¡ íŒŒì¼ì˜ ë‚´ìš©ì„ ë³´í˜¸ í•  ìˆ˜ê°€ ìˆë‹¤.
set â€“o noclobber
```

```bash
# set -o | grep noclobber
noclobber       off
# set -o noclobber /* ë®ì–´ì“°ê¸° ë°©ì§€ ê¸°ëŠ¥ on */
# set -o | grep noclobber
noclobber       on
# echo 1111 > test1 
# echo 2222 > test1 /* ë®ì–´ì“°ê¸°ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ */
-bash: test1: cannot overwrite existing file
# cat test1
1111
# set +o noclobber/* ë®ì–´ì“°ê¸° ë°©ì§€ ê¸°ëŠ¥ off */
# echo 2222 > test1 
# cat test1
2222
# set -o noclobber/* ë®ì–´ì“°ê¸° ë°©ì§€ ê¸°ëŠ¥ on */
# echo 3333 >| test1 /* ë®ì–´ì“°ê¸° ë°©ì§€ ë¬´ì‹œ */
3333
```

## <Tab> íŒŒì¼ì´ë¦„ ìë™ ì™„ì„± ê¸°ëŠ¥

ë””ë ‰í† ë¦¬ì— ìˆëŠ” íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ì²« ë²ˆì§¸ ë¬¸ìë§Œ ì…ë ¥ í›„ Tabí‚¤ë¥¼ ëˆ„ë¥´ë©´ ì²« ê¸€ìë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ë‚˜ë¨¸ì§€ ê¸€ìê°€ ìë™ìœ¼ë¡œ ì™„ì„±ëœë‹¤. ë‹¨, ì²« ë¬¸ìê°€ ê°™ì€ ë””ë ‰í† ë¦¬ë‚˜ íŒŒì¼ì´ ìˆëŠ” ê²½ìš° Tabí‚¤ í•œë²ˆë§Œ ëˆ„ë¥´ë©´ ì•„ë¬´ ë³€í™”ë„ ì—†ì§€ë§Œ Tabí‚¤ ë‘ ë²ˆ ì—°ì†ìœ¼ë¡œ ëˆ„ë¥´ë©´ ë™ì¼í•˜ê²Œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ë””ë ‰í† ë¦¬ë‚˜ íŒŒì¼ì„ ì¶œë ¥í•´ ì¤€ë‹¤.

[ëª…ë ¹ì–´ í˜•ì‹]

```bash
# ls t[TAB]
```

### [EX1] <TAB> ì´ìš©í•œ ë””ë ‰í† ë¦¬ ì´ë™

```bash
# cd /etc/sysco<TAB>
/etc/sysconfig/
# cd /etc/sysconfig/netw<TAB>
/etc/sysconfig/network
# cd /etc/sysconfig/network-s<TAB>
/etc/sysconfig/network-scripts/
```

### [EX2] ìë™ ì™„ì„± ê¸°ëŠ¥ì´ ë˜ì§€ ì•Šì„ë•Œì˜ <TAB><TAB> ì‚¬ìš©

```bash
# cd /etc/sys<TAB><TAB>
sysconfig/ sysctl.conf  syslog.conf
# cd /etc/sysco<TAB> /* ë‹¤ë¥¸ ë¬¸ìì™€ êµ¬ë³„ í•  ìˆ˜ ìˆëŠ” ê¸€ìê¹Œì§€ ì ì–´ì£¼ê³  ë‹¤ì‹œ<Tab>ì„ ëˆ„ë¥´ë©´ ì™„ì„± */
/etc/sysconfig
```

### [EX3] <TAB> ì´ìš©í•œ ëª…ë ¹ì–´ì˜ ì¢…ë¥˜ í™•ì¸

```bash
# ch[TAB][TAB]
chacl               check-binary-files  chmod
chage               checkXML            chown
change_console      checkmodule         chpasswd
charmap             checkpolicy         chroot
chat                chfn                chrt
chattr              chgrp               chsh
chcat               chkconfig           chvt
chcon               chkfontpath
# systemctl [TAB][TAB]
add-requires           hybrid-sleep           reload-or-restart
add-wants              is-active              reload-or-try-restart
cancel                 is-enabled             rescue
cat                    is-failed              reset-failed
condreload             is-system-running      restart
condrestart            isolate                set-default
condstop               kexec                  set-environment
daemon-reexec          kill                   set-property
daemon-reload          link                   show
default                list-dependencies      show-environment
delete                 list-jobs              snapshot
disable                list-sockets           start
edit                   list-timers            status
emergency              list-unit-files        stop
enable                 list-units             suspend
exit                   mask                   switch-root
force-reload           poweroff               try-restart
get-default            preset                 unmask
halt                   reboot                 unset-environment
help                   reenable               
hibernate              reload
```

[ì°¸ê³ ] redhat-config-* & system-config-*

```bash
			 RHEL 3.X(CentOS 3.X) : redhat-config-*
       REEL 4.X(CentOS 4.X) : system-config-*   / service 
       REEL 5.X(CentOS 5.X) : system-config-*   / service 
       REEL 6.X(CentOS 6.X) : system-config-* ( ê¸°ë³¸ì„¤ì¹˜X ) /service systemctl
					# yum -y install system-config-*
       REEL 7.X(CentOS 4.X) : systemctl 
# set â€“o vi 
(ã„±) íŒŒì¼ì´ë¦„ ìë™ ì™„ì„± ê¸°ëŠ¥(File name completion)
(ã„´) ëª…ë ¹í–‰ í¸ì§‘(Command Line Edit)

(ã„±) íŒŒì¼ ì´ë¦„ ìë™ ì™„ì„± ê¸°ëŠ¥
# cd /etc/sysco[TAB]
# cd /etc/sysco[ESC][\]

(ã„´) ëª…ë ¹í–‰ í¸ì§‘
(ì´ì „ ëª…ë ¹ì–´ë¥¼ ë˜ì‚´ë ¤ì„œ ì“°ëŠ” ê²½ìš°)
# â†‘â†‘â†‘â†“â†“â†“
# [ESC][k][k][k][j][j][j]

(ì´ì „ ëª…ë ¹ì–´ë¥¼ í¸ì§‘í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°)
# find / -name core â€“type f 
<CTRL + C>
# [ESC][k]
# find / -name file1 â€“type f

# cp /etc/service file1 
# cp file1 file2 
# cp file1 file3 
# cp file1 file4 
# cp file1 file5

(ì´ì „ì— ì‚¬ìš©í•œ ëª…ë ¹ì–´ë¥¼ í™•ì¥í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°)
# df â€“h 
# df â€“h / 
# df â€“h / | tail â€“1 
# df â€“h / | tail â€“1 | awk '{print $5}'

# ps â€“ef | head 
# ps â€“ef | head | sort â€“k 2 
# ps â€“ef | head | sort â€“k 2 â€“n
# ps â€“ef | head | sort â€“k 2 â€“nr

(í™•ì¸ + ëª…ë ¹ì–´ ìˆ˜í–‰ + í™•ì¸)
# chkconfig --list krb5-telnet 
# chkconfig krb5-telnet on
# â†‘â†‘
```

ìë™ì™„ì„±

ì‹¤ìˆ˜ë¥¼ ë°©ì§€

ì‘ì—… ì†ë„, ëŠ¥ë¥  í–¥ìƒ

íŒŒì¼ëª…ì— ëŒ€í•œ ë¹ ë¥¸ í™•ì¸
