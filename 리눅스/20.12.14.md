# 리눅스 bash shell 까지 문제

리눅스 서버를 설치 합니다. 아래 표의 내용에 맞추어 시스템을 적절히 구성합니다.

```
VM 구성시 DISK용량은 100GB로 설정해 주세요

설치언어: 영어
시간대: 한국
추가설치 언어: 한국어
디스크 : 자동 구성
네트워크 - 
IPv4 
IP 192.168.10.200
SUBNET : 255.255.255.0
G/W : 192.168.10.2
DNS : 168.126.63.1

hostname : server3.example.com

root password는 redhat
일반 계정은 team01 password는 team01로 설정합니다.
```

OVF 생성전 사전 작업 :

OVF를 생성하기 위하여 기존 수동으로 설정되어 있는 네트워크 상태를 DHCP를 사용하는 자동구성으로 변경한다.

이후 ping 명령어로 외부 네트워크와의 통신 상태를 확인한뒤 OVF 파일을 생성한다.

---

생성된 OVF를 이용하여 신규 VM을 두개 생성한다. 생성되는 VM의 이름은 Testexam, TestService 이다.

두 가상머신의 아래 코드박스에 맞춰 기본 설정을 완료한다.

```
Testexam

네트워크 - 
IPv4 
IP 192.168.10.100
SUBNET : 255.255.255.0
G/W : 192.168.10.2
DNS : 168.126.63.1

hostname : controller.example.com

----------------------------------------------------------------

TestService 

네트워크 - 
IPv4 
IP 192.168.10.152
SUBNET : 255.255.255.0
G/W : 192.168.10.2
DNS : 168.126.63.1

hostname : node1.example.com

```

가상머신에 각각 프로그램을 설치한다. 

controller

```
telnet 접속을 위한 클라이언트 프로그램
```

```bash
# dnf -y install telnet
```

node1

```
telnet 서비스를 위한 서버 프로그램
```

```bash
# dnf -y install telnet-server
```

controller에서 node1으로 접속(root 계정)을 하며 접속에 관련된 로그를 확인한다. 실시간 확인을 위하여 /var/log/messages 파일을 모니터링 한다. 하지만 해당 로그에는 많은 파일들이 접속 로그를 남기고 있다. 현재 확인해야 하는 로그는 telnet에 대한 것이기 때문에 telnet 정보만 필터링 할 수 있도록한다.

controller 호스트에서 다음 작업을 시도한다.

```
계정생성 : 비밀번호는 계정과 동일하게 생성한다.

team02 - team10까지 생성

그룹생성 project01 - project03까지 생성

project01 그룹에 가입된 계정
team01-team03

project02 그룹에 가입된 계정
team04-team06

project03 그룹에 가입된 계정
team07-team10
```

비밀번호를 생성시에 빠른 확인을 위하여 echo문을 활용하고 이 명령어라인은 history파일에 저장되지 않도록 조치를 취한다.

```bash
# echo 'team10' | passwd --stdin team10
Changing password for user team10.
passwd: all authentication tokens updated successfully.
# history -c
```

```bash
# cat /etc/passwd | grep team
team01:x:1000:1000:team01:/home/team01:/bin/bash
team02:x:1001:1001::/home/team02:/bin/bash
team03:x:1002:1002::/home/team03:/bin/bash
team04:x:1003:1003::/home/team04:/bin/bash
team05:x:1004:1004::/home/team05:/bin/bash
team06:x:1005:1005::/home/team06:/bin/bash
team07:x:1006:1006::/home/team07:/bin/bash
team08:x:1007:1007::/home/team08:/bin/bash
team09:x:1008:1008::/home/team09:/bin/bash
team10:x:1009:1009::/home/team10:/bin/bash
```

```bash
# cat /etc/group | grep ^project
project01:x:1010:team01,team02,team03
project02:x:1011:team04,team05,team06
project03:x:1012:team07,team08,team09,team10
```

## 디렉토리 및 파일 관리하기

1. 현재 디렉토리를 표시한다.

    ```bash
    # pwd
    ```

2.  /etc 디렉토리로 작업 위치를 변경하고 변경된 위치를 표시한다.

    ```bash
    # cd /etc
    # pwd
    /etc
    ```

3. 이제 키를 세 번만 눌러 홈 디렉토리로 변경한다. 키=물리적으로 입력하는 키보드를 세번만 입력

    ```bash
    # cd ~
    ```

4. 디렉토리의 자동완성 기능을 사용하여  /boot/grub로 디렉토리를 변경한다.

    ```bash
    # cd /boot/grub2/
    ```

5. 현재 디렉토리에서 상위 디렉토리로 상대 경로를 사용하여 이동한다.

    ```bash
    # cd ..
    ```

6. 다시 한번 상대경로를 사용하여 최상위 디렉토리로 이동한다.

    ```bash
    # cd ..
    ```

7. 루트 디렉토리의 내용을 나열한다.

    ```bash
    # pwd
    /
    # ls
    bin   dev  home  lib64  mnt  proc  run   srv  tmp  var
    boot  etc  lib   media  opt  root  sbin  sys  usr
    ```
    
. \
. \
. \
.
