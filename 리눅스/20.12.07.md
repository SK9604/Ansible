## π™‹π»β€β™€οΈ μ—΄λ²μ§Έ λΉ„λ€λ©΄ μμ—…

- **λ°°μ΄ λ‚΄μ©**

    κ²€μƒ‰ κ΄€λ ¨ λ…λ Ήμ–΄

    grep λ…λ Ήμ–΄

    find λ…λ Ήμ–΄

    κΈ°μ΄ λ¬Έμ  ν’€μ΄

---

# λ‚΄μ© μ •λ¦¬

---

# κ²€μƒ‰ κ΄€λ ¨ λ…λ Ήμ–΄

# λ‹¨μ›λ©ν‘

---

- grep λ…λ Ήμ–΄

    νμΌμ μ»¨ν…μΈ λ¥Ό λ“¤μ—¬λ‹¤ λ³΄λ” κ²½μ°

- find λ…λ Ήμ–΄

    νμΌλ…, κ°κ°μ μ†μ„±μ„ λ€μƒμΌλ΅ κ²€μƒ‰ν•λ” κ²½μ°

---

# grep λ…λ Ήμ–΄

---

- **grep λ…λ Ήμ–΄**

    ```bash
    # grep OPTIONS PATTERN ARG1
    ```

    **OPTIONS : -l, -n, -I, -v, -w**

    **PATTERN : * . ^root root$ [abv] [^a]**

```bash
# grep pattern [file path]   < κ³ μ •λ νμΌμ—μ„ λ§μ΄ μ‚¬μ© κ°€λ¥
# CMD | grep pattern         < μ‹¤μ‹κ°„ μλ£, λ…λ Ήμ–΄λ΅ μ¶λ ¥ κ²°κ³Όλ¥Ό λ΄μ•Όν•λ” μƒνƒμΈ κ²½μ° μ‚¬μ©λλ” λ…λ Ήμ–΄ κ²€μƒ‰ ν•μ‹
# ps β€“ef | grep pattern 
# rpm β€“qa | grep pattern 
# cat /etc/passwd | grep root
# cat /etc/group | grep root
# cat /var/log/messages | egrep '(warn|err|crti|alert|emerg)'
```

---

## grep λ…λ Ήμ–΄

ν•λ‚ μ΄μƒμ ν¨ν„΄κ³Ό μΌμΉν•λ” ν–‰μ„ μ„ νƒν•μ—¬ μ£Όμ–΄μ§„ νμΌ [λ° λ””λ ‰ν† λ¦¬]λ¥Ό νƒμƒ‰

νμΌ λ‚΄μ—μ„ νΉμ •ν• ν¨ν„΄μ„ κ²€μƒ‰ν•μ—¬ κ·Έ ν¨ν„΄μ„ ν¬ν•¨ν•λ” λ¨λ“  μ¤„μ„ ν™”λ©΄μ— μ¶λ ¥ν•λ” λ…λ Ήμ–΄. νμΌ λ‚΄μ— νΉμ •ν• ν¨ν„΄μ„ μ°ΎκΈ° μ„ν•΄ λ§μ΄ μ‚¬μ©ν•λ‹¤. μ°ΎμΌλ ¤κ³  ν•λ” ν¨ν„΄μ„ μ •κ·μ‹(**g/re/p, Globally/Regular Expression/Print**)μ΄λΌκ³  ν‘ν„ν•λ‹¤. grep λ…λ Ήμ–΄μ μ•½μμ—μ„ λ³Ό μ μλ“―μ΄ λ§μ€ ν¨ν„΄μ„ μ κ³µν•κ³  μλ‹¤.

[λ…λ Ήμ–΄ ν•μ‹]

```bash
# grep OPTIONS PATTERN file1
```

(κΈ°λ³Έ μ‚¬μ©λ²•)

```bash
# grep root /etc/passwd    (# cat /etc/passwd | grep root)
# CMD | grep root 
# cat /etc/passwd | grep root 
# rpm -qa | grep sshd 
# ps -ef | grep socket 
```

(μµμ… μ‚¬μ©λ²•) "# grep OPTIONS PATTERN file1"

```bash
# grep -l root /etc/hosts /etc/passwd /etc/group /* μ—¬λ¬ νμΌ μ¤‘ κ²€μƒ‰ λ¬Έμμ—΄ μ΅΄μ¬ νμΌ μ¶λ ¥ */
# grep -n root /etc/group  /* -n: number line, νμΌμ—μ„ root λ¬Έμμ—΄μ„ κ²€μƒ‰ν•κ³  λΌμΈ λ²νΈλ„ κ°™μ΄ μ¶λ ¥ # cat -n /etc/passwd | grep root */ 
# grep -v root /etc/passwd  /* -v: inverse, νμΌμ—μ„ κ²€μƒ‰ λ¬Έμμ—΄μ„ μ μ™Έν•κ³  λ‚λ¨Έμ§€ μ¶λ ¥ */
# grep -i root /etc/passwd  /* -i: ignore case, νμΌμ—μ„ κ²€μƒ‰ λ¬Έμμ—΄μ λ€μ†λ¬Έμλ¥Ό κµ¬λ¶„ν•μ§€ μ•μ */
# grep -w root file1        /* -w: word , λ‹¨μ–΄μ μΌλ¶€λ¶„μ΄ μ•„λ‹ λ‹¨μ–΄μ μ „μ²΄κ°€ μΌμΉν•λ” κ²½μ° μ¶λ ¥ */
# grep --color root /etc/passwd
```

**[λ…λ Ήμ–΄ μµμ…]**

**μµμ… : μ„¤λ…**

**-l** : (-l : list files) ν¨ν„΄μ΄ μλ” νμΌμ΄λ¦„λ§μ„ μ¶λ ¥ν•λ‹¤. (μ—¬λ¬ νμΌμ΄ μ΅΄μ¬ν•κ³  μ΄ νμΌλ“¤μ¤‘ κ²€μƒ‰ν•λ” ν¨ν„΄μ΄ μ΅΄μ¬ν•λ” νμΌλ§ μ°Ύκ³ μ‹¶μ„ λ•)
-n : (-n : number line) ν¨ν„΄μ„ ν¬ν•¨ν•λ” μ¤„μ„ μ¶λ ¥ν•  λ• μ¤„λ²νΈμ™€ ν•¨κ» μ¶λ ¥ν•λ‹¤.
**-v** : (-v : inVerse, except) ν¨ν„΄μ„ ν¬ν•¨ν•λ” μ¤„μ„ μ μ™Έν•κ³  μ¶λ ¥ν•λ‹¤. (ν¨ν„΄μ— ν•΄λ‹Ήν•λ” λΌμΈμ„ κ²€μƒ‰μ—μ„ μ μ™Έ)
-c : (-c : count) ν¨ν„΄μ„ μ°Ύμ€ μ¤„μ μλ¥Ό μ¶λ ¥ν•λ‹¤.
**-i** : (-i : ignore case, λ€λ¬Έμ/μ†λ¬Έμ) ν¨ν„΄μ„ μ°Ύμ„ λ• λ€μ†λ¬Έμλ¥Ό κµ¬λ¶„ν•μ§€ μ•λ”λ‹¤.

**-w** : ν¨ν„΄μ— μ •ν™•ν•κ² μΌμΉν•λ” κ²ƒλ§ κ²€μƒ‰

-E : egrepκ³Ό λ‘κ°™μ΄ μ‘λ™ν•λ‹¤. ν•λ²μ— μ—¬λ¬ κ°μ ν¨ν„΄μ„ κ²€μƒ‰ν•λ” κ²½μ° μ‚¬μ©ν•λ‹¤.

(ν¨ν„΄ μ‚¬μ©λ²•) "# grep OPTIONS PATTERN file1"

```bash
*       # grep 'ro*t' /etc/passwd       λ¨λ“ λ¬Έμλ¥Ό ν¬ν•¨(μλ¬Έμ,μ«μ) ν• μ μ΄μƒ 
.       # grep 'no...y' /etc/passwd     (.μ— ν•λ‚μ μλ¬Έμλ‚ μ«μλ¥Ό μΉν™)
^root   # grep '^root' /etc/passwd      λΌμΈμ μ‹μ‘μ΄ rootμΈ λΌμΈμ„ κ²€μƒ‰
root$   # grep 'root$' /etc/group       λΌμΈμ λμ΄ rootλ΅ λλ‚λ” λΌμΈμ„ κ²€μƒ‰
[abc]   # grep 'user0[123]' /etc/passwd user0μΌλ΅ μ‹μ‘ν•μ—¬ 1μ΄λ‚ 2λ‚,3μΌλ΅ λλ‚λ” λ¬Έμμ—΄
```

μ•µμ»¤ : ^ $

λ©”νƒ€λ¬Έμ

μ™€μΌλ“ μΉ΄λ“ : *

### [EX1] grep λ…λ Ήμ–΄ μµμ… μ‹¤μµ

```bash
# useradd FEDORA
# passwd FEDORA 
-> μ‚¬μ©μ μ•”νΈ μ…λ ¥

# grep fedora /etc/passwd    (# cat /etc/passwd | grep fedora)
fedora:x:1001:1001::/home/fedora:/bin/bash
# grep FEDORA /etc/passwd
FEDORA:x:1004:1004::/home/FEDORA:/bin/bash

λ¦¬λ…μ¤λ” λ€μ†λ¬Έμλ¥Ό κµ¬λ³„ν•κΈ° λ•λ¬Έμ— κ²€μƒ‰μ„ ν•λ” κ²½μ°μ— λ€μ†λ¬Έμλ¥Ό μ •ν™•ν κµ¬λ³„ν•μ—¬ ν¨ν„΄ μ‘μ„±μ„ ν•΄μ•Ό ν•λ‹¤.
ν•μ§€λ§ μ΄κ²ƒμ„ λ¬΄μ‹ν•κ³  κ²€μƒ‰μ„ ν•΄μ•Ό ν•λ” κ²½μ°μ—λ” -i μµμ…μ„ μ‚¬μ©ν•΄μ¤€λ‹¤.
# grep -i fedora /etc/passwd
fedora:x:1001:1001::/home/fedora:/bin/bash
FEDORA:x:1004:1004::/home/FEDORA:/bin/bash
```

(μ‹¤λ¬΄ μ) ν™κ²½ νμΌμ— λ“±λ΅

```bash
# alias grep='grep -i'          => $HOME/.bashrc 
# alias grep='grep -i --color'  => $HOME/.bashrc < κ²€μƒ‰λ λ‹¨μ–΄μ— μƒ‰μƒμ„ μ…ν€ κ°€λ…μ„±μ„ λ†’μ—¬μ¤€λ‹¤ >

# vi ~/.bashrc 
alias grep='grep -i --color'
# . ~/.bashrc 
# alias grep
```

```bash
# cat -n /etc/passwd | grep fedora
    48	fedora:x:1002:1002::/home/fedora:/bin/bash
# grep -n fedora /etc/passwd
48:fedora:x:1002:1002::/home/fedora:/bin/bash
# grep -n root /etc/group
1:root:x:0:
# grep -l root /etc/group /etc/passwd /etc/hosts
/etc/group
/etc/passwd
# vi file.txt
root hello
roothello
testroottest
helloroot
# grep -w root file.txt
root hello
```

### [EX2] grep λ…λ Ήμ–΄ ν¨ν„΄ μ‹¤μµ

```bash
# nmcli con show
NAME   UUID                                  TYPE      DEVICE 
ens33  7da16185-c5c7-47de-8e44-07c3276d5006  ethernet  ens33

# grep -lr ens33 /etc
/etc/sysconfig/network-scripts/ifcfg-ens33

# cat /var/log/messages | grep -i dec | head -5
Aug 21 14:33:19 server1 kernel: Linux version 4.18.0-193.el8.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 8.3.1 20191121 (Red Hat 8.3.1-5) (GCC)) #1 SMP Fri May 8 10:59:10 UTC 2020
Aug 21 14:33:19 server1 kernel: Command line: BOOT_IMAGE=(hd0,msdos1)/vmlinuz-4.18.0-193.el8.x86_64 root=/dev/mapper/cl-root ro resume=/dev/mapper/cl-swap rd.lvm.lv=cl/root rd.lvm.lv=cl/swap rhgb quiet
Aug 21 14:33:19 server1 kernel: Disabled fast string operations
Aug 21 14:33:19 server1 kernel: x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
Aug 21 14:33:19 server1 kernel: x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
# cat /var/log/messages | grep -i 'dec 26'
# cat /var/log/messages | grep -i ^dec | tail -5
# ps
PID TTY          TIME CMD
13929 pts/2    00:00:00 bash
# ps -ef | grep 13929
root     13929 13927  0 14:00 pts/2    00:00:00 -bash
# ps -ef | grep bash
root      7117  7115  0 00:53 pts/3    00:00:00 -bash
root      7364  7117  0 01:47 pts/3    00:00:00 -bash
root     27308 27302  0 Jan26 pts/2    00:00:00 bash
# rpm -qa | grep postfix
postfix-8.13.8-2.el5
postfix-cf-8.13.8-2.el5

		# rpm -q postfix 
		# rpm -qa postfix  
		# rpm -qa | grep postfix
```

### [EX3] νμΌλ‚΄μ νΉμ • ν¨ν„΄ μ—¬λ¬κ° κ²€μƒ‰ν•κΈ°

```bash
grepμ νƒμƒμ  ν•κ³„ -> ν•λ‚μ΄μƒμ ν¨ν„΄ κ²€μƒ‰μ΄ λ¶κ°€λ¥
β–  egrep(Extended grep) CMD /* λ™μ‹μ— μ—¬λ¬κ°μ ν¨ν„΄μ„ κ²€μƒ‰ν•λ” κ²½μ°μ— μ‚¬μ© &/
# cat /var/log/messages | egrep -i '(warn|err|crit|alert|emerg)' 
# cat /etc/passwd | egrep -i '(root|fedora)'
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
fedora:x:1001:1001::/home/fedora:/bin/bash
FEDORA:x:1002:1002::/home/FEDORA:/bin/bash
# cat file1 | grep -E 'http|telnet|ssh'
-E : egrepκ³Ό λ‘κ°™μ΄ μ‘λ™ν•λ‹¤.
β–  fgrep(Fixed grep) CMD
# fgrep '^root' file1
```

**fgrep** : μ•µμ»¤ λ“± νΉμλ¬Έμλ¥Ό ν¬ν•¨ν•μ—¬ κ²€μƒ‰ν•λ‹¤. νΉμλ¬Έμλ¥Ό κ°™μ΄ μ‚¬μ©ν•΄μ„ ν¨ν„΄μΌλ΅ μΈμ‹ν•΄μ•Ό ν•λ” κ²½μ°μ— μ‚¬μ©λλ” grep

```bash
# egrep "fedora|root" /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
fedora:x:1001:1001::/home/fedora:/bin/bash
```

(μ‹¤λ¬΄ μ) λ΅κ·Έ νμΌμ—μ„ μ—λ¬ λ©”μ„Έμ§€ κ²€μƒ‰

```bash
# cat /var/log/messages | egrep β€“i '(warn|err|crit|alert|emerg)'
```

```bash
# egrep -v "fedora|user01" /etc/passwd    (# egrep -v "(fedora|user01)" /etc/passwd)
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
..... (μ¤‘λµ) .....
```

(μ‹¤λ¬΄) νΉμ •ν• λ‹¨μ–΄λ¥Ό μ μ™Έν•κ³  κ²€μƒ‰

```bash
# ps β€“ef | grep sshd | grep β€“v grep 

grep : κ°•λ ¥ν• ν¨ν„΄ λ§¤μΉ­ ν…ν”λ¦Ώμ„ μ •μν•κΈ° μ„ν•΄ "μ •κ· ν‘ν„μ‹"μ„ μ‚¬μ©ν•  μ μλ‹¤.  
egrep[μµμ…] "ν¨ν„΄|ν¨ν„΄|..." [λ€μƒνμΌλ“¤] : ν™•μ¥λ μ •κ· ν‘ν„μ‹μ„ μ‚¬μ©ν•λ©°, μ°Ύμ•„λ‚Ό ν¨ν„΄μ„ μ—¬λ¬κ° μ§€μ •ν•  μ μλ‹¤. 
'|'κΈ°νΈλ” λ¶λ¦° μ—°μ‚°μ "OR"μ— ν•΄λ‹Ήν•λ―€λ΅, μ •ν•΄μ§„ ν¨ν„΄λ“¤μ— ν¬ν•¨λλ” λ¨λ“  λΌμΈμ„ λ³΄μ—¬μ¤€λ‹¤.  
fgrep[μµμ…] ν¨ν„΄ [λ€μƒνμΌλ“¤] : ν¨ν„΄κ³Ό μ •ν™•ν μΌμΉν•λ” κ²ƒλ§μ„ μ°Ύμ•„ μ¤€λ‹¤.
```

# find λ…λ Ήμ–΄

---

κ²€μƒ‰μ„ ν•λ” λ…λ Ήμ–΄

inodeμ μ •λ³΄λ¥Ό λ°”νƒ•μΌλ΅ κ²€μƒ‰μ„ ν•λ” λ…λ Ήμ–΄

```bash
# find / -name core β€“type f
# find / -user user-1 β€“group class1
# find / -mtime [-7|7|+7]
# find / -perm [755|-755]
# find / -size [-300M|300M|+300M]
# find / -name core β€“type f β€“exec rm β€“f {} \;
# find / -name core β€“type -ls
# find / -name core β€“type f β€“ok rm {} \;
# find /Log_Dir β€“name "*.log" β€“type f \
> -mtime +30 β€“exec rm 0rf {} \;
# find /Log_Dir β€“mtime -2 β€“size +1G β€“type
```

---

## find λ…λ Ήμ–΄

λ””λ ‰ν† λ¦¬μ•μ—μ„ μ›ν•λ” νμΌμ„ μ°Ύκ³ μ ν•  λ• μ‚¬μ©ν•λ” λ…λ Ήμ–΄μ΄λ‹¤. find λ…λ Ή λ‹¤μμ— μ‹μ‘ λ””λ ‰ν† λ¦¬λ¥Ό μ •ν•΄ μ£Όκ³  μ°Ύκ³ μν•λ” νμΌ μ΄λ¦„ μ•μ— μµμ…μ„ μ£Όλ©΄ λλ‹¤.

[λ…λ Ήμ–΄ ν•μ‹]

```bash
# find [κ²€μƒ‰μ‹μ‘μ„μΉ] [μµμ…1] [μΈμκ°’1] [μµμ…2] [μΈμκ°’2] ...
```

[λ…λ Ήμ–΄ μµμ…]

**μµμ… : μ„¤λ…**

**-name :** νμΌ μ΄λ¦„μ„ κΈ°μ¤€μΌλ΅ κ²€μƒ‰

**-iname: λ€μ†λ¬Έμλ¥Ό κµ¬λ³„ν•μ§€ μ•κ³  νμΌ μ΄λ¦„μ„ κΈ°μ¤€μΌλ΅ κ²€μƒ‰**

**-perm :** νμΌ κ¶ν•μ„ κΈ°μ¤€μΌλ΅ κ²€μƒ‰ν•λ‹¤.

**-type :** νμΌμ μΆ…λ¥λ¥Ό κΈ°μ¤€μΌλ΅ κ²€μƒ‰

b : λΈ”λ΅ νμΌ

c : λ¬Έμ

**d : λ””λ ‰ν† λ¦¬**

**f : νμΌ**

**l : λ§ν¬**

s : μ†μΌ“

**-size :** νμΌμ ν¬κΈ°λ¥Ό κΈ°μ¤€μΌλ΅ κ²€μƒ‰

+n : nλ³΄λ‹¤ ν¬λ‹¤

-n : nλ³΄λ‹¤ μ‘λ‹¤

n : nμ΄λ‹¤

b : 512-byte

**c : Bytes (Character = Byte)**

**k : Kilo Byte**

**M : Mega Bytes**

**G : Giga Bytes**

w : 2-byte

-links : λ§ν¬μ κ°μλ¥Ό κΈ°μ¤€μΌλ΅ κ²€μƒ‰

-user : μ‚¬μ©μ IDλ¥Ό κΈ°μ¤€μΌλ΅ κ²€μƒ‰

-group: κ·Έλ£Ή IDλ¥Ό κΈ°μ¤€μΌλ΅ κ²€μƒ‰

-atime : νΉμ • κΈ°κ°„ μ΄μƒ μ ‘κ·Όν•μ§€ μ•μ€ νμΌμ„ κΈ°μ¤€μΌλ΅ κ²€μƒ‰

-mtime : νΉμ • κΈ°κ°„ μ΄μƒ μμ •λμ§€ μ•μ€ νμΌμ„ κΈ°μ¤€μΌλ΅ κ²€μƒ‰

-inode : number μ§€μ •λ inode λ²νΈμ™€ νμΌμ„ μ°Ύλ”λ‹¤.

-print : ν‘μ¤€μ¶λ ¥μΌλ΅ κ²€μƒ‰λ νμΌ μ¶λ ¥: GNUλ” λ””ν„νΈ, Unixλ” ν•„μ μ…λ ¥

-exec command {} β‚©; :μ°Ύμ€ κ° νμΌμ— λ€ν•΄ μ§€μ •λ λ…λ Ήμ„ μ‹¤ν–‰

-ok command {} \; : μ‹¤ν–‰μ—¬λ¶€(μ‹¤ν–‰ λμ–΄ μλ”μ§€ μ•„λ‹μ§€)λ¥Ό μ‚¬μ©μμ—κ² ν™•μΈ ν›„ λ…λ Ήμ„ μ‹¤ν–‰

```bash
------------------------------------------------------------------------------
(ν•μ‹1) # find / -name core -type [f|d]    (# find / -name "*oracle*" -type f)
(ν•μ‹2) # find / -user user01 -group class1 
(ν•μ‹3) # find / -mtime [-7|7|+7] 
(ν•μ‹4) # find / -perm [-755|755] 
(ν•μ‹5) # find / -size [-300M|300M|+300M]
(ν•μ‹6) # find / -name core -type f -exec rm {} \;
------------------------------------------------------------------------------
```

### [EX1] νμΌ μ΄λ¦„ κ²€μƒ‰(μ: # find / -name core β€“type f)

```bash
/test -+- dir1 - file1 
			 |
			 +- dir2 - file3
		   |
			 +- file1
			 |
			 +- file2
```

```bash
And κ°€ μ•„λ‹ OR μ—°μ‚°μ΄ ν•„μ”ν• κ²½μ°
# find /var -type f -or -type d | wc -l
```

```bash
# cd /test 
# find . -name file1
./dir1/file1
./file1
-> "."μ€ ν„λ””λ ‰ν† λ¦¬, μ΄λ¦„μ΄ file1μΈ νμΌ λλ” λ””λ ‰ν† λ¦¬λ¥Ό μ°Ύμ•„λΌ λ””λ ‰ν† λ¦¬μ΄λ νμΌμ΄λ typeκ³Ό μƒκ΄€μ—†μ΄ λ¨λ‘ μ°Ύλ” κ²ƒ
# find . -name file1 -type f
./dir1/file1
./file1
# find /var -name "*.log" -type f
/var/log/audit/audit.log
/var/log/sssd/sssd.log
/var/log/sssd/sssd_implicit_files.log
/var/log/sssd/sssd_nss.log
/var/log/sssd/sssd_kcm.log
/var/log/tuned/tuned.log
..... (μ¤‘λµ) .....
# find /var -name "*log*" -type f
-> logκ°€ λ“¤μ–΄κ°€λ” λ¨λ“  νμΌ, *log -> λ΅κ·Έλ΅ λλ‚λ” νμΌ, log* -> λ΅κ·Έλ΅ μ‹μ‘ν•λ” νμΌ
```

### [EX2] μ‚¬μ©μ/κ·Έλ£Ή κ²€μƒ‰(μ: # find / -user user01 -group class1)

```bash
# find /home -user fedora -group fedora
/home/fedora
/home/fedora/top.seceret.mail
/home/fedora/.bashrc
..... (μ¤‘λµ) .....
# find /home -user fedora -group fedora -ls 
-> μ¶λ ¥ κ²°κ³Ό ν™•μΈ
```

### [EX3] λ‚ μ§ κ²€μƒ‰(μ: # find / -mtime 7)

```bash
# cd dir2 
# touch file1 file2 file3 file4 file5 file6 

# date 08191111
Thu Aug 19 11:11:00 KST 2010

μ°Έκ³  - vmwareμ—μ„ μ‹¤μµμ„ μ§„ν–‰ν•λ” κ²½μ° NTPλ΅ μΈν•μ—¬ , VMware toolsλ΅ μΈν•μ—¬ μ‹κ°„μ΄ κ³„μ† λ³€κ²½λκΈ° λ•λ¬Έμ— 
ν„°λ―Έλ„μ„ ν•λ‚ λ” μ‹¤ν–‰ν•μ—¬ λ‹¤μ λ…λ Ήμ–΄λ΅ ν„μ¬ μ‹κ°„μ„ ν™•μΈν•λ©° μ‹¤μµμ„ μ§„ν–‰ν•λ‹¤.
# watch -n date
# while : ; do date 08191111; sleep 1; echo "date resetting"; done
```

[μ°Έκ³ ] νμΌ μ†μ„± μ •λ³΄

```bash
     file6      file5       file4        file3      file2      file1
  -----+----------+------------+----------+----------+----------+---------+   
     0813        0814         0815       0816      0817        0818      0819
```

```bash
# touch -t 08181111 file1 
# touch -t 08171111 file2 
# touch -t 08161111 file3 
# touch -t 08151111 file4 
# touch -t 08141111 file5 
# touch -t 08131111 file6
# ls -l file*
-rw-r--r-- 1 root root 0 Aug 18 11:11 file1
-rw-r--r-- 1 root root 0 Aug 17 11:11 file2
-rw-r--r-- 1 root root 0 Aug 16 11:11 file3
-rw-r--r-- 1 root root 0 Aug 15 11:11 file4
-rw-r--r-- 1 root root 0 Aug 14 11:11 file5
-rw-r--r-- 1 root root 0 Aug 13 11:11 file6
# find . -mtime 3 -type f /* μμ • λ‚ μ§κ°€ 3μΌμ „μΈ νμΌ */
./file3
# find . -mtime -3 -type f /* μμ •ν• λ‚ μ§κ°€ 3μΌμ΄ μ•λ νμΌ */
./file3
./file2
./file1
# find . -mtime +3 -type f /* μμ •ν• λ‚ μ§κ°€ 3μΌμ΄ μ§€λ‚ νμΌ */
./file6
./file5
./file4
```

### [EX4] νΌλ―Έμ… κ²€μƒ‰(μ: # find / -perm 755 -type f)

```bash
# cd /test 
# mkdir dir3 
# cd dir3 
# touch file1 file2 file3 file4 file5 file6 file7 file8 

# chmod 000 file1  (---)
# chmod 100 file2  (--x)
# chmod 200 file3  (-w-)
# chmod 300 file4  (-wx)
# chmod 400 file5  (r--)
# chmod 500 file6  (r-x)
# chmod 600 file7  (rw-)
# chmod 700 file8  (rwx)

# ls -l file*
---------- 1 root root3043 3μ›” 18 14:54 file1
---x------ 1 root root362131 3μ›” 18 14:52 file2
--w------- 1 root root  0 3μ›” 18 14:52 file3
--wx------ 1 root root  0 3μ›” 18 14:52 file4
-r-------- 1 root root  0 3μ›” 18 14:52 file5
-r-x------ 1 root root 0 3μ›” 18 14:52 file6
-rw------- 1 root root  0 3μ›” 18 14:52 file7
-rwx------ 1 root root 0 3μ›” 18 14:52 file8
# find . -perm 600 -type f β€“ls 
-> file7

# find . -perm -400 -type f -ls 
-> file5, file6, file7, file8

SETUID SETGID λ™μ‹μ— κ²€μƒ‰
# find /  -perm -2000 -o -perm -4000
> μ•„λλ” μ—λ¬ μ κ±°
# find / -perm -4000 -not -path "/proc/*"
# find / -perm -4000  2> /dev/null

μ«μ μ•μ— -λ¥Ό λ¶™μΌ μ‹ ν•΄λ‹Ή κ¶ν•λ³΄λ‹¤ λ†’μ€ κ¶ν•μ„ κ°€μ§„ λ¨λ“  νμΌμ„ μ°Ύλ”λ‹¤.
# find . -perm 4000
	> 4000 κ¶ν•μ„ κ°€μ§„ νμΌ κ²€μƒ‰
# find . -perm -4000
	> 000 κ°’μ— λ“¤μ–΄μλ” νΌλ―Έμ…μ€ λ¬΄μ‹
```

### [EX5] νμΌ ν¬κΈ° κ²€μƒ‰(μ: # find / -size 50k -type f)

μ‚¬μ©μ: λ””μ¤ν¬κ°€ fullμ΄ μ°¨μλ‹¤ β†’ μµκ·Όμ— μƒκΈ΄ νμΌ β†’ μ©λ‰μ΄ ν° νμΌ

```bash
# find / -size +500m -mtime -1
# cp /etc/passwd file10 
# cp /etc/services file11 
# ls -l 

* file1-8   0    Bytes
* file10  3228   Bytes
* file11  692252 Bytes

# find . -size 2490c β€“type f    /* μ •ν™•μ΄ μΌμΉλλ” μ©λ‰λ§ κ²€μƒ‰ */
-> file10

# find . -size -1980c β€“type f   /* μΌμΉλλ” κ²ƒ μ μ™Έν• νμΌ ν¬κΈ°κ°€ 2027bytes λ―Έλ§ */
-> file1-8

# find . -size +1980c β€“type f   /* νμΌ ν¬κΈ°κ°€ 2027bytes λ³΄λ‹¤ ν°κ²ƒ */
-> file11
```

ν›„μ²λ¦¬ λ…λ Ήμ–΄λ¥Ό λ°”λ΅ μ…λ ¥ν•μ—¬ μ‹¤ν–‰ ν•  μ μλ‹¤.

### [EX6] λ””λ ‰ν† λ¦¬μ•μ— νΉμ •ν• ν¨ν„΄μ„ κ°€μ§„ νμΌλ“¤μ„ μ‚­μ (# find / -name file -type f -exec rm {} \;)

-exec 

find [path][option] -exec[λ…λ Ήμ–΄ μ²΄κ³„]

findλ΅ κ²€μƒ‰λ νμΌ, λ””λ ‰ν† λ¦¬μ— λ€ν•μ—¬ ν•λ²μ— λ¬΄μ–Έκ°€ μ‘μ—…μ„ μ΄λ£¨κΈ° μ„ν•΄μ„

[ν•μ‹]

```bash
-exec CMD {} \;
			chmod u-s {} \;       /*userμ—μ„ setuidλ¥Ό λΉΌκ² λ‹¤*/
			chmod u-a {file} \;
cp, chown, source-target

# find . -perm -4000 -exec chmod -v u-s {} \;
mode of './file2' changed from 4500 (r-s------) to 0500 (r-x------)
mode of './file4' changed from 4705 (rws---r-x) to 0705 (rwx---r-x)
mode of './file5' changed from 7777 (rwsrwsrwt) to 3777 (rwxrwsrwt)

cpetc λ””λ ‰ν† λ¦¬μ—μ„ λ§ν¬ νμΌλ§ μ°Ύμ•„ μ‚­μ 
#find . -type l -exec rm -f {} \;
cpetc λ””λ ‰ν† λ¦¬μ—μ„ νμΌλ§ μ°Ύμ•„ /test/dir1μΌλ΅ μ΄λ™
# find . -type f -exec mv -vf {} /test/dir1 \;
```

```bash
# cd /test
# find . -name file1 -type f /* νμΌμ μ΄λ¦„μ΄ file1μΈ κ²ƒ */
./file1
./dir2/file1
```

```bash
# find . -name file1 -type f -ls 
# find . -name file1 -type f -exec chown -v user01 {} \; 
# find . -name file1 -type f -ls 

# find . -name file1 -type f -exec chmod -v 640 {} \; 
# find . -name file1 -type f -ls 

# find . -name file1 -type f -exec rm -fv {} \; 
# find . -name file1 β€“type f

/proc λ””λ ‰ν† λ¦¬ μ μ™Έν•κ³  κ²€μƒ‰ν•κΈ°
# find / -name file1 -not -path '/proc/*'
```

```bash
find λ…λ Ήμ–΄μ—μ„ -exec μµμ…μ—μ„ μ„Έλ―Έμ½λ΅ (;)μ μ—­ν• 
find λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•λ©΄μ„ μ¶λ ¥λ κ²°κ³Όλ¥Ό κ°€μ§€κ³  λ°”λ΅ ν›„μ²λ¦¬ μ‹¤ν–‰μΌλ΅ μ΄μ–΄μ§μ μλ” μµμ…μΈ exec okκ°€ μ΅΄μ¬ν•λ‹¤. ν•΄λ‹Ή λ¬Έλ²•μλ§μ§€λ§‰μ—λ” μ„Έλ―Έμ½λ΅ (;)μ΄ μ…λ ¥λλ‹¤. ν•μ§€λ§ μ‰μ—μ„λ” μ„Έλ―Έμ½λ΅ (;)μ„ κΈ°μ¤€μΌλ΅ μ• λ…λ Ήμ–΄μ™€ λ’¤ λ…λ Ήμ–΄λ¥Ό κµ¬λ¶„ν•λ” κµ¬λ¶„μλ΅ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— κ·Έλƒ¥ μ‚¬μ©ν• μλ” μ—†μΌλ©° λ°”λ΅ μ•μ— μ—­μ¬λμ‹λ¥Ό λ¶™μ—¬ \; κµ¬μ΅°λ΅ λ§λ“¤μ–΄μ¤μ•Ό find λ…λ Ήμ–΄μ—μ„ μ •μƒμ μΌλ΅ ν•΄μ„κ°€λ¥ν•λ‹¤.
{} -> findλ κ²°κ³Ό κ°’λ“¤
```

(μ‹¤λ¬΄ μ) μ¤λλ λ΅κ·Έ κΈ°λ΅ μ‚­μ 

```bash
ν•λ‹¬(μ‹μ¤ν… μƒμ„±μΌ ~ 30μΌ)μ΄ μ§€λ‚ λ΅κ·ΈνμΌμ€ κ·Έ μλ―Έλ¥Ό μƒμ‹¤ν•κ² λλ‹¤. λ”°λΌμ„ μΌμ • μ‹κ°„μ΄ μ§€λ‚ λ΅κ·ΈνμΌμ κ²½μ° findλΌλ” λ…λ Ήμ–΄λ¥Ό μ΄μ©ν•μ—¬ νμΌμ„ μ£ΌκΈ°μ μΌλ΅ μ‚­μ ν•΄ μ£Όλ„λ΅ ν•λ‹¤.

# find /Log_Dir1 -name "*.log" -type f -mtime +30 -exec rm β€“f {} \;
# find /Log_dir2 -name "*.log" -type f -mtime +60 -exec rm β€“f {} \;
```

(μ‹¤λ¬΄ μ) νμΌμ‹μ¤ν…μ΄ κ°‘μκΈ° ν’€(Full) λ‚λ” κ²½μ°

```bash
# find /var -mtime -2 -size +1G β€“type f
# find /var -mtime -2 -size +512M -type f
/var/server/log/file.log

[μ°Έκ³ ] lsof(list open file)
# lsof | grep /var/server/log/file.log
```

(μ‹¤λ¬΄ μ) μ—λ¬λ©”μ„Έμ§€κ°€ λ“¤μ–΄ μλ” startup script κ²€μƒ‰

```bash
# /was/bin/startup.sh 
..... Server Error .....
# find /was β€“type f β€“exec grep β€“l 'Server Error' {} \;
/was/conf/server.xml
# vi /was/conf/server.xml
/Server Error
......
if μ΅°κ±΄ ; then

else
echo "Server Error"
fi
```

(μ‹¤λ¬΄ μ) μ—λ¬ λ©”μ„Έμ§€λ¥Ό κ²€μƒ‰ν•λ” λ°©λ²•

```bash
http://www.google.co.kr
-> site:.redhat.com "Server Error"
-> κ°€μƒν™” .pdf
-> κ°€μƒν™” .ppt
-> "Server Error1" AND "Server Error2" (AND/OR)
-> "Server Error1"
```

## λ¬Έμ  ν’€κΈ°

```bash
server1μ„ μ΄κΈ°ν™”ν•λ‹¤.
λ„¤νΈμ›ν¬ μƒνƒλ¥Ό ν™•μΈ

μ„ μμ‘μ—…
λ””λ ‰ν† λ¦¬ μƒμ„±
/test
/goott
/training
κ³„μ •μƒμ„±
fedora

1. bashλ¥Ό 3κ° μ‹¤ν–‰ν•μ—¬ psλ΅ ν™•μΈν–μ„λ•
--------------------------------
# ps
   PID TTY          TIME CMD
  1890 pts/0    00:00:00 bash
 58409 pts/0    00:00:00 bash
 58854 pts/0    00:00:00 bash
 58889 pts/0    00:00:00 ps
--------------------------------
ν•΄λ‹Ή ν™”λ©΄κ³Ό λΉ„μ·ν•κ² λ‚μ™€μ•Ό ν•λ‹¤.

2. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”.  
μ‹μ¤ν…μ„ 15λ¶„λ’¤ μΆ…λ£ν•λ” λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰μ‹ν‚¤κ³  μ‹¤μ λ΅λ” μΆ…λ£λμ§€ λ»ν•λ„λ΅ μ·¨μ†ν•λ‹¤.

3. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”. 
tree λ…λ Ήμ–΄λ¥Ό μ‚¬μ©κ°€λ¥ν• μƒνƒλ΅ μ‹μ¤ν…μ— ν”„λ΅κ·Έλ¨μ„ μ„¤μΉν•λ‹¤.

* 4λ² μ‹¤μµμ „ μμ‹ μ μ „μ© κ³„μ •μ„ ν•λ‚ μƒμ„±ν•©λ‹λ‹¤.
μ΄ν›„ μƒμ„±ν• λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•μ—¬ λ””λ ‰ν† λ¦¬μ μ„μΉλ¥Ό ν™•μΈν•λ‹¤.
λ””λ ‰ν† λ¦¬μ κ¶ν•μ„ κ²€μƒ‰ λ° ν™•μΈν•κ³  μƒμ„±ν• λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•©λ‹λ‹¤. 
μ΄λ™ν›„ λ””λ ‰ν† λ¦¬ ν•μ„μ— training μ΄λΌλ” λ””λ ‰ν† λ¦¬λ¥Ό ν•λ‚ μƒμ„±ν•κ³ 
		system_vol μ΄λΌλ” μΌλ°νμΌμ„ ν•λ‚ μƒμ„±ν•©λ‹λ‹¤.

4. ls λ…λ Ήμ–΄μ μ‹¤μ  κ²½λ΅μ μ¶λ ¥λ¬Όμ„ ν•΄λ‹Ή λ””λ ‰ν† λ¦¬μ ls_path νμΌλ΅ μ €μ¥ν•κ³  ν•΄λ‹Ή νμΌμ ν•μ‹μ„ ν™•μΈν•λ’¤ νμΌμ μƒμ„±μ‹κ°„μ„ ν™•μΈν•κ³  
μ €μ¥λ νμΌμ ν…μ¤νΈλ¥Ό ν™•μΈν•λ‹¤.

5. tree λ…λ Ήμ–΄μ μ‹¤μ κ²½λ΅μ™€ λ„μ›€λ§ νμ΄μ§€μ μ‹¤μ  κ²½λ΅μ μ¶λ ¥λ¬Ό tree_path νμΌλ΅ μ €μ¥ν•κ³  ν•΄λ‹Ή νμΌμ ν•μ‹μ„ ν™•μΈν•λ’¤ νμΌμ 
μƒμ„±μ‹κ°„μ„ ν™•μΈν•κ³  μ €μ¥λ νμΌμ ν…μ¤νΈλ¥Ό ν™•μΈν•λ‹¤. 
ν•΄λ‹Ή νμΌμ inodeλ¥Ό ν™•μΈν•κ³  μ΄ν›„ ν•΄λ‹Ή νμΌμ μ΄λ¦„μ„ treeλ΅ λ³€κ²½ν•λ‹¤.
λ‹¤μ‹ ν•λ² inode λ²νΈλ¥Ό ν™•μΈν•μ—¬ λ‘ inode λ²νΈκ°€ λ™μΌν•΄μ•Ό ν•λ‹¤.
μ΄ν›„ λ™μΌν• inodeλ¥Ό κ°€μ§€λ” tree2 λΌλ” νμΌμ„ μƒμ„±ν•λ‹¤.
tree2νμΌμ κ²½λ΅λ¥Ό λ§ν¬λ΅ κ°€μ§€λ” tree3  μ΄λΌλ” νμΌμ„ μƒμ„±ν•λ’¤ ν™•μΈν•λ‹¤.

6. μ‹μ¤ν…μ νΈμ¤νΈ μ΄λ¦„μ„ hostnamecheck νμΌλ΅ μ €μ¥ν•λ‹¤.

7. μ‹μ¤ν…μ λ²„μ „ μ •λ³΄λ¥Ό hostnamecheck νμΌμ— μ΄μ–΄ λ¶™μΈλ‹¤.

8. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”.
μ‹μ¤ν…μ μ‹κ°„μ„ 2005λ…„ 09μ›” 15μΌ 17μ‹23λ¶„μΌλ΅ λ³€κ²½ν•λ’¤ ν™•μΈν•λ‹¤.
   time.bora.net μ„ μ΄μ©ν•μ—¬ μ‹κ°„μ„λ²„μ™€ λ‚΄ μ‹μ¤ν…μ μ‹κ°„μ„ λ™κΈ°ν™” ν•λ‹¤.
Hint : rdate 

9. /etc/resolv.conf νμΌμ λ‚΄μ©μ„ resolv_[μ¤λλ‚ μ§] νμΌλ΅ μƒμ„±ν•λ‹¤. [μ¤λλ‚ μ§]λ” μ‹κ°„ μ¶λ ¥ ν•μ‹ ν¬λ§·μ„ λ³€κ²½ν•μ—¬ κµ¬μ„±ν•λ‹¤.

10. resolv_[μ¤λλ‚ μ§]μ νμΌμ„ ν•΄λ‹Ή λ””λ ‰ν† λ¦¬μ μ¨κΉ€νμΌλ΅ λ³€κ²½ν•λ‹¤.

11. ν™ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ‹¤.
    μ΄μ „ λ””λ ‰ν† λ¦¬λ΅ λ‹¤μ‹ μ΄λ™ν•λ‹¤.

12. ν™ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ”λ° μƒλ€κ²½λ΅λ¥Ό μ΄μ©ν•λ‹¤.

13. ν™ λ””λ ‰ν† λ¦¬ λ‚΄μ—μ„ /[κ¶ν•μ΄ μ΅΄μ¬ν•λ” λ””λ ‰ν† λ¦¬] λ‚΄μ— λ””λ ‰ν† λ¦¬μ™€ νμΌμ„ μƒμ„±ν•λ‹¤.
	* μ΅°κ±΄ : μƒλ€κ²½λ΅λ¥Ό μ΄μ©ν•λ‹¤.
/[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬]
`-- dir1
    |-- dir2
    |   `-- dir3
    |       `-- file1
    `-- file2

ν•΄λ‹Ή tree λ…λ Ήμ–΄μ κ²°κ³Όμ²λΌ κµ¬μ„±λμ–΄μ•Ό ν•λ‹¤.

14. /[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬] λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ‹¤. /[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬] λ””λ ‰ν† λ¦¬λ‚΄μ νμΌκ³Ό λ””λ ‰ν† λ¦¬λ¥Ό μ‚­μ ν•λ‹¤.
λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹¤.
# cp /etc/passwd file1
# ln -s file1 file2
# cp /bin/ls file3
# cp /etc/passwd .file4
# mkdir dir1
# cp -r /etc/sysconfig dir2

ν•΄λ‹Ή νμΌλ“¤μ νμΌ μΆ…λ¥λ¥Ό ν™•μΈν•λ‹¤.

15. /etc/services νμΌμ„ file1μ— μ—¬λ¬λ² λ¶™μ—¬λ„£μ–΄ ν° νμΌμ„ μƒμ„±ν•κ³  μ‚¬λμ΄ λ³΄μ•μ„λ€ μ©λ‰μ„ λ³΄κΈ° μΆ‹μ€ μµμ…μΌλ΅ λ³€ν™ν•μ—¬ 
μ¶λ ¥ν•λ‹¤.

16. file1μ μ ‘κ·Όμ‹κ°„ μμ •μ‹κ°„μ„ μ•„λ μ¶λ ¥ κ²°κ³Όμ²λΌ λ³€κ²½ν•λ‹¤.

Access: 2019-08-30 13:00:00.000000000
Modify: 2019-08-30 13:00:00.000000000

17. file1μ μ†μ„±μ •λ³΄ λ³€κ²½ν•κΈ°
ν•΄λ‹Ή λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹¤.
# chmod 777 file1
# chown :fedora file1

μ†μ„±μ •λ³΄λ¥Ό μ μ§€ν•μ±„λ΅ νλ„λΌκ³„μ •λ‚΄λ΅ λ³µμ‚¬ν•λ‹¤. λ³µμ‚¬λλ” νμΌμ΄λ¦„μ€ fedoraμ΄λ‹¤.

18. /etc/sysconfig λ””λ ‰ν† λ¦¬λ¥Ό team01 λ””λ ‰ν† λ¦¬λ΅ λ³µμ‚¬ν•λ‹¤.
λ³µμ‚¬μ‹ /home/team01μ„ μ‚¬μ©ν•μ§€ λ§κ³  λ‹¤λ¥Έ λ°©λ²•μ„ μ΄μ©ν•λ‹¤.

19. /test/file1μ μ©λ‰μ„ 0μΌλ΅ λ³€κ²½ν•λ‹¤.

20. dir2μ λ¨λ“  νμΌμ„ λ€μƒμΌλ΅ ν•λ‹¤. 
dir2μ μΌλ° νμΌ κ°μλ¥Ό ν™•μΈν•λ‹¤.
dir2μ λ””λ ‰ν† λ¦¬ κ°μλ¥Ό ν™•μΈν•λ‹¤.
dir2 λ‚΄μ λ§ν¬νμΌμ„ ν™•μΈν•λ‹¤.
```

λ‚΄κ°€ ν‘Ό λ¬Έμ  ν’€μ΄

```bash
[root@server1 /]# ls -l | grep -E 'test|goott|training'
drwxr-xr-x.   2 root root    6 12μ›”  7 15:46 goott
drwxr-xr-x.   2 root root    6 12μ›”  7 15:46 test
drwxr-xr-x.   2 root root    6 12μ›”  7 15:47 training
1.
# bash
# bash
# ps
    PID TTY          TIME CMD
   2550 pts/0    00:00:00 bash
   2792 pts/0    00:00:00 bash
   2827 pts/0    00:00:00 bash
   2858 pts/0    00:00:00 ps

2.
# echo 'shutdown -h +15; shutdown -c'
shutdown -h +15; shutdown -c

3.
# echo 'dnf -y install tree'
yum install tree

4λ² μ „ μ„ μμ‘μ—….
# cd ~sk
# pwd
/home/sk
# ls -ld .
drwx------. 3 sk sk 78 12μ›”  7  2020 .

4.
# which ls | tee ls_path
# ls -l ls_path
-rw-r--r--. 1 root root 40 12μ›”  7 16:01 ls_path
# cat ls_path
alias ls='ls --color=auto'
	/usr/bin/ls
# which tree | tee tree_path; which man | tee -a tree_path
# ls -li tree_path
100673260 -rw-r--r--. 1 root root 27 12μ›”  7 16:04 tree_path
# ln tree tree2
# ln -s tree2 tree3
# ls -li | grep 'tree*'
100673260 -rw-r--r--. 2 root root 27 12μ›”  7 16:04 tree
100673260 -rw-r--r--. 2 root root 27 12μ›”  7 16:04 tree2
100673272 lrwxrwxrwx. 1 root root  5 12μ›”  7 16:08 tree3 -> tree2
# hostname | tee hostnamecheck
# cat /etc/redhat-release | tee -a hostnamecheck
# date -s "20050915 17:23:00"
2005. 09. 15. (λ©) 17:23:00 KST
# rdate -s time.bora.net
# echo 'date -s "20050915 17:23:00"; rdate -s time.bora.net'
# cp /etc/resolv.conf resolv_$(date '+%Y-%m-%d')
# ls -l re*
-rw-r--r--. 1 root root 73  9μ›” 15 17:28 resolv_2005-09-15
# mv resolv_2005-09-15 .resolv_2005-09-15
[root@server1 training]# ls -la
ν•©κ³„ 20
drwxr-xr-x.  2 root root 124  9μ›” 15 17:30 .
dr-xr-xr-x. 20 root root 265 12μ›”  7  2020 ..
-rw-r--r--.  1 root root  73  9μ›” 15 17:28 .resolv_2005-09-15
# cd /home
# cd ..
# mkdir dir1
# mkdir dir1/dir2
# mkdir dir1/dir2/dir3
# touch dir1/dir2/dir3/file1
# touch file2
# tree
.
β”β”€β”€ dir1
β”‚Β Β  β””β”€β”€ dir2
β”‚Β Β      β””β”€β”€ dir3
β”‚Β Β          β””β”€β”€ file1
β””β”€β”€ file2
# ls -al
ν•©κ³„ 276
drwxr-xr-x.  4 root root     83  9μ›” 15 17:35 .
dr-xr-xr-x. 21 root root    275  9μ›” 15 17:33 ..
-rw-r--r--.  1 root root   2742  9μ›” 15 17:35 .file4
drwxr-xr-x.  2 root root      6  9μ›” 15 17:35 dir1
drwxr-xr-x.  7 root root   4096  9μ›” 15 17:35 dir2
-rw-r--r--.  1 root root   2742  9μ›” 15 17:34 file1
lrwxrwxrwx.  1 root root      5  9μ›” 15 17:35 file2 -> file1
-rwxr-xr-x.  1 root root 267000  9μ›” 15 17:35 file3
# cat /etc/services | tee -a file1
# ls -lh file1
-rw-r--r--. 1 root root 1.4M  9μ›” 15 17:37 file1
# touch -t 08301300 file1
# stat file1
  File: file1
  Size: 1387246   	Blocks: 2712       IO Block: 4096   μΌλ° νμΌ
Device: fd00h/64768d	Inode: 3043877     Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:default_t:s0
Access: 2005-08-30 13:00:00.000000000 +0900
Modify: 2005-08-30 13:00:00.000000000 +0900
# cp -p file1 /home/fedora/fedora
# ls -l file1
-rwxrwxrwx. 1 root fedora 1387246  8μ›” 30 13:00 file1
# cd /home/fedora
# ls -l fedora
-rwxrwxrwx. 1 root fedora 1387246  8μ›” 30 13:00 fedora
# cd /home/team01
# cp -r /etc/sysconfig .
# ls
sysconfig
# ls -lh file1
-rwxrwxrwx. 1 root fedora 1.4M  8μ›” 30 13:00 file1
# cat /dev/null > file1
# ls -lh file1
-rwxrwxrwx. 1 root fedora 0  9μ›” 15 17:50 file1
[root@server1 dir2]# find . -type f | wc -l
34
[root@server1 dir2]# find . -type d | wc -l
10
[root@server1 dir2]# find . -type l | wc -l
2
```

κ°•μ‚¬λ‹μ λ¬Έμ  ν’€μ΄

```bash
server1μ„ μ΄κΈ°ν™”ν•λ‹¤.
λ„¤νΈμ›ν¬ μƒνƒλ¥Ό ν™•μΈ
# ping www.google.com
μ„ μμ‘μ—…
λ””λ ‰ν† λ¦¬ μƒμ„±
/test
/goott
/training
[root@server1 /]# ls -l | grep -E 'test|goott|training'
drwxr-xr-x.   2 root root    6 12μ›”  7 15:46 goott
drwxr-xr-x.   2 root root    6 12μ›”  7 15:46 test
drwxr-xr-x.   2 root root    6 12μ›”  7 15:47 training
κ³„μ •μƒμ„±
fedora
# useradd fedora
# echo fedora | passwd -stdin fedora

1. bashλ¥Ό 3κ° μ‹¤ν–‰ν•μ—¬ psλ΅ ν™•μΈν–μ„λ•
--------------------------------
# ps
   PID TTY          TIME CMD
  1890 pts/0    00:00:00 bash
 58409 pts/0    00:00:00 bash
 58854 pts/0    00:00:00 bash
 58889 pts/0    00:00:00 ps
--------------------------------
ν•΄λ‹Ή ν™”λ©΄κ³Ό λΉ„μ·ν•κ² λ‚μ™€μ•Ό ν•λ‹¤.
# bash
# bash
# ps

2. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”.  
μ‹μ¤ν…μ„ 15λ¶„λ’¤ μΆ…λ£ν•λ” λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰μ‹ν‚¤κ³  μ‹¤μ λ΅λ” μΆ…λ£λμ§€ λ»ν•λ„λ΅ μ·¨μ†ν•λ‹¤.
# echo 'shutdown -h +15'
shutdown -h +15
# echo 'shutdown -c'
shutdown -c

3. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”. 
tree λ…λ Ήμ–΄λ¥Ό μ‚¬μ©κ°€λ¥ν• μƒνƒλ΅ μ‹μ¤ν…μ— ν”„λ΅κ·Έλ¨μ„ μ„¤μΉν•λ‹¤.
# echo 'dnf -y install tree'
dnf -y install tree

* 4λ² μ‹¤μµμ „ μμ‹ μ μ „μ© κ³„μ •μ„ ν•λ‚ μƒμ„±ν•©λ‹λ‹¤.
# useradd sk
# echo sk | passwd --stdin sk 
kiyeon μ‚¬μ©μμ λΉ„λ°€ λ²νΈ λ³€κ²½ μ¤‘
passwd: λ¨λ“  μΈμ¦ ν† ν°μ΄ μ„±κ³µμ μΌλ΅ μ—…λ°μ΄νΈ λμ—μµλ‹λ‹¤.
μ΄ν›„ μƒμ„±ν• λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•μ—¬ λ””λ ‰ν† λ¦¬μ μ„μΉλ¥Ό ν™•μΈν•λ‹¤.
# cd ~sk
# pwd
/home/sk
λ””λ ‰ν† λ¦¬μ κ¶ν•μ„ κ²€μƒ‰ λ° ν™•μΈν•κ³  μƒμ„±ν• λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•©λ‹λ‹¤. 
# ls -ld .
drwx------. 3 sk sk 78 12μ›”  8 02:52 .
μ΄λ™ν›„ λ””λ ‰ν† λ¦¬ ν•μ„μ— training μ΄λΌλ” λ””λ ‰ν† λ¦¬λ¥Ό ν•λ‚ μƒμ„±ν•κ³ 
		system_vol μ΄λΌλ” μΌλ°νμΌμ„ ν•λ‚ μƒμ„±ν•©λ‹λ‹¤.
# mkdir training
# touch training/system_vol
# tree
.
β””β”€β”€ training
    β””β”€β”€ system_vol

1 directory, 1 file
# pwd
/home/sk

4. ls λ…λ Ήμ–΄μ μ‹¤μ  κ²½λ΅μ μ¶λ ¥λ¬Όμ„ ν•΄λ‹Ή λ””λ ‰ν† λ¦¬μ ls_path νμΌλ΅ μ €μ¥ν•κ³  ν•΄λ‹Ή νμΌμ ν•μ‹μ„ ν™•μΈν•λ’¤ νμΌμ μƒμ„±μ‹κ°„μ„ ν™•μΈν•κ³  
μ €μ¥λ νμΌμ ν…μ¤νΈλ¥Ό ν™•μΈν•λ‹¤.
# pwd
/home/sk
# which ls > ls_path
# ls
ls_path  training
# file ls_path 
ls_path: ASCII text
# stat ls_path 
  File: ls_path
  Size: 40        	Blocks: 8          IO Block: 4096   μΌλ° νμΌ
Device: fd02h/64770d	Inode: 145         Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:user_home_t:s0
Access: 2020-12-08 02:55:49.624157393 +0900
Modify: 2020-12-08 02:55:41.705057216 +0900
Change: 2020-12-08 02:55:41.705057216 +0900
 Birth: -
# cat ls_path 
alias ls='ls --color=auto'
	/usr/bin/ls
	
5. tree λ…λ Ήμ–΄μ μ‹¤μ κ²½λ΅μ™€ λ„μ›€λ§ νμ΄μ§€μ μ‹¤μ  κ²½λ΅μ μ¶λ ¥λ¬Ό tree_path νμΌλ΅ μ €μ¥ν•κ³  ν•΄λ‹Ή νμΌμ ν•μ‹μ„ ν™•μΈν•λ’¤ νμΌμ 
μƒμ„±μ‹κ°„μ„ ν™•μΈν•κ³  μ €μ¥λ νμΌμ ν…μ¤νΈλ¥Ό ν™•μΈν•λ‹¤. 
ν•΄λ‹Ή νμΌμ inodeλ¥Ό ν™•μΈν•κ³  μ΄ν›„ ν•΄λ‹Ή νμΌμ μ΄λ¦„μ„ treeλ΅ λ³€κ²½ν•λ‹¤.
λ‹¤μ‹ ν•λ² inode λ²νΈλ¥Ό ν™•μΈν•μ—¬ λ‘ inode λ²νΈκ°€ λ™μΌν•΄μ•Ό ν•λ‹¤.
μ΄ν›„ λ™μΌν• inodeλ¥Ό κ°€μ§€λ” tree2 λΌλ” νμΌμ„ μƒμ„±ν•λ‹¤.
tree2νμΌμ κ²½λ΅λ¥Ό λ§ν¬λ΅ κ°€μ§€λ” tree3  μ΄λΌλ” νμΌμ„ μƒμ„±ν•λ’¤ ν™•μΈν•λ‹¤.
# which tree > tree_path
# whereis tree >> tree_path
# ls
ls_path  training  tree_path
# cat tree_path 
/usr/bin/tree
tree: /usr/bin/tree /usr/share/man/man1/tree.1.gz
# file tree_path 
tree_path: ASCII text
# stat tree_path 
  File: tree_path
  Size: 64        	Blocks: 8          IO Block: 4096   μΌλ° νμΌ
Device: fd02h/64770d	Inode: 146         Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:user_home_t:s0
Access: 2020-12-08 02:58:30.034761055 +0900
Modify: 2020-12-08 02:58:24.118160927 +0900
Change: 2020-12-08 02:58:24.118160927 +0900
 Birth: -
# ls -li tree_path 
146 -rw-r--r--. 1 root root 64 12μ›”  8 02:58 tree_path
# mv tree_path tree
# ls -li tree
146 -rw-r--r--. 1 root root 64 12μ›”  8 02:58 tree
# ln tree tree2
# ls -li tree tree2
146 -rw-r--r--. 2 root root 64 12μ›”  8 02:58 tree
146 -rw-r--r--. 2 root root 64 12μ›”  8 02:58 tree2
# ln -s tree tree3
# ls -l tree3
lrwxrwxrwx. 1 root root 4 12μ›”  8 02:59 tree3 -> tree

6. μ‹μ¤ν…μ νΈμ¤νΈ μ΄λ¦„μ„ hostnamecheck νμΌλ΅ μ €μ¥ν•λ‹¤.
# hostname > hostnamecheck

7. μ‹μ¤ν…μ λ²„μ „ μ •λ³΄λ¥Ό hostnamecheck νμΌμ— μ΄μ–΄ λ¶™μΈλ‹¤.
# cat /etc/redhat-release >> hostnamecheck

8. μ•„λ ν•΄λ‹Ήν•λ” λ…λ Ήμ–΄λ¥Ό echo λ…λ Ήμ–΄λ΅ μ¶λ ¥ν•μ„Έμ”.
μ‹μ¤ν…μ μ‹κ°„μ„ 2005λ…„ 09μ›” 15μΌ 17μ‹23λ¶„μΌλ΅ λ³€κ²½ν•λ’¤ ν™•μΈν•λ‹¤.
   time.bora.net μ„ μ΄μ©ν•μ—¬ μ‹κ°„μ„λ²„μ™€ λ‚΄ μ‹μ¤ν…μ μ‹κ°„μ„ λ™κΈ°ν™” ν•λ‹¤.
Hint : rdate 
# echo 'date 091517232005; rdate -s time.bora.net'

9. /etc/resolv.conf νμΌμ λ‚΄μ©μ„ resolv_[μ¤λλ‚ μ§] νμΌλ΅ μƒμ„±ν•λ‹¤. [μ¤λλ‚ μ§]λ” μ‹κ°„ μ¶λ ¥ ν•μ‹ ν¬λ§·μ„ λ³€κ²½ν•μ—¬ κµ¬μ„±ν•λ‹¤.
# cat /etc/resolv.conf > resolv_'date +%m%d'

10. resolv_[μ¤λλ‚ μ§]μ νμΌμ„ ν•΄λ‹Ή λ””λ ‰ν† λ¦¬μ μ¨κΉ€νμΌλ΅ λ³€κ²½ν•λ‹¤.
# mv resolv_1208 .resolv_1208

11. ν™ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ‹¤.
    μ΄μ „ λ””λ ‰ν† λ¦¬λ΅ λ‹¤μ‹ μ΄λ™ν•λ‹¤.
# cd
# pwd
# cd -
# pwd

12. ν™ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ”λ° μƒλ€κ²½λ΅λ¥Ό μ΄μ©ν•λ‹¤.
# cd ../../root/
# pwd

13. ν™ λ””λ ‰ν† λ¦¬ λ‚΄μ—μ„ /[κ¶ν•μ΄ μ΅΄μ¬ν•λ” λ””λ ‰ν† λ¦¬] λ‚΄μ— λ””λ ‰ν† λ¦¬μ™€ νμΌμ„ μƒμ„±ν•λ‹¤.
	* μ΅°κ±΄ : μƒλ€κ²½λ΅λ¥Ό μ΄μ©ν•λ‹¤.
/[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬]
`-- dir1
    |-- dir2
    |   `-- dir3
    |       `-- file1
    `-- file2
ν•΄λ‹Ή tree λ…λ Ήμ–΄μ κ²°κ³Όμ²λΌ κµ¬μ„±λμ–΄μ•Ό ν•λ‹¤.
# cd 
# mkdir -p dir1/dir2/dir3
# touch dir1/dir2/dir3/file1
# touch dir1/file2
# tree dir1
dir1
β”β”€β”€ dir2
β”‚Β Β  β””β”€β”€ dir3
β”‚Β Β      β””β”€β”€ file1
β””β”€β”€ file2

14. /[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬] λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•λ‹¤. /[κ°μΈκ³„μ • λ””λ ‰ν† λ¦¬] λ””λ ‰ν† λ¦¬λ‚΄μ νμΌκ³Ό λ””λ ‰ν† λ¦¬λ¥Ό μ‚­μ ν•λ‹¤.
λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹¤.
# cp /etc/passwd file1
# ln -s file1 file2
# cp /bin/ls file3
# cp /etc/passwd .file4
# mkdir dir1
# cp -r /etc/sysconfig dir2
ν•΄λ‹Ή νμΌλ“¤μ νμΌ μΆ…λ¥λ¥Ό ν™•μΈν•λ‹¤.
# file *

15. /etc/services νμΌμ„ file1μ— μ—¬λ¬λ² λ¶™μ—¬λ„£μ–΄ ν° νμΌμ„ μƒμ„±ν•κ³  μ‚¬λμ΄ λ³΄μ•μ„λ€ μ©λ‰μ„ λ³΄κΈ° μΆ‹μ€ μµμ…μΌλ΅ λ³€ν™ν•μ—¬ 
μ¶λ ¥ν•λ‹¤.
# cat /etc/services >> file1
# !!
# !!
# ls -lh file1
-rw-r--r--. 1 root root 1.4M  9μ›” 15 17:37 file1

16. file1μ μ ‘κ·Όμ‹κ°„ μμ •μ‹κ°„μ„ μ•„λ μ¶λ ¥ κ²°κ³Όμ²λΌ λ³€κ²½ν•λ‹¤.

Access: 2019-08-30 13:00:00.000000000
Modify: 2019-08-30 13:00:00.000000000
# touch -t 201908301300 file1
# stat file1
  File: file1
  Size: 1387246   	Blocks: 2712       IO Block: 4096   μΌλ° νμΌ
Device: fd00h/64768d	Inode: 3043877     Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Context: unconfined_u:object_r:default_t:s0
Access: 2019-08-30 13:00:00.000000000 +0900
Modify: 2019-08-30 13:00:00.000000000 +0900

17. file1μ μ†μ„±μ •λ³΄ λ³€κ²½ν•κΈ°
ν•΄λ‹Ή λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹¤.
# chmod 777 file1
# chown :fedora file1
μ†μ„±μ •λ³΄λ¥Ό μ μ§€ν•μ±„λ΅ νλ„λΌκ³„μ •λ‚΄λ΅ λ³µμ‚¬ν•λ‹¤. λ³µμ‚¬λλ” νμΌμ΄λ¦„μ€ fedoraμ΄λ‹¤.
# cp -p file /home/fedora/fedora

18. /etc/sysconfig λ””λ ‰ν† λ¦¬λ¥Ό team01 λ””λ ‰ν† λ¦¬λ΅ λ³µμ‚¬ν•λ‹¤.
λ³µμ‚¬μ‹ /home/team01μ„ μ‚¬μ©ν•μ§€ λ§κ³  λ‹¤λ¥Έ λ°©λ²•μ„ μ΄μ©ν•λ‹¤.
# cp -r /etc/sysconfig ~team01

19. /test/file1μ μ©λ‰μ„ 0μΌλ΅ λ³€κ²½ν•λ‹¤.
# cat /dev/null > file1
# cp /dev/null file1
# > file1

20. dir2μ λ¨λ“  νμΌμ„ λ€μƒμΌλ΅ ν•λ‹¤. 
dir2μ μΌλ° νμΌ κ°μλ¥Ό ν™•μΈν•λ‹¤.
# find dir2 -type f | wc -l
dir2μ λ””λ ‰ν† λ¦¬ κ°μλ¥Ό ν™•μΈν•λ‹¤.
# find dir2 -type d | wc -l
dir2 λ‚΄μ λ§ν¬νμΌμ„ ν™•μΈν•λ‹¤.
# find dir2 -type l | wc -l
```
