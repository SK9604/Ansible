# 1주차

# QUESTION NO: 337

### 회사는 AWS Cloud 배포를 검토하여 적절한 권한이 없는 사람이 데이터에 액세스하지 못하도록 합니다. 솔루션 설계자는 열려 있는 모든 Amazon S3 버킷을 식별하고 S3 버킷 구성 변경 사항을 기록해야 합니다.
이를 위해 솔루션 아키텍트는 무엇을 해야 합니까?

**A. 적절한 규칙으로 AWS Config 서비스 활성화
B. 적절한 확인으로 AWS Trusted Advisor를 활성화하십시오.
C. AWS SDK를 사용하여 버킷 보고서를 생성하는 스크립트 작성
D. Amazon S3 서버 액세스 로깅을 활성화하고 Amazon CloudWatch Events를 구성합니다.**

- 키워드

    식별(identify)

- 답 : A
- 오답 정리

    B - Trusted Advisor는 식별할 수 있는 기능이 없다. (구성 로그 검사, 보안검사, 내결함성 검사는 가능)

    C - SDK로 S3 버킷을 모니터링하는 기능은 없다. (생성, 삭제, 구성변경 등 가능)

    D - CloudWatch 이벤트는 운영 변경 시 이를 알아차립니다. → 이미 열려있는 S3 버킷을 식별할 수 있는 능력이 없다. 서버 액세스 로깅은 기록만 담당한다.

- 서비스 정리

    **[AWS Config](https://aws.amazon.com/ko/config/)** : AWS 리소스 구성을 측정, 감사 및 평가할 수 있는 서비스입니다. Config는 AWS 리소스 구성을 지속적으로 모니터링 및 기록하고, 원하는 구성을 기준으로 기록된 구성을 자동으로 평가해 줍니다. Config를 사용하면 AWS 리소스 간 구성 및 관계 변화를 검토하고, 자세한 리소스 구성 기록을 분석하고, 내부 지침에 지정되어 있는 구성을 기준으로 전반적인 규정 준수 여부를 확인할 수 있습니다. 이에 따라 규정 준수 감사, 보안 분석, 변경 관리 및 운영 문제 해결 작업을 간소화할 수 있습니다.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8d818085-133b-4dee-863b-a5a5e9bb2c4c/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8d818085-133b-4dee-863b-a5a5e9bb2c4c/Untitled.png)

    **[AWS Trusted Advisor](https://aws.amazon.com/ko/premiumsupport/technology/trusted-advisor/)** : AWS 모범 사례에 따라 리소스를 프로비저닝하는 데 도움이 되도록 실시간 지침을 제공하는 온라인 도구입니다. Trusted Advisor는 AWS 인프라를 최적화하고 보안과 성능을 향상시키고 전체 비용을 절감하며 서비스 한도를 모니터링할 수 있습니다. 새 워크플로를 설정하든, 애플리케이션을 개발하든, 지속적인 개선의 목적으로 진행하든 상관없이, 정기적으로 Trusted Advisor에서 제시하는 권장 사항을 활용하면 솔루션을 최적으로 프로비저닝된 상태로 유지하는 데 도움이 됩니다.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93950817-dde0-4118-8795-1871f154cb32/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/93950817-dde0-4118-8795-1871f154cb32/Untitled.png)

    **AWS SDK** : Software Development Kit의 약자로 AWS를 프로그래밍적으로 제어하기 편리하도록 제공되는 라이브러리들을 의미합니다. 언어별로 다양한 라이브러리를 제공하고 있기 때문에 자신에게 맞는 라이브러리를 선택해서 사용할 수 있다.

    **[Amazon S3 서버 액세스 로깅](https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/ServerLogs.html)** : 버킷에 대해 이루어진 요청에 따른 상세 레코드를 제공합니다. 서버 액세스 로그는 많은 애플리케이션에 있어 유용합니다. 예를 들어 액세스 로그 정보는 보안 및 액세스 감사에 유용할 수 있습니다. 또한 고객 기반을 이해하고 Amazon S3 청구 비용을 파악할 수 있습니다.

    **[Amazon CloudWatch Events](https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html)** : AWS 리소스의 변경 사항을 설명하는 시스템 이벤트의 스트림을 거의 실시간으로 제공합니다. 신속하게 설정할 수 있는 단순 규칙을 사용하여 일치하는 이벤트를 검색하고 하나 이상의 대상 함수 또는 스트림으로 이를 라우팅할 수 있습니다. CloudWatch 이벤트는 운영 변경 시 이를 알아차립니다. CloudWatch 이벤트는 이러한 운영 변경에 응답하고, 환경에 응답하기 위한 메시지를 전송하고 함수를 활성화하며 변경을 수행하고 상태 정보를 기록하는 등 필요에 따라 교정 조치를 취합니다.

# QUESTION NO: 338

### 운영 팀에는 IAM 정책을 사용자에게 직접 적용해서는 안된다는 표준이 있습니다. 일부 신규 회원은 이 표준을 따르지 않았습니다. 운영 관리자는 연결된 정책이 있는 사용자를 쉽게 식별 할 수 있는 방법이 필요합니다.
이를 위해 솔루션 아키텍트는 무엇을 해야 합니까?

**A. AWS CloudTrail을 사용하여 모니터링
B. 매일 실행되는 AWS Config 규칙 생성
C. Amazon SNS에서 IAM 사용자 변경 사항 게시
D. 사용자 수정시 AWS Lambda 실행**

- 키워드

    식별(identify)

- 답 : B
- 오답 정리

    이미 IAM 정책이 적용되어 있는 사용자도 식별해야하는데 이 경우 어떤 이벤트가 발생하지 않으므로 이벤트가 발생해야 하는 모니터링 류는 문제의 답이 될 수 없다.

    따라서 A, C, D 모두 불가

- 서비스 정리

    **[AWS Config](https://www.notion.so/1-e06b5a74358041118a258f95b56911f2)**

    **[AWS CloudTrail](https://aws.amazon.com/ko/cloudtrail/)** : AWS 계정의 거버넌스, 규정 준수, 운영 감사, 위험 감사를 지원하는 서비스입니다. CloudTrail을 사용하면 AWS 인프라에서 계정 활동과 관련된 작업을 기록하고 지속적으로 모니터링하며 보관할 수 있습니다.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8386e28a-4ff2-41ce-b1be-b11af40f3173/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8386e28a-4ff2-41ce-b1be-b11af40f3173/Untitled.png)

    **[Amazon SNS](https://aws.amazon.com/ko/sns/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc)** : 애플리케이션 간(A2A) 및 애플리케이션과 사용자 간(A2P) 통신 모두를 위한 완전관리형 메시징 서비스입니다.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/597e916f-9970-48c9-a9ce-9e592848116b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/597e916f-9970-48c9-a9ce-9e592848116b/Untitled.png)

    **[IAM](https://aws.amazon.com/ko/iam/)** : 사용하면 AWS 서비스와 리소스에 대한 액세스를 안전하게 관리할 수 있습니다. 또한, AWS 사용자 및 그룹을 만들고 관리하며 AWS 리소스에 대한 액세스를 허용 및 거부할 수 있습니다.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5c9b98d8-9373-48e9-a752-32953d3320a2/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5c9b98d8-9373-48e9-a752-32953d3320a2/Untitled.png)

    **[AWS Lambda](https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/welcome.html)** : 서버를 프로비저닝하거나 관리하지 않고도 코드를 실행할 수 있게 해주는 컴퓨팅 서비스입니다.

# QUESTION NO: 339

### 솔루션 아키텍트는 사용자가 기본 웹 사이트를 사용할 수 없는 경우 백업 정적 오류 페이지로 연결되는 솔루션을 설계하고 있습니다. 기본 웹 사이트의 DNS 레코드는 도메인이 ALB (Application Load Balancer)를 가리키는 도메인 인 Amazon Route 53에서 호스팅됩니다.
솔루션 설계자가 변화와 인프라 오버 헤드를 최소화하면서 회사의 요구를 충족시키기 위해 사용해야 합니까?

**A. ALB를 원점 중 하나로 사용하여 Route 53 별칭 레코드를 Amazon CloudFront 배포에 지정한 다음 배포에 대한 사용자 지정 오류 페이지를 생성하십시오.
B. Route 53 액티브-패시브 페일 오버 구성 설정 Route 53 상태 확인에서 ALB 엔드 포인트가 비정상임을 확인하면 Amazon S3 버킷 내에서 호스팅되는 정적 오류 페이지로 직접 트래픽
C. 지연 시간 기반 라우팅 정책을 사용하도록 Route 53 레코드 업데이트 트래픽이 가장 반응이 빠른 엔드 포인트로 전송되도록 Amazon S3 버킷 내에 호스팅 된 백업 정적 오류 페이지를 레코드에 추가
D. ALB 및 정적 오류 페이지를 호스팅하는 Amazon EC2 인스턴스를 사용하여 Route 53 액티브-액티브 구성을 설정합니다. 엔드 포인트 Route 53은 ALB에 대한 상태 확인에 실패한 경우에만 인스턴스에 요청을 보냅니다.**

- 키워드

    기본 웹 사이트를 사용할 수 없는 경우, 인프라 오버 헤드 최소화 (어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리 등을 최소화)

- 답 : B
- 오답 정리

    사용자가 기본 웹 사이트를 사용할 수 없는 경우 → 500번대(서버 오류) 오류 (400번대는 클라이언트 오류)

    A - 이 경우 404 시나리오에서도 정적 오류 페이지로 라우팅되며 CF 배포 도입은 인프라 오버 헤드 최소화에 맞지 않는다.

    C - ???? / 지연 시간 기반 라우팅이 여러 AWS 리전에 리소스가 위치해 있어야 한다는 전제조건때문에 위 경우에 맞지 않은듯..?

    D - 액티브-액티브는 장애 조치 라우팅 정책이 아니다.

- 서비스 정리

    **[ALB (Application Load Balancer)](https://docs.aws.amazon.com/ko_kr/elasticloadbalancing/latest/application/introduction.html)** : 개방형 시스템 간 상호 연결(OSI) 모델의 일곱 번째 계층인 애플리케이션 계층에서 작동합니다. 로드 밸런서는 요청을 받으면 우선 순위에 따라 리스너 규칙을 평가하여 적용할 규칙을 결정한 다음, 규칙 작업의 대상 그룹에서 대상을 선택합니다. 애플리케이션 트래픽의 콘텐츠를 기반으로 다른 대상 그룹에 요청을 라우팅하도록 리스너 규칙을 구성할 수 있습니다. 대상이 여러 개의 대상 그룹에 등록이 된 경우에도 각 대상 그룹에 대해 독립적으로 라우팅이 수행됩니다. 대상 그룹 레벨에서 사용되는 라우팅 알고리즘을 구성할 수 있습니다. 기본 라우팅 알고리즘은 라운드 로빈입니다. 그 대신 최소 미해결 요청 라우팅 알고리즘을 지정할 수 있습니다.

    **[Route 53](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/Welcome.html)** : 가용성과 확장성이 우수한 DNS(도메인 이름 시스템) 웹 서비스입니다. Route 53을 사용하여 세 가지 주요 기능, 즉 도메인 등록, DNS 라우팅, 상태 확인을 조합하여 실행할 수 있습니다.

    **Route 53와 ALB** : 도메인 이름(예: www.example.com)을 컴퓨터를 사용하여 서로 연결해주는 숫자로 된 IP 주소(예: 192.0.2.1)로 변환하여 방문자를 안정적이며 비용 효율적으로 웹 사이트로 라우팅하도록 합니다. AWS는 로드 밸런서와 같은 사용자의 AWS 리소스에 URL을 배정합니다. 그러나 기억하기 쉬운 URL이 필요한 경우도 있습니다. 예를 들어 도메인 이름을 로드 밸런서로 매핑할 수 있습니다.

    **[Active-Active, Active-Passive](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/dns-failover-types.html)** : Route 53 상태 확인을 사용하여 액티브-액티브 및 액티브-패시브 장애 조치 구성을 구성할 수 있습니다. 장애 조치를 제외한 모든 라우팅 정책(또는 라우팅 정책의 조합)을 사용하여 액티브-액티브 장애 조치를 구성하고, 장애 조치 라우팅 정책을 사용하여 액티브-패시브 장애 조치를 구성합니다.

    **Active-Active** : 모든 리소스를 대부분의 시간 동안 사용 가능하도록 하려면 이 장애 조치 구성을 사용하십시오. 리소스를 사용할 수 없을 때는 Route 53이 비정상 상태임을 판별하여 쿼리에 응답할 때 그 리소스를 포함하지 않습니다. 액티브-액티브 장애 조치에서 동일한 이름, 동일한 유형(예: A 또는 AAAA) 및 동일한 라우팅 정책(예: 가중치 또는 지연 시간)를 보유한 모든 레코드는 Route 53이 이를 비정상으로 간주하지 않는 이상 활성 상태입니다. Route 53은 정상 레코드를 사용하여 DNS 쿼리에 응답할 수 있습니다.

    **Active-Passive** : 기본 리소스 또는 리소스 그룹이 대부분의 시간 동안 사용 가능하도록 하고 보조 리소스 또는 리소스 그룹은 기본 리소스가 사용 불가능할 경우를 대비해 대기 중에 있도록 하고 싶다면 이 장애 조치 구성을 사용하십시오. 쿼리에 응답할 때 Route 53은 정상적인 1차 리소스만을 포함합니다. 모든 1차 리소스가 비정상이라면, Route 53은 DNS 쿼리에 응답할 때 정상적인 2차 리소스만을 포함시키기 시작합니다.

    **[지연 시간 기반 라우팅 정책](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-latency)** : 여러 AWS 리전에 리소스가 있고 최상의 지연 시간을 제공하는 리전으로 트래픽을 라우팅하려는 경우에 사용합니다.

    **[Amazon EC2](https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/concepts.html)**
