# QUESTION NO: 371

### 한 회사가 AWS에서 온라인 마켓 플레이스 웹 애플리케이션을 실행합니다. 이
애플리케이션은 사용량이 많은 시간에 수십만 명의 사용자에게 서비스를 제공합니다. 이 회사는 수백만 건의 금융 거래에 대한 세부 정보를 여러 다른 내부 애플리케이션과 공유 할 수있는 확장 가능한 거의 실시간 솔루션이 필요합니다. 지연 시간이 짧은 검색을 위해 문서 데이터베이스에 저장하기 전에 중요한 데이터를 제거하기 위해 트랜잭션을 처리해야 합니다.
솔루션 설계자는 이러한 요구 사항을 충족하기 위해 무엇을 권장해야 합니까?

**A. 트랜잭션 데이터를 Amazon DynamoDB에 저장합니다. 쓰기시 모든 트랜잭션에서 민감한 데이터를 제거하도록 DynamoDB에서 규칙을 설정합니다. DynamoDB Streams를 사용하여 다른 애플리케이션과 트랜잭션 데이터를 공유합니다.
B. 트랜잭션 데이터를 Amazon Kinesis Data Firehose로 스트리밍하여 Amazon DynamoDB 및 Amazon S3에 데이터를 저장합니다. Kinesis Data Firehose와 AWS Lambda 통합을 사용하여 민감한 데이터를 제거합니다.다른 애플리케이션은 Amazon S3에 저장된 데이터를 사용할 수 있습니다.
C. 트랜잭션 데이터를 Amazon Kinesis Data Streams로 스트리밍합니다. AWS Lambda 통합을 사용하여 모든 트랜잭션에서 민감한 데이터를 제거한 다음 Amazon DynamoDB에 트랜잭션 데이터를 저장합니다. 다른 애플리케이션은 Kinesis 데이터 스트림에서 트랜잭션 데이터를 사용할 수 있습니다.
D. Amazon S3에 일괄 트랜잭션 데이터를 파일로 저장합니다. Amazon S3에서 파일을 업데이트하기 전에 AWS Lambda를 사용하여 모든 파일을 처리하고 민감한 데이터를 제거하십시오. 그런 다음 Lambda 함수는 Amazon DynamoDB에 데이터를 저장합니다. 다른 애플리케이션은 Amazon S3에 저장된 트랜잭션 파일을 사용할 수 있습니다.**

- 키워드

    거의 실시간, 확장 가능, 데이터베이스에 저장하기 전 중요데이터 삭제 처리

- 답 : `C`
- 오답 정리

    A,D - 거의 실시간 키워드에 적합하지 않음.

    B - Firehose는 DynamoDB에 데이터를 저장할 수 없다.

- 서비스 정리

    **[Amazon Kinesis Data Streams](https://docs.aws.amazon.com/ko_kr/streams/latest/dev/introduction.html#using-the-service)** : 대규모 데이터 레코드 스트림을 실시간으로 수집하고 처리할 수 있습니다. 여러 Kinesis Data Streams 애플리케이션이 스트림의 데이터를 소비할 수 있어 보관, 처리와 같은 여러 가지 작업이 동시에 개별적으로 이루어질 수 있습니다. 예를 들어, 두 애플리케이션이 같은 스트림에서 데이터를 읽을 수 있습니다. 첫 번째 애플리케이션은 실행 중인 집계를 계산하고 Amazon DynamoDB 테이블을 업데이트하며, 두 번째 애플리케이션은 데이터를 압축하여 Amazon Simple Storage Service(Amazon S3)과 같은 데이터 스토어에 보관합니다. 그러면 대시보드에서 최신 보고서를 만들기 위해 실행 중인 집계가 있는 DynamoDB 테이블을 읽습니다.

    **[Amazon Kinesis Data Firehose](https://docs.aws.amazon.com/ko_kr/firehose/latest/dev/what-is-this-service.html)** : 실시간 서비스를 제공하는 완벽하게 관리되는 서비스 데이터 같은 목적지로 Amazon Simple Storage Service (Amazon S3), Amazon Redshift, Amazon Elasticsearch Service (Amazon ES), Splunk는 Datadog, mongodb 및 New Relic을 비롯하여 지원되는 타사 서비스 제공업체가 소유한 사용자 정의 HTTP 끝점 또는 HTTP 엔드포인트입니다.

    **☝ Kinesis Data Streams Vs. Kinesis Data Firehose**

    **Streams** : 처리                                    **Firehose** : 저장

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5eb78119-111f-47fb-8b47-343e14578640/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5eb78119-111f-47fb-8b47-343e14578640/Untitled.png)

# QUESTION NO: 372

### 회사는 Amazon S3에 데이터를 저장해야 합니다. 규정 준수 요구 사항에 따르면 객체에 변경 사항이 있을 때 변경 사항이 있는 객체의 이전 상태를 보존해야 합니다. 또한 5 년 이상 된 파일에는 액세스 할 수 없지만 감사를 위해 보관해야 합니다. 솔루션 아키텍트가 가장 비용 효율적인 권장 사항은 무엇입니까?

**A. 거버넌스 모드에서 객체 수준 버전 관리 및 S3 Object Lock 활성화
B. 규정 준수 모드에서 객체 수준 버전 관리 및 S3 객체 잠금 활성화
C. 객체 수준 버전 관리 활성화 수명주기 정책을 활성화하여 5 년 이상 된 데이터를 S3 Glacier Deep Archive로 이동
D. 객체 수준 버전 관리 활성화 수명주기 정책을 활성화하여 5 년이 지난 데이터를 S3 Standard-infrequent Access (S3 Standard-IA)로 이동**

- 키워드

    변경 사항이 있는 객체의 이전 상태를 보존, 5년 이상 된 파일은 액세스 할 수 없지만 보관

- 답 : `C`
- 오답 정리

    5년이 넘어가면 따로 액세스 할 수 없는 공간에 보관 → 수명주기 정책 필요 → A,B 안됨

    D - Standard-IA는 액세스할 수 있다.

- 서비스 정리

    **[거버넌스 모드](https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/object-lock-overview.html#object-lock-retention-modes)** : S3 객체 보관 모드 중 하나. 특별한 권한이 없는 한 사용자는 객체 버전을 덮어쓰거나 삭제하거나 잠금 설정을 변경할 수 없습니다. 거버넌스 모드를 사용하면 대부분의 사용자가 객체를 삭제하지 못하도록 보호하지만, 필요에 따라 일부 사용자에게 보관 설정을 변경하거나 객체를 삭제할 수 있는 권한을 부여할 수 있습니다. 규정 준수 모드 보관 기간을 생성하기 전에 거버넌스 모드를 사용하여 보관 기간 설정을 테스트할 수도 있습니다.

    **[규정 준수 모드](https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/object-lock-overview.html#object-lock-retention-modes)** : S3 객체 보관 모드 중 하나. 규정 준수 모드로 보호된 객체 버전은 AWS 계정의 루트 사용자를 포함한 어떤 사용자도 덮어쓰거나 삭제할 수 없습니다. 규정 준수 모드에서 객체를 잠그면 보관 모드를 변경할 수 없으며 보관 기간을 줄일 수 없습니다. 규정 준수 모드는 보관 기간 동안 객체 버전을 덮어쓰거나 삭제할 수 없도록 합니다.
